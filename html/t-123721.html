<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="True moving particle superscope"><title>True moving particle superscope - AVS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-7','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"> <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"></noscript> <script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body style="display:none"><div class="container"><div class="row"><div class="dropdown pull-right"><button class="btn btn-link btn-sm dropdown-toggle" type="button" data-toggle="dropdown">Change style <span class="caret"></span></button><ul id="css-select" class="dropdown-menu" role="menu"><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">Default</a></li><li role="presentation" class="divider"></li><li role="presentation" class="dropdown-header">Bootswatch</li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/amelia/bootstrap.min.css">Amelia</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css">Cerulean</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css">Cosmo</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cyborg/bootstrap.min.css">Cyborg</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css">Flatly</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css">Journal</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css">Readable</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/simplex/bootstrap.min.css">Simplex</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/slate/bootstrap.min.css">Slate</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/spacelab/bootstrap.min.css">Spacelab</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css">United</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css">Yeti</a></li></ul></div></div><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-85.html">AVS</a></li><li class="active">True moving particle superscope</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=123721">True moving particle superscope</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">dirkdeftly</span><br></p><p class="post-time small text-muted">3rd February 2003 02:08 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content"><strong>True moving particle superscope</strong><br>Pretty self explanatory. I figured it out looking at UnConeD's physics demo...don't know if he posted it yet, but...anyway, it's fully tweakable, with size, speed, and decay variables :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">anubis2003</span><br></p><p class="post-time small text-muted">3rd February 2003 02:20 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Much nicer than the normal moving particle. Follows a bit more dynamic movement. I was thinking about making one too, but since you made it first, I guess i wont.:p</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">dirkdeftly</span><br></p><p class="post-time small text-muted">3rd February 2003 02:45 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Unfortunately it's about a couple thousand times slower than a regular moving particle a real estimate based on putting about 100 mp's in a preset by themselves - a rough one, but still...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Tuggummi</span><br></p><p class="post-time small text-muted">3rd February 2003 08:54 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Yup, it moves just as s**tty as the normal moving particle :p<br>But a good effort :up:<br><br>btw. You do realize that those who use moving particles most likely don't understand anything about ssc coding, and those who code ssc's are not interested in moving particles anymore? :blah: :blah:<br><br>Just imagine how many n00bs would love you if they would know about this superscope? Maybe you'll include it into the Primer 2 and then all the n00bs all over the world will be bowing before you :D</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Jaak</span><br></p><p class="post-time small text-muted">3rd February 2003 19:46 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">This is pretty pointless, the ssc is simple and yea U atero made it more simpel, why to make moving particle ssc if u can use just moving partycle :confused:...<br>OK, ok I just felt like bitching, its good ssc and now I know how moving partycel works, thanks Atero...<br><br>And Tuggummi have U ever looked at MIG-s presets... :p</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">dirkdeftly</span><br></p><p class="post-time small text-muted">3rd February 2003 20:40 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">as i said in #finnish-flash, the point is that moving particle isn't customizeable at all - can't do images w/out texer and even then you can't rotate them - and it's a really useful "general" effect. i'm working out making it 3D and making a decent camera movement that won't destroy the effect...keep yer pants on (please) :p<br>another thing is the movement is now tweakable. if you want a "ball-in-water" effect all you have to do is turn down speed, pdecay, and tdecay. if you wanted a bungee-cord effect, turn up speed and turn down dst and pdecay.<br>also, if you really wanted to you could pick apart and optimize the code to the point where you could have several of them bouncing off each other (if unconed ever gives us his global variables, of course)...<br>&lt;edit&gt; forgot to mention that you can now have dynamic coloring without having to use a dynamic u-tone effect list &lt;/edit&gt;</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">anubis2003</span><br></p><p class="post-time small text-muted">3rd February 2003 22:33 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">You don't need global variables to have them bounce off of eachother. It's just really difficult without them. Trust me, I've tried.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">jheriko</span><br></p><p class="post-time small text-muted">3rd February 2003 22:50 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">All of you out there dissing moving particle superscopes... I've been using them a lot recently, two presets in my next pack depend on them. I consider myself amongst "those who code ssc's"<br><br></p><blockquote>And Tuggummi have U ever looked at MIG-s presets...</blockquote>Jack, I think that was his point....</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">dirkdeftly</span><br></p><p class="post-time small text-muted">3rd February 2003 23:08 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">w3rd.<br><br>btw it does require global variables once you get more than about six. otherwise you overload the superscope and, well, bad things happen.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">anubis2003</span><br></p><p class="post-time small text-muted">3rd February 2003 23:11 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Yeah, true. Man it sucks overloading a SSC.:(</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">AVS Axer</span><br></p><p class="post-time small text-muted">5th February 2003 09:17 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">what was that about, "if unconed ever gives us his global variables"??</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">anubis2003</span><br></p><p class="post-time small text-muted">5th February 2003 12:10 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">He has developed a hack that allows him to use the spectrum data for storing whatever variables he wants. In this way, "global" variables can be used, but since it is a hack, and is still developmental he doesn't want to release them.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Tuggummi</span><br></p><p class="post-time small text-muted">5th February 2003 14:32 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Well i think we all use solid circle shapes, but when you make them rotate 3D or sync a couple of them to create a nifty pattern, is it really a moving particle anymore?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">dirkdeftly</span><br></p><p class="post-time small text-muted">5th February 2003 16:27 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">...yes. the point was to copy the movement, tug, not the exact render. as you said, it'd be pointless...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">anubis2003</span><br></p><p class="post-time small text-muted">5th February 2003 21:09 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">The moving particle SSC is great. Especially since it has so many customizations. Truly a wonderful particle.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">jheriko</span><br></p><p class="post-time small text-muted">5th February 2003 23:06 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Make each particle a moving sphere to make 3D particles... making them bounce off of each other shouldn't be to difficult either... I might give it a crack once I've finished J8. Its sounds like a good preset.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">anubis2003</span><br></p><p class="post-time small text-muted">5th February 2003 23:09 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Not hard??? It took me about four pieces of paper to get to the final solutions of 2-D collisions. Although, it can be done cheaply.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">jheriko</span><br></p><p class="post-time small text-muted">5th February 2003 23:33 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">normal=point of collision-&gt;centre of sphere/circle, the angle between the two normals is the angle that the velocity vector must be reflected through past the normal.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">anubis2003</span><br></p><p class="post-time small text-muted">5th February 2003 23:43 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">I think that might be what I did, but I'm not following exactly what you are saying. Check out my realballs.avs in the momentum question thread. The normal is the normalized distance between the two particles. You then have the tangential velocities, which are the same before and after the collision(assuming no spin). The normal velocities afterwards can be figured out using the law of conservation of momentum and kinetic energy(assuming a perfectly elastic collision). The final x and y velocities then have to be found.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">jheriko</span><br></p><p class="post-time small text-muted">5th February 2003 23:46 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">the whole momentum bit lost me... you shouldn't need to use momentum unless the particles are a different mass. Get the magnitude of the original velocity and then use its direction, reflected through the normal, and multiply each of the 2/3 components by the magnitude.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">anubis2003</span><br></p><p class="post-time small text-muted">5th February 2003 23:53 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">what do you mean by 2/3 components?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">dirkdeftly</span><br></p><p class="post-time small text-muted">6th February 2003 22:44 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">i think two of the three components, instead of all of them...or something.<br><br>btw jheriko, they don't have to be different mass, just moving at different speeds. when a bullet hits an apple, that bullet doesn't bounce back and hit the opposite wall :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">dirkdeftly</span><br></p><p class="post-time small text-muted">6th February 2003 22:47 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">grarg, i keep forgetting to post this. this is a bunch of synced rotating 3D moving particles, along with a static object to show the rotation. i don't really like it that much, but maybe someone out there can fixify it up...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">anubis2003</span><br></p><p class="post-time small text-muted">6th February 2003 23:27 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">I'm going to try to explain how it is done(this is for a generic collision in two dimensions, so certain optimizations can be made).<br>To start with, you must find the normal and tangential vectors for the collision. These vectors must be normalized(have a vector length of 1.0). First, you must find a vector from the center of ball A to the center of ball B.<br><b>N=B-A=(x02-x01,y02-y01)</b><br>Then you must normalize this vector by dividing it by the length of the vector(where |N| is the length of vector N).<br><b>n=N/|N|=(nx,ny)</b><br>The tangential axis t is perpendicular to n and can be found by rotating n by 90degrees. This can be easily done like this:<br><b>t=(-ny,nx)</b><br>Now that the normalized vectors are known, the components of the balls velocities can be converted to the n and t axes using the dot product(I'm going to use @ as the dot product).<br>Given:<br><b>vai=(vaix,vaiy)<br>vbi=(vbix,vbiy)</b><br>You can find the velocities in the n and t directions.<br><b>vain=vai@n=(vaix,vaiy)@(nx,ny)=vaix*nx+vaiy*ny<br>vait=vai@t=(vaix,vaiy)@(tx,ty)=vaix*tx+vaiy*ty<br>vbin=vbi@n=(vbix,vbiy)@(nx,ny)=vbix*nx+vbiy*ny<br>vbit=vbi@t=(vbix,vbiy)@(tx,ty)=vbix*tx+vbiy*ty</b><br>Note that these values are now scalars, not vectors. Now comes the part about momentum. I am using a coefficient of restitution(E), but for perfectly elastic collisions, E is 1. Also, optimizations can be made if the masses are the same(Just set them both to one and simplify).<br><b>vafn=(mb*vbin*(E+1)+vain*(ma-E*mb))/(ma+mb)<br>vbfn=(ma*vain*(E+1)-vbin*(ma-E*mb))/(ma+mb)</b><br>Now, since all of the force acts along the normal axis and none along the tangential axis, the tangential components will be the same before and after.<br><b>vaft=vait<br>vbft=vbit</b><br>Now the final velocities need to be rotated back into x and y components.<br><b><br>vafx=vafn*nx+vaft*tx<br>vafy=vafn*ny+vaft*ty<br>vbfx=vbfn*nx+vbft*tx<br>vbfy=vbfn*ny+vbft*ty</b><br>That's it! A big thanks goes out to Andre LaMothe for his book <i>Tricks of the Windows Game Programming Gurus</i> and my physics teacher Mr. Plucinski. I'll try to make a diagram if any of you feel like you need it.<br>P.S. Was this confusing? It was for me. Ask me if you have any questions.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" defer></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" defer></script><script type="text/javascript" src="../js/jquery.cookie.min.js" defer></script><script type="text/javascript" src="../js/scripts.js" defer></script></body></html>