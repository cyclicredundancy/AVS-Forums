<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="I really need help this time"><title>I really need help this time - AVS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-7','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"> <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"></noscript> <script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body style="display:none"><div class="container"><div class="row"><div class="dropdown pull-right"><button class="btn btn-link btn-sm dropdown-toggle" type="button" data-toggle="dropdown">Change style <span class="caret"></span></button><ul id="css-select" class="dropdown-menu" role="menu"><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">Default</a></li><li role="presentation" class="divider"></li><li role="presentation" class="dropdown-header">Bootswatch</li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/amelia/bootstrap.min.css">Amelia</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css">Cerulean</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css">Cosmo</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cyborg/bootstrap.min.css">Cyborg</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css">Flatly</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css">Journal</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css">Readable</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/simplex/bootstrap.min.css">Simplex</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/slate/bootstrap.min.css">Slate</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/spacelab/bootstrap.min.css">Spacelab</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css">United</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css">Yeti</a></li></ul></div></div><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-137.html">AVS Presets</a></li><li class="active">I really need help this time</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=157217">I really need help this time</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Jaak</span><br></p><p class="post-time small text-muted">22nd November 2003 20:38 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content"><strong>I really need help this time</strong><br>Ok, I have made a cool solid icosaherdon with phong lightning, but im having problems with the phong, it just isnt right... i hope that somebody can figure out what is wrong with it.<br>If you dont understand some part of the code just ask me, ill explain.<br><br>note that you need latest avs to run it... you can get it with winamp5<br>link: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?s=&amp;threadid=156829" target="_blank">http://forums.winamp.com/showthread....hreadid=156829</a><br><br>I hope someone can help me, phong amd blinn has allways been trouble to me :(<br><br>oh yea, Sidd gave me the idea (and bit of code) making solids like this, hes working on similar presets himself, so... little credit goes to Sidd</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">UIUC85</span><br></p><p class="post-time small text-muted">22nd November 2003 21:10 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Ummm... I'm not exactly sure about this, but isn't phong shading gonna be really slow in AVS? And considering the resolution wouldn't it just be better to use gouraud shading anyways? It'd be a lot faster. And considering the benefits of phong shading on a shape that has flat surfaces anyways...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Jaak</span><br></p><p class="post-time small text-muted">22nd November 2003 21:29 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">well, im getting 41-50 fps here, new avs is much much faster<br><br>I still need help :P havent figured it out myself</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Jaak</span><br></p><p class="post-time small text-muted">22nd November 2003 21:59 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Ok, here is new version of it, the phong is still not correct, i think, but code is more readlable and easily understandable... if you dont have the lates avs (from my link up there) you can just replace the invsqrt() with 1/sqrt() (but you still need pre)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">UnConeD</span><br></p><p class="post-time small text-muted">22nd November 2003 22:49 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">UIUC85: In old demo terms, phong refers to per-pixel lighting, like gouraud refers to vertex-interpolated lighting and lambert refers to flat shading.<br><br>In this case, Jack means the phong lighting model (which can be applied in any fashion), like the Blinn lighting model.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">sidd</span><br></p><p class="post-time small text-muted">23rd November 2003 01:25 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">:o<br><br>jeez... fuck man..i hadnt even finished this preset yet, not to mention posted it anywhere. You are the only one who had seen the idea.... Oh well, :(<br><br>If your going to do it, i dont see why you insist on phong lighting. You cant do much about having flat colored surfaces unles you draw the zigzags at parallel to all three edges. Right now you could only shade one way. Even shading by normals isnt really necessary, you could just take the average of the three points' z coord on each triangle, and it would look much nicer than it does now.<br><br>Also, when you are working with normals on triangles, its very important that you specify the points in a consistant order:<br><br></p><pre>
<code>A------B<br> \    /<br>  \  /<br>   \/<br>   C<br></code>
</pre><br>
      <br>
      if you use one formula to get all your normals, and you have specified some of your points clockwise (eg, A, then B, then C) and others anticlockwise, there is no way of telling whether you have the normal, or that backface normal. Which i suspect is why some of those faces look so funny.<br>
      <br>
      Or it could be just that your faces oscillate color even when the shape isnt rotating !??! :igor:<br>
      <br>
      Also, wheres the backface culling, i saved over 1/3 fps when i put mine in.<br>
      Since you have an even polyhedron, you can just get rid of all the faces that have a z midpoint of greater than zero. You can garauntee that on a shape like this one, those faces will be hidden.<br>
      use something like n=below((z1+z2+z3)*0.33,0)<br>
      for more crazy shapes, just use the normal. (only get it right)<br>
      <br>
      also.. you really should change n as the triangles get smaller, thats another huge place to find fps. Right now, you have n static so that it satisfies the biggest possible triangle on your shape.<br>
      Since you are going diagonal between two lines, you can set n to be some multiple of the leangth larger of those two line.<br>
      <br>
      attatched is my own abandoned idea.<br>
      I stopped working on it when i realised i would need arrays to make a single scope multi-polygon filler.
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">sidd</span><br></p>

      <p class="post-time small text-muted">23rd November 2003 01:37 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">:confused:<br>
      <br>
      //edit<br>
      sorry, i didnt notice your backface culling. Spread out over 3 lines :weird:</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jaak</span><br></p>

      <p class="post-time small text-muted">23rd November 2003 10:13 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">oh... sorry for posting this one here, but i really needed help with this one<br>
      but, like i now know (thanks to UCD) the icosahedron works like sphere does, so, i can get normal easily, vector between mid point of sphere and centre point of one edge, I think this way i dont have to specify the points in a consistant order, or do i?<br>
      If i still have to, then i dont know how i will do it, i prolly must write script that gives me all point coords for icosahedron, and i suck at coding (i mean, i havent even tryed to code :P)<br>
      <br>
      omg, a single scope multi-polygon filler, that would be so cool, i hope we get vectors with avs some day :)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jaak</span><br></p>

      <p class="post-time small text-muted">23rd November 2003 19:56 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">ok, i got this somewhat working, by displaying the normals and light point vectors, it works visualy but there is still some nasty bug in there, and this im unable to find :(<br>
      <br>
      here is best version so far</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Deamon</span><br></p>

      <p class="post-time small text-muted">24th November 2003 11:00 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">wow, I like this :) It looks impressive</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jaak</span><br></p>

      <p class="post-time small text-muted">24th November 2003 18:05 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">Ok, found one really really stupid mistake, I fixed it, now its looks better than before ;)<br>
      but im now having troubles with displaying normals (mx,my,mz) light point vectors (lvx,lvy,lvz) and point camera vectors (vox,voy,voz), if anyone can help me, let me know =)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jaak</span><br></p>

      <p class="post-time small text-muted">24th November 2003 18:06 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">:mad:</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
    </div>
  </div>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" defer></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" defer></script>
  <script type="text/javascript" src="../js/jquery.cookie.min.js" defer></script>
  <script type="text/javascript" src="../js/scripts.js" defer></script></body></html>