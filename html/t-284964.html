<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="expression evaluater in AVS source code"><title>expression evaluater in AVS source code - AVS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-7','auto');ga('send','pageview');</script><link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"></head><body style="display:none"><div class="container"><div class="row"><div class="dropdown pull-right"><button class="btn btn-link btn-sm dropdown-toggle" type="button" data-toggle="dropdown">Change style <span class="caret"></span></button><ul id="css-select" class="dropdown-menu" role="menu"><li><a href="#" rel="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">Default</a></li><li role="presentation" class="divider"></li><li role="presentation" class="dropdown-header">Bootswatch</li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/amelia/bootstrap.min.css">Amelia</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css">Cerulean</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css">Cosmo</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cyborg/bootstrap.min.css">Cyborg</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css">Flatly</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css">Journal</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css">Readable</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/simplex/bootstrap.min.css">Simplex</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/slate/bootstrap.min.css">Slate</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/spacelab/bootstrap.min.css">Spacelab</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css">United</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css">Yeti</a></li></ul></div></div><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-85.html">AVS</a></li><li class="active">expression evaluater in AVS source code</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=284964">expression evaluater in AVS source code</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">shreyas_potnis</span><br></p><p class="post-time small text-muted">14th January 2008 13:10 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content"><strong>expression evaluater in AVS source code</strong><br>Anyone knows how to use the expression evaluator in the AVS source code. Now that it is open source I can use it in my own code, right? Is there any other alternative?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Jaak</span><br></p><p class="post-time small text-muted">14th January 2008 14:29 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Depends on your needs.<br><br>If you don't need efficiency then the better alternative is to simply write your own evaluator. AVS script is so primitive that writing an evaluator (slow one) is almost trivial (parser might be little trickier).<br>If you want portability, then reusing AVS source code is not an option. The code is non-portable mess.<br><br>Only use AVS source if portability is not a concern and you really need the evaluator to be fast. But even then it might be easier to translate the script into some intermediate form (llvm, C--) and let the compiler do the optimization.<br><br>If you want to evaluate simple arithmetic expression... then really, write your own code. It should be well below 100 lines.<br><br>Anyways, you can reuse the AVS code quite freely, I think they use BSD 3 license.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">shreyas_potnis</span><br></p><p class="post-time small text-muted">14th January 2008 14:58 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">i wanted something similar to AVS, arithmetic expressions and simple functions. And I want it to be cross platform. When I checked out the evallib code I noticed it used windows.h<br>does anyone know any other alternative? should be in c++</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Jaak</span><br></p><p class="post-time small text-muted">14th January 2008 15:14 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Then, please, do not use AVS script syntax. You can do so much better than that.<br><br>There isn't really easy solution for you. I do not think that there is suitable scripting language already out there, so you probably have to implement your own. It's not that difficult if:<br>a) you don't use C/C++<br>b) efficiency is not a concern<br>c) language is simple enough<br><br>If you plan to stick with C/C++ then there are plenty of useful tools to help you. Take a look at yacc and bison. If you're comfortable with "modern" C++ then you should try Boost.Spirit.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">shreyas_potnis</span><br></p><p class="post-time small text-muted">14th January 2008 15:35 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">hey thanks!</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">jheriko</span><br></p><p class="post-time small text-muted">18th January 2008 16:21 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">make one. flex(the new yacc) and bison make it trivial<br><br>use c++ and function pointers, i have some examples both with and without flex and bison, i have one that builds some trivial .exes too... but clearly not developed enough to be of any value.<br><br>just to warn you though most alternatives out there are much better if you don't care about speed. python would be a good place to start if you just want to get stuff done... not necessarily done quickly.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Jaak</span><br></p><p class="post-time small text-muted">18th January 2008 17:27 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">I disagree, python doesn't have much advantage over C/C++ , especially if you're new to python.<br>All the cool kinds nowadays use OCaml (or other MLish language) to write compilers, interpreters and code analysis tools.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">jheriko</span><br></p><p class="post-time small text-muted">28th January 2008 10:24 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content"></p><blockquote><i>Originally posted by Jaak</i><br><b>I disagree, python doesn't have much advantage over C/C++ , especially if you're new to python.<br></b></blockquote>Erm... someone else already made an interpreter?<br><br>That makes it several orders of magnitude easier imo...</div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" defer></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" defer></script><script type="text/javascript" src="../js/jquery.cookie.min.js" defer></script><script type="text/javascript" src="../js/scripts.js" defer></script></body></html>