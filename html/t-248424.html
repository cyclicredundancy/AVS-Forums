<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Color mod code snippets"><title>Color mod code snippets - AVS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-7','auto');ga('send','pageview');</script><link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body style="display:none"><div class="container"><div class="row"><div class="dropdown pull-right"><button class="btn btn-link btn-sm dropdown-toggle" type="button" data-toggle="dropdown">Change style <span class="caret"></span></button><ul id="css-select" class="dropdown-menu" role="menu"><li><a href="#" rel="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">Default</a></li><li role="presentation" class="divider"></li><li role="presentation" class="dropdown-header">Bootswatch</li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/amelia/bootstrap.min.css">Amelia</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css">Cerulean</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css">Cosmo</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cyborg/bootstrap.min.css">Cyborg</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css">Flatly</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css">Journal</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css">Readable</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/simplex/bootstrap.min.css">Simplex</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/slate/bootstrap.min.css">Slate</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/spacelab/bootstrap.min.css">Spacelab</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css">United</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css">Yeti</a></li></ul></div></div><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-85.html">AVS</a></li><li class="active">Color mod code snippets</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=248424">Color mod code snippets</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">ASD5A</span><br></p><p class="post-time small text-muted">11th June 2006 12:24 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content"><strong>Color mod code snippets</strong><br>this thread should provide examples of code for the color mod.ape.<br><br><br><b>Per channel color reduction</b><br>init:<br>colred=[any value between 1 and 256]<br>colgreen=[any value between 1 and 256]<br>colblue=[any value between 1 and 256]<br><br>channel:<br>red=floor(red*colred)/(colred-1);<br>green=floor(green*colgreen)/(colgreen-1);<br>blue=floor(blue*colblue)/(colblue-1);</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Grandchild</span><br></p><p class="post-time small text-muted">11th June 2006 23:18 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">tip for many simple conversions in the CMF:<br>define red channel, and then assign 'red' to the other two channels.<br><br>a multiplier x3 can be just:<br></p><pre>
<code>red = red*3;<br>blue = red;<br>green = red;</code>
</pre><br>
      and it will be the same like<br>
      <pre>
<code>red = red*3;<br>blue = blue*3;<br>green = green*3;</code>
</pre><br>
      since the r,b and g values are equal each time [256 times that is] the level box is evaluated.<br>
      <br>
      <b>color edge</b> [a greyscale image needed for a 1-bit/b&amp;w color result]:<br>
      <pre>
<code>red = above(red,.5);<br>blue = red;<br>green = red;</code>
</pre><br>
      <br>
      <b>brighten image without clipping colors</b> [middle tones brightness]:<br>
      <pre>
<code>red = pow(red,x); // 0&lt;x&lt;1, the smaller the brighter<br>blue = red;<br>green = red;</code>
</pre>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Tuggummi</span><br></p>

      <p class="post-time small text-muted">12th June 2006 07:33 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">Intensify colors by multiplying a channel with 1+value and then subtract that same value.<br>
      <br>
      ie.<br>
      value=0.5 ;<br>
      red=red*(1+value)-value ;<br>
      <br>
      And so on for the rest of the channels. You can also use it in reverse (make the value a - one to get less intense colors all the way up where everything is just white)</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">PAK-9</span><br></p>

      <p class="post-time small text-muted">12th June 2006 13:24 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">I'm going to be pedantic and point out some of the correct terminology because people are using the wrong words:<br>
      <br>
      <b>Brightness</b> is an additive equation<br>
      e.g. red = red + 0.1<br>
      blue = blue + (-0.5)<br>
      <br>
      <b>Contrast</b> is a multiplicative equation<br>
      e.g. red = red * 1.1<br>
      blue = blue * 0.9<br>
      <br>
      <br>
      <b>Gamma</b> is an exponential equation<br>
      e.g. red = pow(red,3)<br>
      blue = pow(blue,0.9)<br>
      <br>
      <b>Intensity</b> is an energy measurement (energy flux/time) but it doesnt mean very much on computers. The closest actual image processing term is 'luminence' (as in Hue, Saturation and) Tuggs example is a contrast adjustment followed by a brightness reduction</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Tuggummi</span><br></p>

      <p class="post-time small text-muted">12th June 2006 13:39 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">And it makes the colors more intense.</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">PAK-9</span><br></p>

      <p class="post-time small text-muted">12th June 2006 17:34 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">I think it makes them more rubbery</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ASD5A</span><br></p>

      <p class="post-time small text-muted">12th June 2006 17:49 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content"><b>gradiation curve</b><br>
      this allows you to increase the contrast in middle tone or dark and bright areas.<br>
      linear curve:<br>
      <a href="http://img150.imageshack.us/img150/9653/linear5ai.th.jpg" target="_blank">http://img150.imageshack.us/img150/9...near5ai.th.jpg</a><br>
      curve with increased midtone contrast:<br>
      <a href="http://img297.imageshack.us/img297/8508/gradiationcurves8bn.th.jpg" target="_blank">http://img297.imageshack.us/img297/8...rves8bn.th.jpg</a><br>
      init or frame: midcon=[-1,1] //0=&gt;no changes<br>
      //below 0=&gt; low contrast in midtones<br>
      //above 0=&gt; high contrast in midtones<br>
      someval=pow(8,-midcon);<br>
      <br>
      channel: red=0.5*pow(abs(2*red-1),someval)*sign(2*red-1)+0.5;</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jheriko</span><br></p>

      <p class="post-time small text-muted">12th June 2006 18:34 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">Time independent fadeout effect. The line on frame, "f=pow(.8,30*dt);" sets the speed and curve of the fadeout, tweak the values of .8 between 0..1 and the 30 between 0..+inf to see how to use it...<br>
      <br>
      init:<br>
      lasttime=gettime(0);<br>
      <br>
      frame:<br>
      t=gettime(0);dt=t-lasttime;lasttime=t;<br>
      f=pow(.8,30*dt);<br>
      <br>
      level:<br>
      red=red*f;<br>
      blue=red;<br>
      green=red;</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ASD5A</span><br></p>

      <p class="post-time small text-muted">12th June 2006 18:57 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">here is a example of my midtone contrast color mod</p>
    </div>
    <hr>

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ASD5A</span><br></p>

      <p class="post-time small text-muted">12th June 2006 21:20 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content"><b>custom chrome effect triangle wave like</b><br>
      init: nc=[1-256 number of cycles]<br>
      <br>
      level: someval=floor(red*nc);<br>
      red=if(someval%2,1-(red*nc-someval),(red*nc-someval));<br>
      <br>
      <b>custom chrome effect sine wave like</b><br>
      init: nc=[1-256 number of cycles]<br>
      channel: red=0.5-0.5*cos(red*$pi*nc);</p>
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
    </div>
  </div>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="../js/jquery.cookie.min.js"></script>
  <script type="text/javascript" src="../js/scripts.js"></script></body></html>