<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Glass Cubes"><title>Glass Cubes - AVS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-7','auto');ga('send','pageview');</script><link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body style="display:none"><div class="container"><div class="row"><div class="dropdown pull-right"><button class="btn btn-link btn-sm dropdown-toggle" type="button" data-toggle="dropdown">Change style <span class="caret"></span></button><ul id="css-select" class="dropdown-menu" role="menu"><li><a href="#" rel="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">Default</a></li><li role="presentation" class="divider"></li><li role="presentation" class="dropdown-header">Bootswatch</li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/amelia/bootstrap.min.css">Amelia</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css">Cerulean</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css">Cosmo</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cyborg/bootstrap.min.css">Cyborg</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css">Flatly</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css">Journal</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css">Readable</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/simplex/bootstrap.min.css">Simplex</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/slate/bootstrap.min.css">Slate</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/spacelab/bootstrap.min.css">Spacelab</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css">United</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css">Yeti</a></li></ul></div></div><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-137.html">AVS Presets</a></li><li class="active">Glass Cubes</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=130235">Glass Cubes</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Raz</span><br></p><p class="post-time small text-muted">30th March 2003 02:35 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content"><strong>Glass Cubes</strong><br>Well this had the potential for greatness but that collapsed when i realised the major problem. I was originally making a glass rubix cube with 27 separate cubes out of translucent sides using the bnot function but after making 5 i realised it had a tremendouslylow FPS. This is what i stuck with eventually but the FPS is utter shite. I might just scrap it on the grounds that FPS is greatly important. What do you think?<br><br>edit: just did this at 2am, realised some wstupid things i did, will change attatchment/repost it very soon.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">UnConeD</span><br></p><p class="post-time small text-muted">30th March 2003 02:45 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">You could calculate the 'n' value of the scopes dynamically so only the minimum points required is used... oh and why are you using all those effect lists? They are a source of slowdown too.<br><br>Oh and use the correct aspect ratio! Your scopes all look squashed in a rectangular window.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">anubis2003</span><br></p><p class="post-time small text-muted">30th March 2003 03:00 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">I think it looks nice, but it is extremely slow.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Raz</span><br></p><p class="post-time small text-muted">30th March 2003 03:12 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">I managed to drag up the FPS quite a bit and made it look even better. I've yet to optimise the code don't worry it will get done. It has that awful "monster" for the 3d rotation in x and y and i've yet to fix aspect ratio. The effect is there though. Fix the code tomorrow need sleep now.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">anubis2003</span><br></p><p class="post-time small text-muted">30th March 2003 03:22 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Yeah, the code could definitely use some optimizations. Take out the effect lists and all but one of the render modes(at the beginning). Also, I would try doing the "lighting" a bit better.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Zevensoft</span><br></p><p class="post-time small text-muted">30th March 2003 06:49 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">This may be of help.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">dirkdeftly</span><br></p><p class="post-time small text-muted">30th March 2003 08:26 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">unconed...please...please...please...please...stop bitching about aspect ratios. if it's not fixed by the time the pack is released, then you can bitch. otherwise <b>STFU N00B</b></p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">shreyas_potnis</span><br></p><p class="post-time small text-muted">30th March 2003 10:36 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">raz..what kinda pc do you have, a SUPER COMPUTER?<br>i dont get even 4 fps on my pc!<br>please remove all those effect lists with the input/output both set to replace</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Zevensoft</span><br></p><p class="post-time small text-muted">30th March 2003 13:44 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Atero, did you even LOOK at my sexy 3x3x3 glass cube?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">UnConeD</span><br></p><p class="post-time small text-muted">30th March 2003 14:25 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Atero: here's the deal... I fire up the preset, notice the squashed rotation immediately and it looks ugly to me. I didn't even look at the code.<br><br>It takes 5 seconds to fix this and it ruins a preset for me. Just like bouncy camera movement or scopes that are unnecessarily repetitive and or restricted (like using sin(t) and cos(t) for two rotation angles).<br><br>Maybe I'll do a grep 'Atero getosc rand %' and see how much comes up?</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">UnConeD</span><br></p><p class="post-time small text-muted">30th March 2003 14:43 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">I suppose this is an error?<br>z3=z2*(cos(xx))-y2*(sin(xx));<br>y3=y2*(cos(xx))+z2*(sin(x<u>z</u>));</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">UnConeD</span><br></p><p class="post-time small text-muted">30th March 2003 14:49 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Used a hexeditor to remove some inefficiencies (fixed the x/y calculation and cached the cosines/sine). Et voilà: the preset goes from 13.4 FPS to 18.4 here.<br><br>Raz is lucky all the scopes are nearly the same, so he could simply optimize one and duplicate it around the place, but still it's best to optimize a bunch of nearly-identical scopes from the beginning.<br><br>(ignore the £---;, it's there to preserve the length of the code)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Raz</span><br></p><p class="post-time small text-muted">30th March 2003 15:42 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Wow, thanks man. I just finished doing near enough the exact same thing though with the sin's and cos's, jesus i've even used the same variable names for them. maybe ive been staring at your code in wonder too long. You've done the x and y thing differently though and i'm going to presume your way is better so i'll probably combine some things from my way and yours. Thanks a lot though, great optimisations.<br><br>this is what i did:</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">anubis2003</span><br></p><p class="post-time small text-muted">30th March 2003 16:11 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">I thought one of you would do this, but yyy and zzz aren't used and they can be removed. Don't know how big of a difference it will make FPS-wise, but it could help</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Raz</span><br></p><p class="post-time small text-muted">30th March 2003 17:31 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Now this, i love. It brings the FPS down again a little but it also turns it into a preset and not an idea. I've done a shit-ton of optimising and here it is:</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">anubis2003</span><br></p><p class="post-time small text-muted">30th March 2003 17:41 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">That's nice, but it is a tad slower.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">mikm</span><br></p><p class="post-time small text-muted">30th March 2003 19:39 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">I like it, but it looks a little to chaotic and fast at times. To me, the silvery ones look better. The glassy one looks wierd at times.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">dirkdeftly</span><br></p><p class="post-time small text-muted">30th March 2003 19:57 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">no i didn't, cos i was on my uberuberubershitty computer, and seeing as how slow everybody said it was, i wasn't even going to fuck with it.<br><br>but i'll look at it now...<br><br>as for the look: i think you should be rendering each scope w/maxblend, but adding them to the rest of the picture:<br>EL (ignore, additive)<br>.render mode: maxblend<br>.superscope<br>EL (ignore, additive)<br>...<br>haven't tested it yet, but it's worth a try. the cubes should also change color. lastly: don't use straight up getosc for syncing! use something like (getosc(...)*bignumber)%returns as a replacement for rand(returns).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">UnConeD</span><br></p><p class="post-time small text-muted">30th March 2003 21:09 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Hate to sound nasty, but it's still inefficient... divisions are slower than multiplications. So:<br><font face="courier new"><br>iz=(1+(5+z3)*0.3);<br>x=x3/iz;<br>y=y3/iz*(w/h);</font><br><br>can be changed into:<br><font face="courier new"><br>iz=0.3/(8+z3);<br>x=x3*iz;<br>y=y3*iz*(w/h);</font><br><br>Oh and you should store w/h into some variable onframe, so you lose that division too. Remember that this stuff is being executed for every point (a couple hundred times), so small optimizations in per-point can make a huge difference!<br><br>About your 3D scope code... I wonder why you divide z3 by 3. This has the effect of zooming in on the picture (reducing the camera angle) and makes everything looks flatter. Check out the attachment (note: I'm editing, attachment will be in next post), where I quickly modified your preset so it has a normal, 90° field-of-view. Notice how there is much more depth-perception. Anyway you might've done this on purpose, I don't know.<br><br>As for the preset, I like the looks, but you should play with it some more. How about you make every cube-surface light on/off onbeat, perhaps in a certain color? Because the cubes are glass, the incorrect depth occlusion won't matter much.<br>The edges are a nice touch, but the color changes are hardly noticable.<br>Oh and if you have really loud music, the movement goes pretty nuts: try playing with it some more so it moves at a more constant speed. You can use <font face="courier new">getspec(0,0,0)</font> as a volume indicator, especially when averaged over time (<font face="courier new">vol=vol*.9 + getspec(0,0,0)*.1</font> or something)<br><br>I ridiculed Atero's nagging a bit, but it's valuable nevertheless. Using a regular getosc for responsiveness makes you preset respond to only one sample of sound. This is good if all you want is a random-ish number, but not for variables such as rotation and speed, because they'll be too chaotic.<br><br>The best way to learn this kind of stuff is to make a moving-particle-like scope. Try making a dot that moves around at constant speed towards a random point, or one that accelerates and slows down in accordance with the beat.<br><br>Sometimes, the most important dimension in a preset is time: if a preset doesn't 'flow' nicely, it won't matter how it looks.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">UnConeD</span><br></p><p class="post-time small text-muted">30th March 2003 21:24 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">(Attachment for post above)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Pixelcraft</span><br></p><p class="post-time small text-muted">30th March 2003 21:34 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Looks great. I like how the central cube that faces the screen is brighter than the cubes on the other sides. Good job Raz,UnConeD and other "remixers.":up:</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Raz</span><br></p><p class="post-time small text-muted">30th March 2003 22:02 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Hmm, i'd forgotten about that thanks. I originally did it because i thought it would look too much like my electric cube preset because i started with the same rotations and then modified them so that the z axis was smaller. I divided it by something smaller and additive blended things. Here's what i got now<br><br>btw thanks for all your help and comments everyone. You're all great :up:</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Pixelcraft</span><br></p><p class="post-time small text-muted">30th March 2003 23:44 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Wow, even better.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Phaze1987</span><br></p><p class="post-time small text-muted">31st March 2003 09:30 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Hah! Sweet preset(s) ! Raz I WANT YOUR PACK !</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">shape</span><br></p><p class="post-time small text-muted">31st March 2003 17:58 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">I optimize some there, get 60fps in docked...<br>optimized points num,<br>optimized rotation algorithm.<br>But my answer is late...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Raz</span><br></p><p class="post-time small text-muted">31st March 2003 18:14 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">thanks man, great optimisations. I'd already done the cos and the sin thing but i hadn't done the n optimisations. Thanks :up:</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">unripeLemon</span><br></p><p class="post-time small text-muted">31st March 2003 19:38 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">:eek: God, it is slow. On my computer it's 1 frame per second</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Raz</span><br></p><p class="post-time small text-muted">31st March 2003 19:46 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">I have the tossest of computers and it runs at 13 with all the optimisations that i've done but not posted.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">unripeLemon</span><br></p><p class="post-time small text-muted">31st March 2003 19:53 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">I think that this post has had the most exchange of presets I have ever seen!</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script type="text/javascript" src="../js/jquery.cookie.min.js"></script><script type="text/javascript" src="../js/scripts.js"></script></body></html>