<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Music Analyzers" />

  <title>Music Analyzers - AVS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.2/readable/bootstrap.min.css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body style="display:none">
  <div class="container">
    <div class="row">
        <div class="dropdown pull-right">
          <button class="btn btn-link btn-sm dropdown-toggle" type="button" data-toggle="dropdown">
            Change style
            <span class="caret"></span>
          </button>
          <ul id="css-select" class="dropdown-menu" role="menu">
            <li><a href="#" rel="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">Default</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation" class="dropdown-header">Bootswatch</li>
            <li><a href="#" rel="//netdna.bootstrapcdn.com/bootswatch/3.0.2/amelia/bootstrap.min.css">Amelia</a></li>
            <li><a href="#" rel="//netdna.bootstrapcdn.com/bootswatch/3.0.2/cerulean/bootstrap.min.css">Cerulean</a></li>
            <li><a href="#" rel="//netdna.bootstrapcdn.com/bootswatch/3.0.2/cosmo/bootstrap.min.css">Cosmo</a></li>
            <li><a href="#" rel="//netdna.bootstrapcdn.com/bootswatch/3.0.2/cyborg/bootstrap.min.css">Cyborg</a></li>
            <li><a href="#" rel="//netdna.bootstrapcdn.com/bootswatch/3.0.2/flatly/bootstrap.min.css">Flatly</a></li>
            <li><a href="#" rel="//netdna.bootstrapcdn.com/bootswatch/3.0.2/journal/bootstrap.min.css">Journal</a></li>
            <li><a href="#" rel="//netdna.bootstrapcdn.com/bootswatch/3.0.2/readable/bootstrap.min.css">Readable</a></li>
            <li><a href="#" rel="//netdna.bootstrapcdn.com/bootswatch/3.0.2/simplex/bootstrap.min.css">Simplex</a></li>
            <li><a href="#" rel="//netdna.bootstrapcdn.com/bootswatch/3.0.2/slate/bootstrap.min.css">Slate</a></li>
            <li><a href="#" rel="//netdna.bootstrapcdn.com/bootswatch/3.0.2/spacelab/bootstrap.min.css">Spacelab</a></li>
            <li><a href="#" rel="//netdna.bootstrapcdn.com/bootswatch/3.0.2/united/bootstrap.min.css">United</a></li>
            <li><a href="#" rel="//netdna.bootstrapcdn.com/bootswatch/3.0.2/yeti/bootstrap.min.css">Yeti</a></li>
          </ul>
        </div>
    </div>

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-137.html">AVS Presets</a></li>

      <li class="active">Music Analyzers</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=282442">Music Analyzers</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">AJ Sindri</span><br /></p>

      <p class="post-time small text-muted">1st December 2007 05:01 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content"><strong>Music Analyzers</strong><br />
      I've been making a few music analyzers: a bar for waveform, a movement (explain later) for the spectrum and a remix of each.<br />
      <br />
      Bar Analyzer:<br />
      This was originally going to be for a windows media player clone I was making for WinAmp, but I have abandoned that project because the visuals on media player are horrible. Out of the entire pack, this preset is the best. Each bar is the waveform band 1/50 to 50/50. Using the floor function, each peak indicator is raised up to the height of the bar and an if statement resets the gravity acceleration to 0. This preset works perfectly except the lines dividing the bar are not evenly spaced at certain resolutions.<br />
      <br />
      Spectrum Analyzer:<br />
      Instead of having an object that changed its shape based on the spectrum data (like a superscope) I used the following equation in the dynamic movement:<br />
      y=y+abs(getspec(abs(x*.65),0,if(above(x,0),2,1)))/10<br />
      The closer to the y axis, the higher the pitch is and the farther toward the edge, the lower the pitch is. The if statement corresponds the left side of the preset to the left speaker and visa versa. Using the fadeout, the longer a pixel exists, the fainter it becomes. The gray scale is mapped into color using the colormap; yellow is the spectrum data and blue is the average of the spectrum data. I hope you like it.<br />
      <br />
      Fire Analyzer:<br />
      The fire analyzer takes the spectrum analyzer a step farther and maps the oscope data in 2 directions. (the base equation):<br />
      y=y+getosc((x+1)/4,0,0)/10;<br />
      x=x+getosc((y+1)/4+.5,0,0)/10;<br />
      This preset is a visual expression of the shape of the wave form data; a flute would make smooth fire while heavy metal makes twitchy fire. Soft music makes a candle and loud music make a fireplace effect. What Iâ€™d really like to do is record the spectrum data every beat and transition from one beat to the next. Another goal is to create dynamic smoke. If you have any ideas on how I could improve any of the preset, please leave a comment.<br />
      Enjoy! :D</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">PAK-9</span><br /></p>

      <p class="post-time small text-muted">1st December 2007 21:01 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">This is pretty good for a fresh face (most people come up with some truly awful first presets)<br />
      <br />
      My only advice at this stage would be to look at optimising, for example your bars presets use texers which is a very expensive way of rendering lines. You are given a line renderer (ssc) so why not use it(!) You can also consolidate all of the lines into just one looped ssc, which is a lot less effort than duplicating lots of individual effects (I bet you got sick of that pretty quickly huh?) I have attached a preset which is a very simple example of how to do bars like yours with a superscope.<br />
      <br />
      You might want to look at the programming guide (see tutorials thread) for some more tips, but you seem to have a grasp of the avs language so you may prefer to just learn for yourself :)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">AJ Sindri</span><br /></p>

      <p class="post-time small text-muted">3rd December 2007 04:03 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content"><strong>Wow...</strong><br />
      Thanks so much! This was exacly what I was looking for. Your version run about 15 times faster than my original. It will take some time for me to be able to code loops in WinAmp, but I get the concept. I'm glad that I can't make an infinite loop (I crash my computer enough as it is).<br />
      <br />
      Would using triangles help the fps?<br />
      Is the megabuff trans-scc, meaning can I set the megabuff in the first scope and use it in later scopes?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">PAK-9</span><br /></p>

      <p class="post-time small text-muted">3rd December 2007 21:14 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">Triangles wouldnt really help, line drawing algorithms are faster than triangle rasterising algorithms (although tomy's ape is very fast). The megabuf is not accessable between effects, the gmegabuf however, is.<br />
      <br />
      I am going to point you here:<br />
      <br />
      <a href="http://pak-9.deviantart.com/art/AVS-Programming-Guide-11200891" target="_blank">http://pak-9.deviantart.com/art/AVS-...Guide-11200891</a><br />
      <br />
      for more programming advice, since its basically what I would say anyway.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Nanakiwurkz</span><br /></p>

      <p class="post-time small text-muted">3rd December 2007 22:38 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">again i'm wowed. Aj Sindri your what i would call the best noob around so far. better then me i'll admit.<br />
      <br />
      your spectrum analyser (fire) was really impressive. most realistic approach to a fire preset i've ever seen.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
    </div>
  </div><!-- Put JavaScript here -->
  <script type="text/javascript" src="//code.jquery.com/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="../js/jquery.cookie.min.js"></script>
  <script type="text/javascript" src="../js/scripts.js"></script>
</body>
</html>
