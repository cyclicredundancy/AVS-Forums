<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Questions about 3D." />

  <title>Questions about 3D. - AVS Forums</title>
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-7','auto');ga('send','pageview');</script>
  <!-- Bootstrap core CSS -->

  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body style="display:none">
  <div class="container">
    <div class="row">
        <div class="dropdown pull-right">
          <button class="btn btn-link btn-sm dropdown-toggle" type="button" data-toggle="dropdown">
            Change style
            <span class="caret"></span>
          </button>
          <ul id="css-select" class="dropdown-menu" role="menu">
            <li><a href="#" rel="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">Default</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation" class="dropdown-header">Bootswatch</li>
            <li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/amelia/bootstrap.min.css">Amelia</a></li>
            <li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css">Cerulean</a></li>
            <li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css">Cosmo</a></li>
            <li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cyborg/bootstrap.min.css">Cyborg</a></li>
            <li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css">Flatly</a></li>
            <li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css">Journal</a></li>
            <li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css">Readable</a></li>
            <li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/simplex/bootstrap.min.css">Simplex</a></li>
            <li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/slate/bootstrap.min.css">Slate</a></li>
            <li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/spacelab/bootstrap.min.css">Spacelab</a></li>
            <li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css">United</a></li>
            <li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css">Yeti</a></li>
          </ul>
        </div>
    </div>

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-139.html">AVS Troubleshooting</a></li>

      <li class="active">Questions about 3D.</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=210696">Questions about 3D.</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mIcrO_brAIn</span><br /></p>

      <p class="post-time small text-muted">17th March 2005 18:53 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content"><strong>Questions about 3D.</strong><br />
      Ok, so far I don't seem to be doing too bad about making a scope that jumps around, changes shape, etc. The problem however, is I have no idea how to make the scope itself 3D. I can throw in PAK_9's rotation matrix (which I don't really understand so if anyone would car to explain) but when it's rotating the image, at one point or another it will turn into a line because there's only two dimensions. How (or where) do I go about learning the 3D coding?<br />
      <br />
      I've managed to mess around and make a few things happen. Mostly that comes from just putting in random equations and divisions and seeing what pops out.<br />
      <br />
      Sorry for the noob question but I've been playing with this thing on my own for months now and can't figure it out.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">^..^</span><br /></p>

      <p class="post-time small text-muted">17th March 2005 22:56 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">Didn't you say that you used paks helpful programming guide? As far as i remember it explains pretty good what this rotation code does.<br />
      <br />
      However i try to explain it a bit:<br />
      Actually that code you mentioned isn't a matrix, but it's the code that you get when you work out 3 roation matrices. But let's go back a step. At first you calculate an object in 3 dimensions. Then that code rotates it around the x axis, then around y, then around z. If you are familiar with math a bit the code is not more than this:<br /></p>
      <pre>
<code><font size="3"><br />/ x1 \   / 1      0       0    \<br />| y1 | * | 0    cos(***945;) -sin(***945;) |<br />\ z1 /   \ 0    sin(***945;)  cos(***945;) / <br /><br />gives you:<br /><br />x2 = 1*x1 +   0*y1    +    0*z1  <br />y2 = 0*x1 + cos(***945;)*y1 + -sin(***945;)*z1<br />z2 = 0*x1 + sin(***945;)*y1 + cos(***945;)*z1<br /><br />or better:<br /><br />x2 = x1<br />y2 = cos(***945;)*y1 - sin(***945;)*z1<br />z2 = sin(***945;)*y1 + cos(***945;)*z1<br /></font></code>
</pre><br />
      <br />
      do you recognize it? This is done for the three rotations (x-,y-,z-axis).<br />
      <br />
      Afterwards you have to go back to 2D in order to render that object. Here you use the fact, that objects in further distance appear smaller. So you use the z-dimension as a size-parameter:<br />
      <pre>
<code><font size="3">x = x4 / (1+z4*0.5)<br />y = y4 / (1+z4*0.5)</font></code>
</pre><br />
      <br />
      Hope the mystery of 3D in AVS has been cleared up a bit more! If anything is unclear just ask again.
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mIcrO_brAIn</span><br /></p>

      <p class="post-time small text-muted">17th March 2005 23:28 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">Ok, the rotation made a little bit of sense before, and a lot now.<br />
      <br />
      But I'm still having an issue with making a scope itself 3D. I can rotate it in 3D, but the scope looks like a rotating plate.<br />
      <br />
      I'd like to learn how to make the actual scope itself 3D, then if necessary make it rotate in 3D.<br />
      <br />
      I'll attach an example of one of my rotating plates.<br />
      <br />
      While PAK_9 does a good job of explaining the rotation I didn't see (or maybe was just ignorant and didn't understand) a 3D scope.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">^..^</span><br /></p>

      <p class="post-time small text-muted">17th March 2005 23:36 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">well, your problem is quite simple: you didn't specify anything for your 3rd dimension. So you don't have a 3D but a 2D object. It's an 2D-slice that is rotated!<br />
      <br />
      In the beginning specify something for x1, y1 AND(!) z1</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mIcrO_brAIn</span><br /></p>

      <p class="post-time small text-muted">18th March 2005 00:38 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">I figured that much. I suppose learning what does what is a matter of math and some trial and error then huh?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">^..^</span><br /></p>

      <p class="post-time small text-muted">18th March 2005 00:47 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">yes and no. actually math isn't everything. You musn't forget to keep an eye on the appearance of the preset. But you're right: most stuff concerning coding has to do with math, so it was very helpful to be familiar with mathematics. You don't <i>have</i> to be good in here, but if you are it's a benfit for sure!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">mIcrO_brAIn</span><br /></p>

      <p class="post-time small text-muted">18th March 2005 04:18 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">Ok, so I've come up with a few half-ass scopes that I wanna play with. Right now I'm messin around with the dynamic movement but I can't get the effect I want.<br />
      <br />
      I'd like to have more of a camera angle that moves back and forth from one direction to another. But when I put in the lines of code that I think should work, the screen just goes blank on me. So, obviously, it doesn't work.<br />
      <br />
      I've got a picture being rendered to so I can see how the planes are moving in DM, here's what I've got in the frame:<br />
      <br />
      rotx=rotx+.01;<br />
      roty=roty+.01;<br />
      rotz=rotz+00;<br />
      <br />
      <b>rotx=if(above(rotx,.40),rotxb,rotx)</b><br />
      <b>rotxb=rotx-.01;</b><br />
      <b>rotxb=if(below(rotxb,-0.40),rotx,rotxb);</b><br />
      <br />
      crotx=cos(rotx);<br />
      srotx=sin(rotx);<br />
      croty=cos(roty);<br />
      sroty=sin(roty);<br />
      crotz=cos(rotz);<br />
      srotz=sin(rotz);<br />
      <br />
      I think the problem is in the bold, I was trying to have it reach .4, then start heading down to -.4 and head back up. I think there's probably some way to use the % in there but I'm not real informed on how it works.<br />
      <br />
      The part in point is this.<br />
      <br />
      x1=x;<br />
      y1=y;<br />
      z1=1;<br />
      <br />
      x2=x1*crotz-y1*srotz;<br />
      y2=x1*srotz+y1*crotz;<br />
      <br />
      x3=x2*croty+z1*sroty;<br />
      z3=-x2*sroty+z1*croty;<br />
      <br />
      y1=y2*crotx-z3*srotx;<br />
      z1=y2*srotx+z3*crotx;<br />
      <br />
      t=-oz/z1;<br />
      x=x3*t-ox;<br />
      y=y1*t-oy;<br />
      <br />
      alpha=z1;<br />
      <br />
      Yeah yeah, it's all taken from PAK_9. I'm just trying to take what he did, tweak with it and see how it works, then come up with something original.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">^..^</span><br /></p>

      <p class="post-time small text-muted">18th March 2005 10:50 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">that's just what i use to do either ;)<br />
      <br />
      well, perhaps you could post the complete stuff you used like:<br /></p>
      <pre>
<code><br />init:<br />blablabla<br /><br />frame:<br />...<br /><br />beat:<br />bla... bla<br /><br />pixel:<br />bla etc.<br /></code>
</pre><br />
      that would make it easier to reproduce the dm here. However, the easiest way to keep the variable in between max and min limits is via a pre-factor on sines/cosines. var1=sin(var2) always stays between -1 and 1, so var1=0.4*sin(var2) will always give a value between -0.4 and 0.4.<br />
      Your idea could perhaps work but is a bit complicated. On first sight the problem you have is here: rotxb=rotx-.01<br />
      If you do so, rotxb gives you rotx reduced by -0.01. But since you don't change rotx in any way, you will get the same value all the time. Spontaneously i don't know how to fix it, cause i would simply use a sin + a sizing factor like i said above. :)
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">PAK-9</span><br /></p>

      <p class="post-time small text-muted">18th March 2005 16:41 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">I dont know, you water it down and water it down, but people still cant fit it into their tiny brains.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jaak</span><br /></p>

      <p class="post-time small text-muted">18th March 2005 19:43 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content"></p>

      <blockquote>
        <i>Originally posted by mIcrO_brAIn</i><br />
        <b><br />
        Yeah yeah, it's all taken from PAK_9. I'm just trying to take what he did, tweak with it and see how it works, then come up with something original.</b>
      </blockquote>google and search forums for raytracing<br />
      <br />
      [edit]<br />
      cos it has been taught and tutorialized many times, no reason to do it again.<br />
      But before you start diggin' for raytracing make clear how camera and 3D rotation works :p
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jheriko</span><br /></p>

      <p class="post-time small text-muted">28th March 2005 03:35 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">want to make it easy on yourself? start with 3d superscopes and get to grips with 3d space and projection. you will then find it easier to learn raytracing since vectors and rays won't be so abstract, you might even come to the conclusion of how to do it for yourself. raytracing anything in avs requires a pretty good knowledge of 3d geometry if you want to do anything not a(two) plane(s). even people like PAK-9 and UnConeD dodge using raytraced DMs and use elaborate hacks instead (see UCD - Mission to Mars/Retrosquares, PAK-9 - Tubular/Containment Breach for some good examples), because its easier and sometimes faster when you want to create a complicated terrain/shape.<br />
      <br />
      Seriosuly though... start with superscope and get really used to it. make all sorts of parametric 'sphere thingies' and point to point wireframe models. thats how i started.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
    </div>
  </div><!-- Put JavaScript here -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="../js/jquery.cookie.min.js"></script>
  <script type="text/javascript" src="../js/scripts.js"></script>
</body>
</html>
