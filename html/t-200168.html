<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Making a game with AVS"><title>Making a game with AVS - AVS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-7','auto');ga('send','pageview');</script><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css" as="style" onload="this.rel='stylesheet'"> <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css"></noscript> <script>!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);</script></head><body style="display:none"><div class="container"><div class="row"><div class="dropdown pull-right"><button class="btn btn-link btn-sm dropdown-toggle" type="button" data-toggle="dropdown">Change style <span class="caret"></span></button><ul id="css-select" class="dropdown-menu" role="menu"><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">Default</a></li><li role="presentation" class="divider"></li><li role="presentation" class="dropdown-header">Bootswatch</li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/amelia/bootstrap.min.css">Amelia</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css">Cerulean</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css">Cosmo</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cyborg/bootstrap.min.css">Cyborg</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css">Flatly</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css">Journal</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css">Readable</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/simplex/bootstrap.min.css">Simplex</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/slate/bootstrap.min.css">Slate</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/spacelab/bootstrap.min.css">Spacelab</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css">United</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css">Yeti</a></li></ul></div></div><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-85.html">AVS</a></li><li class="active">Making a game with AVS</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=200168">Making a game with AVS</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Xerol</span><br></p><p class="post-time small text-muted">25th November 2004 03:17 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content"><strong>Making a game with AVS</strong><br>I was playing <a href="http://www.asahi-net.or.jp/~cs8k-cyu/windows/tt_e.html" target="_blank">this game</a> and was reminded of a few presets. And I got to thinking how cool it would be if you could actually play a game with AVS. Got a few questions first:<br><br>-How "good" is the keyboard input? Is there too much latency/inaccuracy to make an effective game?<br>-Is there a better way to store data between frames than megabuf? I've heard its slow, and if the keyboard input isn't too great, we'd need to get as much speed as possible, plus I'm looking to store a LOT of data.<br><br>What I was thinking is, you just piloted a ship down the tube, dodging the walls. The shapes of the walls are dictated by the music, and score is kept based on how fast you're going, with points being deducted for collisions. If anyone would like to help me out on this project, I'd appreciated it.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Warrior of the Light</span><br></p><p class="post-time small text-muted">25th November 2004 11:05 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">The problem with keyboard input is that a lot of keys are already in use by WA itself, which includes the arrrow-keys.<br>ASDW cannot be used either as S toggles the shuffle function. Mouse input (x,y coördinates) works great, but the left mouse button throws you out of fullscreen if you want to play in fullscreen. I've had an attempt to create AVScad once, there I used the mouse coördinates combined with unused keys (crtl mainly for drawing a line). You need two hands for it, but it's a good work-around.<br><br>megabuf isn't global, gmegabuf is; just as variables reg00, reg01 .. reg99. not sure what's faster though. gmegabuf in itself is faster, but often used with loops and stuff which make it slower again..<br><br>//edit: yay! this is my 500th post! I'm a 'major dude' now! (not that I care, but I thought: let's mention it:))</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Yathosho</span><br></p><p class="post-time small text-muted">25th November 2004 15:40 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">ooh nice game. too bad one can't disable the music.<br><br>edit: ah, i can replace it :D</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Xerol</span><br></p><p class="post-time small text-muted">25th November 2004 16:08 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Hm. Maybe you could just use the mouse to steer, and two vertically adjacent keys on the keyboard to accelerate/decelerate.<br><br>Anyway, I'd like to collaborate with someone on this project, since it might get a little hairy at times. The whole thing could probably be done with one superscope to render the tube, and a couple others to put objects in, and several render/texts to display score &amp; such. Anyone know the range of values that (g)megabuf can take? or regxx, for that matter.<br><br>What's wrong with the music? :(</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">S-uper_T-oast</span><br></p><p class="post-time small text-muted">25th November 2004 16:10 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">I'm playing that game, it's mad fun!<br><br>You can make games in AVS, but they are greatly limited by the things already mentioned.<br><br>/edit-When did I become a major dude? I didn't even notice...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Xerol</span><br></p><p class="post-time small text-muted">25th November 2004 18:00 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">I like a challenge :D That's the whole point behind this 'project'.<br><br>Also, I've been thinking of how to render the 'tube' as a wireframe. It'd be most efficient if it was all rendered as one continuous line, but directly rendering each gridline results in a lot of overlap. I was thinking of doing something like this:<br><br>|_|-|_|-|_|<br><br>(I'll be damned if I can remember what the ASCII code for the Overscore is.)<br><br>For each 'ring'. The only missing lines would be on the first and last rings. Also, since it's a closed ring, the jumps between rings will be smooth.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Tuggummi</span><br></p><p class="post-time small text-muted">25th November 2004 18:19 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">[offtopic]<br>Congrats WoTL!<br>It has been a while since someone "upgraded" around here :D I remember in the begining everyone was posting like mad and everyone was congratulating each other for senior member, major dude, forum king... *sigh* I kinda miss that silly tradition :p<br>[/offtopic]<br><br><br><br>Anyway, Making AVS-games like you said xerol, is very <b>very hairy</b> business indeed. Just the sheer ammount of code for example collision detection is mind boggling (just a reference). I have made one AVS game though, which im quite happy of: <a href="http://www.deviantart.com/deviation/9704351/" target="_blank">Kill Visbot</a>. Tho, don't take it as a example of how you should do things, it's very badly coded.<br><br>But all in all, it's not impossible to make good or even enjoyable games in AVS, but takes a lot of time, effort, skill and you need to squeeze every last drop of fps you can get from it.<br><br>Wish you luck :)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">PAK-9</span><br></p><p class="post-time small text-muted">26th November 2004 07:02 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">The keyboard input 'feature' (where wa uses most of the keys already) is by far the most annoying of all the problems, personally I only ever use the mouse for input.<br><br>The 'hairyness' isn't really a problem if your a competant coder and you make sure you keep your code very tidy. Although I would strongy advise against it unless you have a fair bit of experience coding in AVS. Realistically there are only a dozen or so people I can think of who could pull off something as complicated as that game you linked to.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">^..^</span><br></p><p class="post-time small text-muted">26th November 2004 22:29 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">this game you linked to is awesome, and addictive ;). But i also have the feeling that making a game like this with avs is <b>very</b> hard. (and never contradict the experts ;)). But has it to be a such a demanding game? O.K, its very funny &amp; full of speed % looks very nice. But i remember a funny "click and clear" game made by m²k, i found some time ago.<br>It was a contribution to a "mouse-controlled-preset" competition here in the forums: some guy offered money for the two best mouse or kb controlled presets (but no one ever saw a buck). I still like to play this game sometimes.<br><br>//btw am i allowed to post that particular preset here as an attachment? Or would i have to ask the author for permission? Just wanted to clear off the legal situation before...</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Xerol</span><br></p><p class="post-time small text-muted">26th November 2004 23:58 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Well, I wasn't going to make it as complex. It was just going to be a simple race-through-the-tube game, and you have to avoid colliding with the walls. Use the mouse to point the ship, and two keys on the keyboard for accel/decel. The only objects to be rendered are the ship and the tube(there was this one visualisation, it was a roller coaster track(sorry for not remembering who it was), shouldn't be too hard to make something a little more involved).</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">S-uper_T-oast</span><br></p><p class="post-time small text-muted">27th November 2004 01:42 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Unconed made the roller coaster preset, and it is proabably one of the most complicated presets made. It has taken days for me to to dig through the code just to get a minor understanding of that preset.<br><br>It would be possible to make this tunnel game you are thinking about though. A superscope tunnel is not very hard to code, but the hard part will be making the ship move and interact with the enviornment. If you do plan to do it, I could help a little bit, but since I'm in school right now my time would be very limited.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Xerol</span><br></p><p class="post-time small text-muted">27th November 2004 02:08 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Well, here's how I was thinking of doing it:<br><br>Unfortunately, you really can't look ahead in the music(if you can, slap me) to construct the tunnel ahead of time. So, you'd just make the farthest ring in the tube be the latest music data.<br><br>Ok, lemme back up a tad. The entire track will be a closed torus, basically a cylinder with 360 rings connected end-to-end. Let's also say 30 subdivisions around each ring. The whole thing is aligned with the YZ plane.<br><br>Ok, so we've got 360 rings, the centers of which are along the circle r = oh, let's say ten. (Using informal math here :D ) Now, you've got 30 points around this ring, finding the original coordinates of which might be a tad of a problem. (I sucked at trig in HS.) I'm gonna work through this now, so pardon the sloppy ascii diagrams.<br><br>Ok, let's say we've got our circle at 0 degrees (centered at (0,0,10)). All of the points on this circle lie on the XY plane. Given o1 = angle of the centerpoint, o2 = angle along the ring, and the individual rings having a radius of 1, each point at o1 = 0 would be at:<br><br></p><pre>
<code>(cos(o2), 10+sin(o2), 0)</code>
</pre><br><br>Now, we account for the change in position for other points:<br><br><pre>
<code>(cos(o2), 10*cos(o1) + sin(o2), 10*sin(o1))</code>
</pre><br><br>Getting closer now. But also remember each ring isn't flat on the XY plane. However, all of the points are going to lie along a radial line. I'm pretty sure this would work:<br><br><pre>
<code>(cos(o2), 10*cos(o1) + sin(o2)*cos(o1), 10*sin(o1) + cos(o2)*sin(o1))</code>
</pre><br><br>BRB while I test this out.<br><br>EDIT: Ok, works brilliantly. <a href="http://www.lggaming.com/user/xerol/torusdemo.zip" target="_blank">http://www.lggaming.com/user/xerol/torusdemo.zip</a><br><br>I just fudged o2 for now, in reality o1 would always be 'locked' to one of the rings, and o2 would be 30 different steps along each ring.<br><br>From here, you add code to put the camera in the torus, and to modify the torus walls to move with the music, then controls from there.<br><br>EDIT2: If anyone wants to get on AIM and talk about this, maybe something could happen with this soon. I'm on for the next 3 hours or so under XerolOplan. If you're an antique internet user like myself and still use ICQ, 125672905.</div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">MaTTFURY</span><br></p><p class="post-time small text-muted">27th November 2004 04:35 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">im became a member, (but u know nobody cares)</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">S-uper_T-oast</span><br></p><p class="post-time small text-muted">27th November 2004 05:31 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Well, instead of a torus, I think it might be better for you to render something like a cylinder instead of a torus. It would be much easier to work with then the torus, and it could probably also be less FPS consuming.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Xerol</span><br></p><p class="post-time small text-muted">27th November 2004 21:12 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Same thing, the torus is just a cylinder bent so the ends meet.<br><br>Anyway, my problem right now is getting it to render in a grid. I've tried to do the square wave-style shape but it didn't work out properly; the only way it CAN work right is if there's an odd number of slices, so I'm trying to get that to work right now.<br><br>I'm going to re-upload to the aboveposted link with what i've got now; you can change the camera position by changing the xcam, ycam, and zcam values in the init portion of the superscope; no camera rotation yet, but I'm going to get to it eventually. I'd like to get the tube running properly first.</p></div><hr><div class="footer"><p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p></div></div><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" defer></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" defer></script><script type="text/javascript" src="../js/jquery.cookie.min.js" defer></script><script type="text/javascript" src="../js/scripts.js" defer></script></body></html>