<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Keyboard input"><title>Keyboard input - AVS Forums</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-53539506-7','auto');ga('send','pageview');</script><link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"><!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script><![endif]--></head><body style="display:none"><div class="container"><div class="row"><div class="dropdown pull-right"><button class="btn btn-link btn-sm dropdown-toggle" type="button" data-toggle="dropdown">Change style <span class="caret"></span></button><ul id="css-select" class="dropdown-menu" role="menu"><li><a href="#" rel="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">Default</a></li><li role="presentation" class="divider"></li><li role="presentation" class="dropdown-header">Bootswatch</li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/amelia/bootstrap.min.css">Amelia</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cerulean/bootstrap.min.css">Cerulean</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css">Cosmo</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cyborg/bootstrap.min.css">Cyborg</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css">Flatly</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css">Journal</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/readable/bootstrap.min.css">Readable</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/simplex/bootstrap.min.css">Simplex</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/slate/bootstrap.min.css">Slate</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/spacelab/bootstrap.min.css">Spacelab</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css">United</a></li><li><a href="#" rel="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css">Yeti</a></li></ul></div></div><ol class="breadcrumb"><li><a href="../index.html" class="glyphicon glyphicon-home"></a></li><li><a href="f-85.html">AVS</a></li><li class="active">Keyboard input</li></ol><p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=192699">Keyboard input</a></p><br><div class="post"><p class="post-meta"><span class="post-author text-primary">Crazy Dave</span><br></p><p class="post-time small text-muted">7th September 2004 03:31 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content"><strong>Keyboard input</strong><br>I've been hunting all day trying to find information one how to get keyboard input working. I can do the mouse input X, Y, and left click (right click can not really be used because it jumps back to windowed avs)<br><br>Can any one point me to help file or do they know them selves.</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Warrior of the Light</span><br></p><p class="post-time small text-muted">7th September 2004 08:07 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">FAQ #16</p></div><hr><div class="post"><p class="post-meta"><span class="post-author text-primary">Digital Chaos</span><br></p><p class="post-time small text-muted">7th September 2004 09:00 <abbr title="Coordinated Universal Time">UTC</abbr></p><p class="post-content">Took a little bit, but I found the keycodes. They are attached at the bottom. :)<br><br>Ok I'll see if I can explain this one:<br><br>To get keyboard/mouse input you use the function getkbmouse(value). I will get to the keys in a minute.<br><br><b>Getting the current x and y positions of cursor:</b><br>Start a new preset and add a superscope. Delete any code you see. Inside the init box, write n=2. Now make a horizontal line, to do that write this in the per pixel box:<br></p><pre>
<code><br>x=(2*i)-1;<br>y=0;<br></code>
</pre><br>
      Now add another superscope and make a vertical line. Delete any code you see and write n=2 in the init box as well. To make a vertical line, just switch the x and y code:<br>
      <pre>
<code><br>x=0;<br>y=(2*i)-1;<br></code>
</pre><br>
      <br>
      You don't see any lines, yet because you specified to draw them as dots. To make them lines, select the radio button 'lines' where it says 'Draw as:' at the bottom right.<br>
      <br>
      Now, to get the current x and y positions of the mouse pointer, you use getkbmouse(<i>value</i>). <i>Value</i> will be 1 to get the x position, and 2 to get the y position. The function will return the curosrs' x and y coordinates, respectively.<br>
      Add this to the horizontal superscope in the per frame box: mousey=getkbmouse(2);<br>
      and change the statement y=0; in the pixel box to y=mousey;<br>
      In the vertical superscope add mousex=getkbmouse(1); to the per frame box and change x=0; to x=mousex;<br>
      <br>
      You've got yourself a cross-hair that follows the cursor!<br>
      <br>
      <b>On to the mouse buttons:</b><br>
      To see if the user is pressing the left mouse button you use this: getkbmouse(3)<br>
      It's return value will either be 0 (not pressed) or 1 (is pressed). The right mouse button is similar: getkbmouse(4)<br>
      It will return either 0 or 1 depending on if the button is pressed down. To use this in code you would have to assign it to a variable like so:<br>
      <pre>
<code><br>lmouse=getkbmouse(3);<br></code>
</pre><br>
      <br>
      Let's add that to our scopes (both of them) in the frame box.<br>
      Now in the pixel box add this:<br>
      <pre>
<code><br>linesize=if(lmouse,10,1);<br></code>
</pre><br>
      All that does is assign linesize the value of 10 if lmouse is 1 (pressed), or the value of 1 if lmouse is 0 (not pressed). If you left-click in the visualization window, the lines "grow".<br>
      <br>
      <b>And finally keyboard input:</b> :D<br>
      <br>
      OK, getting keyboard input is easy, just knowing which number to use isn't. To see if the ALT key is pressed you use getkbmouse(18). We'll add this to our scopes as well. At this point, the frame box for both scopes should look like this:<br>
      <pre>
<code><br>alt=getkbmouse(18);<br>mousex=getkbmouse(1);<br>lmouse=getkbmouse(3);<br></code>
</pre><br>
      To put the ALT key to use we'll add this to the pixel box in both scopes:<br>
      <pre>
<code><br>red=if(alt,1,1);<br>green=if(alt,0,1);<br>blue=if(alt,1,1);<br></code>
</pre><br>
      If the alt key is 1 (pressed) the colors will be purple, otherwise they will be white.<br>
      <br>
      Here's the zip file with all the key codes on it, ;)<br>
      <br>
      I hope I was helpful.
    </div>
    <hr>

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
    </div>
  </div>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="../js/jquery.cookie.min.js"></script>
  <script type="text/javascript" src="../js/scripts.js"></script></body></html>