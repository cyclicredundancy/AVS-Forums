<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content=" Custom Icon for AVS Packs AVS" />

	<title> Custom Icon for AVS Packs - AVS Forums</title>

	<!-- Bootstrap core CSS -->
	<link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
	<![endif]-->
</head>
<body>
	<div class="container">
	<!-- Put navigation bar here -->






	<ol class="breadcrumb">
		<li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>
		<li><a href="f-85.html">AVS</a></li>
		<li class="active">Custom Icon for AVS Packs</li>
	</ol>
	<p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/http://forums.winamp.com/showthread.php?t=108786">Custom Icon for AVS Packs</a></p>


<br />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Zevensoft</div>
			<div class="date small text-muted">7th October 2002 15:18 GMT</div>
		</p>
		<p class="post-content">
		
			<strong>Custom Icon for AVS Packs</strong><br />
		
		
			
		

		Here is an icon (And NSIS bitmaps) I designed for AVS. Feel free to use it in your pack installers.<br />
<br />
Post your comments.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Karnov</div>
			<div class="date small text-muted">7th October 2002 21:49 GMT</div>
		</p>
		<p class="post-content">
		
		

		i like them, and they look really professional (kinda sorta like the new XP icons)<br />
<br />
but i dont think i will use them becuase i cant figure out what the hell they are!<br />
<br />
(by favorite guess; pac-man)
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Xion(810)</div>
			<div class="date small text-muted">8th October 2002 01:21 GMT</div>
		</p>
		<p class="post-content">
		
		

		Please!  I can make better!
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">UnConeD</div>
			<div class="date small text-muted">8th October 2002 03:24 GMT</div>
		</p>
		<p class="post-content">
		
		
			
		

		Actually I like them :). Simple and they fit the Office 2k/XP theme for icons.<br />
<br />
I hacked up an AVS preset icon (hope you don't mind) and two registry files to register the file-type on Windows 2K/XP or Windows 9x/ME.<br />
<br />
Copy the icon to your Windows folder: it'll only work if your Windows is installed in C:\WINNT (for Win2K/XP) or C:\WINDOWS (for Win9x/ME). Then double-click the correct registry file for your operating system to merge it.<br />
<br />
You might need to restart to have it take effect, or modify an existing file type to refresh the system's icon cache.<br />
<br />
Tested on Win2K. Can someone test this on Win9x/ME and XP?
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Jaheckelsafar</div>
			<div class="date small text-muted">8th October 2002 05:09 GMT</div>
		</p>
		<p class="post-content">
		
		

		Well didn't run it, but the windows dir (default) on my XP machine is c:\windows, not c:\winnt.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Zevensoft</div>
			<div class="date small text-muted">8th October 2002 06:55 GMT</div>
		</p>
		<p class="post-content">
		
		

		UnConeD: There is an 'U' in community, so I don't mind.<br />
J'heklsfa: Open up the registry file in notepad, and change the windows folder manually.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">dirkdeftly</div>
			<div class="date small text-muted">8th October 2002 07:00 GMT</div>
		</p>
		<p class="post-content">
		
		

		Xion, try not to simultaneously blatantly insult someone AND be an egotistical bastard in the same post.  If you don't like the icon, tell him why.<br />
<br />
<br />
Zevensoft: That's a cool gereral icon, can I use it for (and in) the AVS Resources pack I'm doing?
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Tuggummi</div>
			<div class="date small text-muted">8th October 2002 07:15 GMT</div>
		</p>
		<p class="post-content">
		
		

		Quite nice icons, simple yet good.<br />
Although i don't understand why you used &quot;Another pixel&quot; effect in the avs_app.ico :weird: Maybe they fit the office 2000 icons, but since i don't have it or even winXP (which sucks as much as wa3 or even more) i really can't say im dazzled by them.<br />
Good work nevertheless :up:
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Zevensoft</div>
			<div class="date small text-muted">8th October 2002 08:00 GMT</div>
		</p>
		<p class="post-content">
		
		

		Atero: Like I said, I don't mind.<br />
<br />
Tuggummi: I don't get what you mean by 'Another Pixel'.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Tuggummi</div>
			<div class="date small text-muted">8th October 2002 13:18 GMT</div>
		</p>
		<p class="post-content">
		
		

		Like in avs, you drawed only one pixel and the left the next one empty, like an interleave effect :weird:
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Karnov</div>
			<div class="date small text-muted">8th October 2002 13:30 GMT</div>
		</p>
		<p class="post-content">
		
		

		Well, it seems to me he did it becuase you are only allowed a certain number of colors (16) and in order to get lighter(or darker) shades of whatever color (green in this case) you have to do this &quot;every other&quot; technique.<br />
<br />
Anyway, you can't tell when its zoomed out (unless you run 300x200 resolotion (but than your moniter is proabably green monochrome! :-D)). Therefore, it doesn't really matter.<br />
<br />
<br />
(there is a huge section of &quot;pixel art&quot; at deviantart, you should check it out, some of it is pretty involved)
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">UnConeD</div>
			<div class="date small text-muted">8th October 2002 15:09 GMT</div>
		</p>
		<p class="post-content">
		
		

		I don't know about you, but it looks fine over here. For some reason your system is using the 16 color version of the icon instead of the high-color one. Check the Display -&gt; Effects settings in the control panel.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">dirkdeftly</div>
			<div class="date small text-muted">8th October 2002 16:53 GMT</div>
		</p>
		<p class="post-content">
		
		

		That and nsis2 can use any size and any color....It looks fine over here, too.  Except it should be mauve :p<br />
<br />
And I am now a major dude. :cool:
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Yathosho</div>
			<div class="date small text-muted">8th October 2002 18:27 GMT</div>
		</p>
		<p class="post-content">
		
		

		if anyone's requests this, i will put together a set of checkboxes and icons based on this logo. maybe a default splashscreen too.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">dirkdeftly</div>
			<div class="date small text-muted">8th October 2002 19:32 GMT</div>
		</p>
		<p class="post-content">
		
		

		That'd be great, man :)
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Karnov</div>
			<div class="date small text-muted">8th October 2002 21:48 GMT</div>
		</p>
		<p class="post-content">
		
		

		congrats on your major dudeism<br />
<br />
and custom checkboxes would do nothing but roxor :-D
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Jaheckelsafar</div>
			<div class="date small text-muted">9th October 2002 05:05 GMT</div>
		</p>
		<p class="post-content">
		
		

		Congrats Artero. :up:<br />
<br />
Now if only you could open an AVS by double-clicking.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">jheriko</div>
			<div class="date small text-muted">9th October 2002 06:03 GMT</div>
		</p>
		<p class="post-content">
		
		

		I finally found the appropriate thread to congratulate Atero on...<br />
Well done, 500 posts is a big milestone. (i'll be with you in a couple of weeks :P)<br />
<br />
Wow. This all seems like it is coming together rather well. Maybe I should go and improve my script so that it registers UnConeD's icon and has a splashscreen (and probably add a ton more functionality). It's always a good thing to have a standardised look about something in my opinion, it makes everything look that little bit more professional.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">UnConeD</div>
			<div class="date small text-muted">9th October 2002 08:35 GMT</div>
		</p>
		<p class="post-content">
		
		

		Well you could probably use NSIS to add the appropriate registry keys, and auto-detect the Windows dir. If your Windows dir is c:\Windows, you can just use the Win98/ME registry file by the way. The only difference is that the 2K/XP one is in Unicode, so you can't do it the other way around.<br />
<br />
I'm pretty sure I remember a WinXP installed to WINNT though ;)
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">jheriko</div>
			<div class="date small text-muted">9th October 2002 08:47 GMT</div>
		</p>
		<p class="post-content">
		
		

		NSIS reads Win2k/XP registry keys fine so I'd expect that the respective write functions would work fine too. Finding the windows directory shouldn't be to hard since you can just use the $WINDIR string.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Tuggummi</div>
			<div class="date small text-muted">9th October 2002 10:20 GMT</div>
		</p>
		<p class="post-content">
		
		

		
	<blockquote>
			
				I don't know about you, but it looks fine over here. For some reason your system is using the 16 color version of the icon instead of the high-color one. Check the Display -&gt; Effects settings in the control panel.</blockquote>
For a second i forgot this was Winnt, where the default settings are that they don't use all the colors in the icons :rolleyes:  And i thought that if they are avs icons they had to be 16 colors or they wouldn't work on nsis.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">jheriko</div>
			<div class="date small text-muted">9th October 2002 10:44 GMT</div>
		</p>
		<p class="post-content">
		
		
			
		

		I made a simple splash screen following in the Windows/Office 2000/XP direction, its pretty simple and the idea is that you put your pack/preset/whatever name splat in the middle to finish it off.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">UnConeD</div>
			<div class="date small text-muted">9th October 2002 11:52 GMT</div>
		</p>
		<p class="post-content">
		
		

		The splash-screen's green gradient is a bit too flashy for me.<br />
<br />
I think the border's not the same width everywhere and it seems the green-yellow-green gradient's not centered correctly? (see what I mean with pixelspotter :))
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">jheriko</div>
			<div class="date small text-muted">9th October 2002 11:58 GMT</div>
		</p>
		<p class="post-content">
		
		

		Damn, I was hoping no one would notice that.<br />
<br />
I'm sure yathosho will make a much better one. :)<br />
<br />
The top and left of the border are screwed, I think I did something stupid somewhere between finishing the picture and saving it. I only noticed that after I submitted this zip.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Jaheckelsafar</div>
			<div class="date small text-muted">9th October 2002 12:11 GMT</div>
		</p>
		<p class="post-content">
		
		

		Dammit, forgot, tthis used to be my ME machine. Forget what I seaid about the windows dir. Autodetect is a good idea though.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">jheriko</div>
			<div class="date small text-muted">9th October 2002 12:27 GMT</div>
		</p>
		<p class="post-content">
		
		

		I've added splash screen support to my script now, I'm gonna add those registry keys in a bit and then I'll post it up in the format of a generic script using the zevensoft icon and checkboxes and my avs splash screen (even though the gradient is off centre and the border is fux0red - I'll leave it to the pros next time :P).<br />
<br />
To use the splash screen you need the CVS version of NSIS2 (unless you want to just get the advsplash source and compile the dll yourself), which I had a little bit of trouble finding due to the fact that everywhere it is called the CVS version, yet on the website it is called the development snapshot. So heres a link direct to the download to save you any hassle:<br />
<br />
<a href="http://nsis.sourceforge.net/nightly/nsis.zip" target="_blank">http://nsis.sourceforge.net/nightly/nsis.zip</a>
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">jheriko</div>
			<div class="date small text-muted">9th October 2002 13:56 GMT</div>
		</p>
		<p class="post-content">
		
		

		Well, I couldn't find a way to use the enabled/disabled pictures in NSIS2, presumably it can only use the 'every checkbox crammed into one bmp' files for checkboxes. (if you have nsis2 just look in the contrib to see what i mean)<br />
<br />
Anyway, here is a simple script with splash screen, icon registering and the usual pap. I'll probably tweak it some more later and make it bigger and better. One thing you may want to do is to hide the &quot;AVS Preset Icon&quot; section so that it doesn't come up under install options, to do this just delete the final section and place the code in the '-' section instead. Everything should work, I've tested it on both of my systems under Win2k Pro and Win2k Adv Server but other operating systems may have problems with the registering, but I doubt it, if you find any bugs please tell me about them.<br />
<br />
(Requires NSIS2 CVS version - see link above)<br />
<br />
Name &quot;Jheriko - 6point5 Minipack&quot;<br />
Icon &quot;avs_app.ico&quot;<br />
OutFile &quot;J 6point5.exe&quot;<br />
<br />
Function .onInit<br />
<br />
SetOutPath $TEMP<br />
File /oname=spltmp.bmp &quot;avs_splash.bmp&quot;<br />
<br />
advsplash::show 1000 600 400 -1 $TEMP\spltmp<br />
<br />
Pop $0 ;<br />
<br />
Delete $TEMP\spltmp.bmp<br />
<br />
<br />
StrCpy $9 0<br />
FunctionEnd<br />
<br />
Function .onNextPage<br />
<br />
IntOp $9 $9 + 1<br />
<br />
IntCmp $9 2 nothing<br />
<br />
Goto jump<br />
<br />
nothing:<br />
<br />
SectionGetFlags 1 $1<br />
<br />
IntCmp $1 1 getwa2path getwa3path getwa2path<br />
<br />
getwa2path:<br />
ReadRegStr $INSTDIR HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\Winamp&quot; &quot;UninstallString&quot; <br />
StrCpy $INSTDIR $INSTDIR &quot;&quot; 1 <br />
Goto skippy<br />
<br />
getwa3path:<br />
ReadRegStr $INSTDIR HKLM &quot;Software\Microsoft\Windows\CurrentVersion\Uninstall\Winamp3&quot; &quot;UninstallString&quot;<br />
<br />
skippy:<br />
<br />
StrCpy $1 $INSTDIR<br />
loopy:<br />
StrCpy $2 $INSTDIR 1 $1<br />
StrCmp $2 &quot;&quot; lpdone<br />
StrCmp $2 &quot;\&quot; lpdone<br />
IntOp $1 $1 - 1<br />
Goto loopy<br />
lpdone:<br />
StrCpy $INSTDIR $INSTDIR $1<br />
<br />
jump:<br />
<br />
FunctionEnd<br />
<br />
Function .onPrevPage<br />
<br />
IntOp $9 $9 - 1<br />
<br />
FunctionEnd<br />
<br />
DirText &quot;Please enter your full Winamp path below.&quot;<br />
<br />
ComponentText &quot;Please choose the version of Winamp that you wish to install to:&quot;<br />
<br />
InstType &quot;Winamp 2&quot;<br />
InstType &quot;Winamp 3&quot;<br />
InstType /NOCUSTOM<br />
<br />
AutoCloseWindow false<br />
ShowInstDetails show<br />
<br />
Section &quot;-&quot;<br />
SectionIn 1 2<br />
SectionEnd<br />
<br />
Section &quot;6point5 for Winamp 2.x&quot;<br />
SectionIn 1<br />
	SetOutPath &quot;$INSTDIR\Plugins\AVS&quot;<br />
<br />
 	File &quot;D:\winamp3\wacs\data\avs\multiplier.ape&quot;<br />
 	File &quot;D:\winamp3\wacs\data\avs\convolution.ape&quot;<br />
 	File &quot;D:\winamp3\wacs\data\avs\channelshift.ape&quot;	<br />
<br />
	SetOutPath &quot;$INSTDIR\Plugins\AVS\JHERiKO - 6point5&quot;<br />
<br />
	File &quot;D:\winamp3\wacs\data\avs\New Minipack\*.avs&quot;<br />
SectionEnd<br />
<br />
Section &quot;6point5 for Winamp 3.x&quot;<br />
SectionIn 2<br />
	SetOutPath &quot;$INSTDIR\wacs\data\AVS\&quot;<br />
<br />
 	File &quot;D:\winamp3\wacs\data\avs\multiplier.ape&quot;<br />
 	File &quot;D:\winamp3\wacs\data\avs\convolution.ape&quot;<br />
 	File &quot;D:\winamp3\wacs\data\avs\channelshift.ape&quot;<br />
<br />
	SetOutPath &quot;$INSTDIR\wacs\data\AVS\JHERiKO - 6point5&quot;<br />
<br />
	File &quot;D:\winamp3\wacs\data\avs\New Minipack\*.avs&quot;<br />
SectionEnd<br />
<br />
Section &quot;AVS Preset Icon&quot;<br />
SectionIn 1 2<br />
	SetOutPath $WINDIR<br />
	<br />
	File &quot;D:\avspreset.ico&quot;<br />
<br />
	WriteRegStr HKCR &quot;.avs&quot; &quot;&quot; &quot;AVSPreset&quot;<br />
	WriteRegStr HKCR &quot;AVSPreset&quot; &quot;&quot; &quot;AVS Preset&quot;<br />
	WriteRegStr HKCR &quot;AVSPreset\DefaultIcon&quot; &quot;&quot; &quot;$WINDIR\avspreset.ico&quot;<br />
SectionEnd
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Montana</div>
			<div class="date small text-muted">9th October 2002 14:44 GMT</div>
		</p>
		<p class="post-content">
		
		

		jheriko, couldn't you just copy that nsis code into a txt file and attach that txt to your post?
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Zevensoft</div>
			<div class="date small text-muted">9th October 2002 15:14 GMT</div>
		</p>
		<p class="post-content">
		
		
			
		

		Attached is what I think is an office style splash.<br />
<br />
(And in case you are wondering, the AVS letters are pixel edited from the WINAMP logo.)
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">UnConeD</div>
			<div class="date small text-muted">9th October 2002 18:35 GMT</div>
		</p>
		<p class="post-content">
		
		

		The 'AVS' has very blurry edges. Can you clean it up a bit?<br />
<br />
Oh by the way Jheriko, suppose this AVS icon gets used by many people, then it'll keep being overwritten every time an AVS pack is installed.<br />
<br />
Maybe you should make sure NSIS doesn't pop-up the 'file already exists?' dialog?<br />
<br />
<br />
I also looked up how to notify Windows to refresh its File Icon cache. I'm not an NSIS expert, but if possible you should call the following Windows API function:<br />
<pre><code>SHChangeNotify(SHCNE_ASSOCCHANGED, SHCNF_IDLIST, 0, 0);</code></pre><br />
<br />
The literal values for those constants are:<br />
<pre><code>#define SHCNE_ASSOCCHANGED        0x08000000L<br />
#define SHCNF_IDLIST      0x0000</code></pre><br />
<br />
The function's definition is:<br />
<pre><code>__declspec(dllimport) void WINAPI SHChangeNotify(<br />
    LONG wEventId, <br />
    UINT uFlags, <br />
    LPCVOID dwItem1, <br />
    LPCVOID dwItem2<br />
);</code></pre><br />
<br />
I assume it's located in shell32.dll<br />

		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">jheriko</div>
			<div class="date small text-muted">9th October 2002 23:25 GMT</div>
		</p>
		<p class="post-content">
		
		

		
	<blockquote>
			
				<i>Originally posted by Montana </i><br />
<b>jheriko, couldn't you just copy that nsis code into a txt file and attach that txt to your post? </b></blockquote>
:igor: <br />
<br />
I never thought of that
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Karnov</div>
			<div class="date small text-muted">11th October 2002 02:04 GMT</div>
		</p>
		<p class="post-content">
		
		

		damn nabbit jheriko<br />
<br />
<br />
now i have to go and update all my software, and use a more effiecent code<br />
<br />
<br />
gah! <br />
<br />
<br />
<br />
(seriously; thx for your &quot;NSIS 4 dummys[sic]&quot; :up: )
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Yathosho</div>
			<div class="date small text-muted">23rd October 2002 01:09 GMT</div>
		</p>
		<p class="post-content">
		
		
			
		

		i put together some icons myself, the logo being based on zevensofts. regard this more as an warm-up. i finished some document template icons today, i might rework the whole thing tomorrow.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Yathosho</div>
			<div class="date small text-muted">23rd October 2002 01:11 GMT</div>
		</p>
		<p class="post-content">
		
		
			
		

		for those who prefer an installer<br />
<br />
ps: since this was more like an unserious attempt, i did not convert the icon for older versions of windows. expect the final version to work in all colormodes :D
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Karnov</div>
			<div class="date small text-muted">23rd October 2002 02:36 GMT</div>
		</p>
		<p class="post-content">
		
		

		looks nice :up: <br />
<br />
i wonder what a NSIS checkbos w/ the circle motif would look like?
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Yathosho</div>
			<div class="date small text-muted">25th June 2003 01:03 GMT</div>
		</p>
		<p class="post-content">
		
		
			
		

		new version i made some time ago. zip contains installer for 2000/xp and the icon itself. enjoy!
		</p>
</div>

	<hr />



<div class="footer">
		<p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
	</div>
</div>

<!-- Put JavaScript here -->

</body>
</html>