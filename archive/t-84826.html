<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">    <!-- Bootstrap core CSS -->
	<meta name="keywords" content=" APEs programming, avs, advanced visualization studio, wvs, winamp visualization studio" />
	<meta name="description" content=" APEs programming AVS" />
	
	<title> APEs programming - Winamp Forums</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body>

<div class="container">
<ol class="breadcrumb">
  <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>
  <li><a href="f-85.html">AVS</a></li>
  <li class="active">APEs programming</li>
</ol>
<!-- div class="pda"><a href="t-84826.html?login=1" rel="nofollow">Log in</a></div -->
<p class="lead text-muted">Archive: <a title="Try the Wayback Machine" target="_blank" href="http://web.archive.org/web/*/http://forums.winamp.com/showthread.php?t=84826">APEs programming</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username text-primary">goebish</div><div class="date small text-muted">15th April 2002, 11:05</div></div>
<br />
<div class="posttext">Hello ! I'd like to share the source code for APE with others programmers...I hope some people will join this topic and post their source code :)<br />
<br />
here are the source code for the 3 APE I just programmed:<br />
<br />
ScreenReverse.APE<br />
AddBorder.APE<br />
RGBfilter.APE</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">NoSage</div><div class="date small text-muted">15th April 2002, 16:13</div></div>
<br />
<div class="posttext">I am at a computer at school, so I am not able to download the apes right now.  I do not know anything about them but have heard that they are writen in c++ so wouldnt this require a compiler and decent ones cost a pretty penny.  Just wondering where I can get a free c++ compiler that works pretty good, to join the ape bandwagon. :winamp:</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">mucks</div><div class="date small text-muted">16th April 2002, 04:26</div></div>
<br />
<div class="posttext">you can get it from sourceforge.net<br />
<br />
huh do you guys think a command can be done to take the avs's layer to skin a 3d ape?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">mucks</div><div class="date small text-muted">16th April 2002, 05:15</div></div>
<br />
<div class="posttext">i works with c++ cause it's free and cause i'm a programmer...so to compile these codes how should i operates (basicly to makes changes to the sources won't realy be a trouble...the worst i can get is a crash..héhé)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">mucks</div><div class="date small text-muted">16th April 2002, 05:22</div></div>
<br />
<div class="posttext">man now i know what is an ape!!!!</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">16th April 2002, 06:00</div></div>
<br />
<div class="posttext">Well it wouldn't be too hard to improve the metaballs so that a buffer is mapped onto it as texture. Just don't have time for that now :).</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">mucks</div><div class="date small text-muted">16th April 2002, 22:18</div></div>
<br />
<div class="posttext">hey friend do you think it'd be possible to make an ape (like an effect list) that outputs the visual from 3d hardware<br />
<br />
and a way to reduce colors in it (or anything to incrase the speed of hungry presets) in it<br />
<br />
yeah i was thinking about an ape using 8bf files from adobe photoshop and pals to make fxs like false 3d , 360 rotation , chrome , (and cloning from others like hot wax coating ((((ok and using a comm to reduce quality to incerase speed))))<br />
<br />
an ape to make transparencity fading and move edges over edges to remove ugly lines un ddm rb and zooming purpose parts<br />
<br />
<br />
<br />
<br />
!!!!!!!!!!!!!hey budddies..who did ask to get sourcecodes from avs...for what purpose! ape's been created!!!!!!!!!!!!!!!<br />
<br />
<br />
héhé so that's it.....<br />
<br />
i posted some more stuff directly about avs in the whishlist)<br />
<br />
see ya</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">duo</div><div class="date small text-muted">17th April 2002, 19:05</div></div>
<br />
<div class="posttext">well i downloaded the zip onto my school's computer.<br />
they have borland C++, visual C++, visual J++, and VB 6 but no damn winzip. im gonna go dl it write now and check your stuff out.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">mucks</div><div class="date small text-muted">18th April 2002, 05:31</div></div>
<br />
<div class="posttext">......................</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">mucks</div><div class="date small text-muted">18th April 2002, 05:33</div></div>
<br />
<div class="posttext">.............</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">mucks</div><div class="date small text-muted">18th April 2002, 15:11</div></div>
<br />
<div class="posttext">is there any way to make an alternative to effect list or to buffer save to make a chosen color being blended..like completely avoided...<br />
cause i think that evry parts of avs can be converted to ape and then being modified<br />
<br />
in another post i made i asked for this...i got some answers..but didn't realy satisfy me cause there is always some pixels half blended and the rest is transparent(the good part)<br />
so i can't realy get the little flyin fairie to be all opaque (even if i use no fairie:confused:)<br />
<br />
so it'd be great to make an ape that tells &lt;&lt;hey the machine , remove this color and make it transparent or hey avs take this color and give it some alphablending , and do nothing to the rest&gt;&gt;<br />
<br />
<br />
i did find an excelent slideshowmaker ape that takes jpg..<br />
<br />
if there were an ape that simply use gif with transparent colorcode<br />
or png with simple tansparentcode it'd mayby do the job great<br />
but the first alternative would mayby help elsewere...like in presets like cartoon from unconed......<br />
<br />
you'd take an effect list with movin particles/rotto blitter/water/buffer save then another effect list with<br />
with cartoon effect, then aply the ape to one color or two (hum mayby usin the color gradian inside fractal fx (like the one in photoshop when making a gradian with a form like left to right /square/circle)<br />
<br />
huh and you there can chose 2 or 3 colors to become transparent<br />
<br />
(ok here there is the option of buffer save and/or effect list to be modified as an evolved ape<br />
<br />
<br />
so here i send what i've made upon now to understand how to works with tools i have<br />
<br />
sorry to explain so badly.....i'm kinda stressed out and i made a white night too......i'm stressed cause i'm gona be a vj if i can show a bit more of quality to my talents (if i got any talent)<br />
<br />
so priv msg me if you find any better synthax the 180 (minutes or hour i don't remember)after i wrote</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">goebish</div><div class="date small text-muted">26th April 2002, 14:27</div></div>
<br />
<div class="posttext">No more posts in this topic ...... Don't anyone want to share his sources with the community ????</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">26th April 2002, 17:32</div></div>
<br />
<div class="posttext">I'm working on an AVS-script compiler and intend to release it as public domain here if I ever get it to work. That enough? :)<br />
<br />
By the way, I took a quick look at your code and noticed it's quite inefficient. Here are a few ideas:<br />
* RGBFilter:<br />
- Why don't you calculate the mask in realtime? Simply do something like:<br />
int mask = (0xFF &amp;&amp; enabled1) || (0xFF00 &amp;&amp; enabled2) || (0xFF0000 &amp;&amp; enabled3); That should reduce your code by about 95%.<br />
- Why are you putting everything in fbout[]? You could just as well do the modifications to framebuffer[] itself, because there is no dependancy between the pixels.<br />
<br />
* ScreenReverse<br />
- The pos() method is called twice for every pixel in the image, which means an immense slowdown. Replace it with a macro:<br />
#define pos(a,b,c) ((a)+(b)*(c))<br />
  The compiler will replace every instance of pos() with the real code, which means that there is no extra function call per pixel, but you still get nice code.<br />
<br />
<br />
Also, if you want fast APE's, you need to use assembly and MMX in critical routines. It's already very slow :) For example, here's the critical code for my Color-reduction APE:<br />
<br />
/* render */<br />
	int a,b,c;<br />
	a = 8-config.levels;<br />
	b = 0xFF;<br />
	while (a--) b=(b&lt;&lt;1)&amp;0xFF;<br />
	b |= (b&lt;&lt;16) | (b&lt;&lt;8);<br />
	c = w*h;<br />
	int a,b,c;<br />
	a = 8-config.levels;<br />
	b = 0xFF;<br />
	while (a--) b=(b&lt;&lt;1)&amp;0xFF;<br />
	b |= (b&lt;&lt;16) | (b&lt;&lt;8);<br />
	c = w*h;<br />
	__asm {<br />
		mov ebx, framebuffer;<br />
		mov ecx, c;<br />
		mov edx, b;<br />
		lp:<br />
		sub ecx, 4;<br />
		test ecx, ecx;<br />
		jz end;<br />
		and dword ptr [ebx+ecx*4], edx;<br />
		and dword ptr [ebx+ecx*4+4], edx;<br />
		and dword ptr [ebx+ecx*4+8], edx;<br />
		and dword ptr [ebx+ecx*4+12], edx;<br />
		jmp lp;<br />
		end:<br />
	}<br />
	return 0;<br />
/* end render */<br />
<br />
This might seem weird at first, but it's actually pretty tight code. It takes advantage of the fact that AVS's imagewidth is always divisable by 4, to do 4 pixels in one cycle. This means only 1/4th the amount of jumps.<br />
<br />
By the way, mucks: it's not possible to make Effect List APE's. APE's can only behave like a misc, trans or render.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Montana</div><div class="date small text-muted">26th April 2002, 17:42</div></div>
<br />
<div class="posttext">can anyone compile goebish 3 apes so i can use them?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">goebish</div><div class="date small text-muted">6th May 2002, 14:05</div></div>
<br />
<div class="posttext">thank you for your code Unconed, i'm really a begginer at C++ programming but I can understand your code (I love assembly coz I love reverse enginering :) ) so I'll publish versions 1.2 of my APEs (and their source code) very soon.<br />
Montana: If you want my compiled APEs go to this page ( french only at the moment :) ):<br />
http://vfx10.***********/softs.htm<br />
<br />
You'll find 4 apes with their source code and some utilities I made recently...AVS Playlister is an AVS presets list manager I just made.to use it, read the doc ! (in french :) if someone want to translate it to english please tell me )</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">goebish</div><div class="date small text-muted">6th May 2002, 16:15</div></div>
<br />
<div class="posttext">here come a new one: NegativeStrobe.APE<br />
<br />
also check this page to get the latests versions of my APEs and their sources: http://vfx10.***********/softs.htm</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">goebish</div><div class="date small text-muted">6th May 2002, 16:18</div></div>
<br />
<div class="posttext">AM I THE ONLY ONE TO POST CODE HERE ?????</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">6th May 2002, 18:47</div></div>
<br />
<div class="posttext">You're probably one of the few people who writes code in the first place.  I'd post code...if I had any</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Magic.X</div><div class="date small text-muted">7th May 2002, 11:20</div></div>
<br />
<div class="posttext">Of course i could post the Hotlist Code here but first, it would fill more than 20 Pages, second, it is all written in Delphi, third, i have a really unusual style of programming and dont want to torture anybody by letting him unscramble those 20 pages of code.<br />
<br />
If anyone wants it nevertheless, i'll post it here, but dont make me responsible, i warned you. :P</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">goebish</div><div class="date small text-muted">7th May 2002, 12:08</div></div>
<br />
<div class="posttext">No, I'd like this thread to be about APE programming only...not 3rd party utilities...But wouldn't you try C++ and assembly to join us :)<br />
And I've a remark: european peoples are very active on this forum :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">goebish</div><div class="date small text-muted">9th May 2002, 13:25</div></div>
<br />
<div class="posttext">some peoples asked me for my compiled APEs coz' they don't own VC++..so here they are..To install them, copy the .APE files that are in the zip file into your AVS directory (the default directory is c:\program files\winamp\plugins\avs )...Have fun</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">goebish</div><div class="date small text-muted">16th May 2002, 13:35</div></div>
<br />
<div class="posttext">Please Unconed, How can I make .ASC files for your 3D.APE, I've tried lot of converters but none works...This APE could be very usefull to me if I could insert my own objects....</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">17th May 2002, 12:19</div></div>
<br />
<div class="posttext">If you mean the wireframe renderer APE, I didn't make that one... I made Tentacles and Metaballs.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">papaw00dy</div><div class="date small text-muted">22nd May 2002, 22:34</div></div>
<br />
<div class="posttext">Has anybody gotten the AVS Video Capture APE to work right?  I got it to work with my crappy IBM PC Camera, but it made my FPS crawl at like 1 or 2 fps.  I haven't been able to get it working with any other cameras or capture devices because they don't support 32 bit mode.  Perhaps somebody could improve the APE.  I think the original coder abandoned the project, but he might be willing to give up the source code.<br />
<br />
I'd be willing to help, but my C++ is pretty limited.  If I can get the source code from the original author I will post it to this forum.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">goebish</div><div class="date small text-muted">23rd May 2002, 06:58</div></div>
<br />
<div class="posttext">I know there are more than one video input APE and some work better than others...I don't use it at the moment, but a friend do, I'll ask him to send it to me and I'll post it here...Hope this will help<br />
<br />
Note: I basically come from Visual Basic world and my C++ knowledge is limited too ( the APEs I made are my first C++ programming attempt), so why don't you try it too ? :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">djcoolman</div><div class="date small text-muted">23rd May 2002, 18:54</div></div>
<br />
<div class="posttext">but how can i compile APE?<br />
the compiler compile only 2 exe.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">goebish</div><div class="date small text-muted">23rd May 2002, 20:56</div></div>
<br />
<div class="posttext">do you really know &quot;well&quot; VC++ ???? It can't just compile to exe but also dll...and ape is a sort of dll (not really but...), just go here to download my sources : http://vfxsoftwares.fr.st and open the dsw files with &quot;open workspace&quot; in visual c++, compile and OOOHHHHHH :eek:!!!!!! It compile to an APE :eek:</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">goebish</div><div class="date small text-muted">29th May 2002, 01:06</div></div>
<br />
<div class="posttext">I'd like to develop an APE to render animated GIFs (with size, positioning, transparent colors and so on...),but as my C++ knowledge is limited for now (thanks again UncoNeD for the tips you gave me:)), I'd like someone serious to help me when I'm having problems...Can someone join this project please ?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Yathosho</div><div class="date small text-muted">15th June 2009, 15:02</div></div>
<br />
<div class="posttext">hey goebish, it would be very useful if you could add a version resource to your APEs. though it might be unlikely you will still update them, it'd allow a proper installation (checking for up-to-date versions).</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">26th June 2009, 13:51</div></div>
<br />
<div class="posttext">what is wrong with the file date and time?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Yathosho</div><div class="date small text-muted">27th June 2009, 23:35</div></div>
<br />
<div class="posttext">the installer has to *know* which ape file is the latest, with version resource you can do a simple comparison. lower chances to fuck it up.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Yathosho</div><div class="date small text-muted">28th June 2009, 11:49</div></div>
<br />
<div class="posttext">ok, i noticed i wrote some bs before. however, it's still true that the filedate is very unreliable to determine the version. using a checksum would be more reliable, but the installer had to know the checksum for every installer. so, the version resource remains the best way. i'm pretty sure that every guide to coding would mention these as proper standards anyway and i don't see a need to act like a rebel (you are just lazy!).</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">30th June 2009, 13:54</div></div>
<br />
<div class="posttext">Originally posted by Yathosho <br />
ok, i noticed i wrote some bs before. however, it's still true that the filedate is very unreliable to determine the version. using a checksum would be more reliable, but the installer had to know the checksum for every installer. so, the version resource remains the best way. i'm pretty sure that every guide to coding would mention these as proper standards anyway and i don't see a need to act like a rebel (you are just lazy!).  <br />
<br />
I get your point about the file date/time being unreliable but its better than nothing. Maybe fallback to date/time if the version is absent?<br />
<br />
As for version resources being good practice... the version resource system is a hacky pile of crap of its own. The real coder's solution is to get the information from the PE header like Windows does... whether or not there is a suitable API for doing this though is another matter entirely. I'm sure that has something to do with the general crappiness of versions in executable code. Rather than solve the problem MS devoted their attention to their horrible WinSxS / .NET assembly system.<br />
<br />
It's all very backwards... &quot;DLL hell&quot; is only an issue if you suck at writing DLLs and programs to begin with. IMO there is nothing for MS to fix, except maybe the crappiness of their PE/COFF implementation which:<br />
(O/S side)<br />
* isn't consistent across the different flavours of Windows (a &quot;do nothing&quot; executable that runs on XP may not run on Vista)<br />
* doesn't conform to the actual PE/COFF specs<br />
* doesn't conform to their own PE/COFF specs<br />
* isn't accurately documented anywhere (that I've found)<br />
* isn't necessarily used as the source of information for .exe properties sheet<br />
* doesn't come with an API to use it<br />
(compiler side)<br />
* doesn't grumble if there is missing information (i.e. no version)<br />
* doesn't check the validity of values<br />
* imposes more restrictions than either version of the standard or the implementation require<br />
<br />
I went off on a bit of a tangent there... but the relevant point to this discussion is that the PE could provide a checksum AND a version if it wasn't implemented by MS monkeys.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Warrior of the Light</div><div class="date small text-muted">30th June 2009, 19:51</div></div>
<br />
<div class="posttext">While we're talking about detecting versions.. Can PB somehow detect the AVS version in the same, or some other way? <br />
<br />
If it could, the installer could prevent installing Video Delay and [the other pre-installed one, convo filter?], if the current AVS version also includes those effects, or even remove those (unwanted) duplicates</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Yathosho</div><div class="date small text-muted">30th June 2009, 20:26</div></div>
<br />
<div class="posttext">pimpbot already disables the sections for those apes in during setup. however, the user can override this and install the APEs anyway. in that case and extra question will bother the user, default action set to no overwrite. pimpbot also warns the user if an APE with version resource is newer than the one included the installer.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Warrior of the Light</div><div class="date small text-muted">1st July 2009, 14:52</div></div>
<br />
<div class="posttext">Then, did Micro D use an old version? During the installation of xen-ON, it tried to install Video Delay (the checkbox is green)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Yathosho</div><div class="date small text-muted">1st July 2009, 15:23</div></div>
<br />
<div class="posttext">afaik videodelay is circulating around in two different names. pimpbot uses delay.ape since day one, but maybe that's a mistake.<br />
<br />
edit: is the ape part of avs? when did that happen?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Warrior of the Light</div><div class="date small text-muted">2nd July 2009, 18:12</div></div>
<br />
<div class="posttext">I don't have a delay.ape in my \avs folder, but I can use video delayin my presets. I just installed delay.ape there (for testing), there are two instances now.<br />
<br />
Don't know when it was added, but my guess would be ever since 2.81b.</div></div><hr />
<div class="footer">
	<p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
</div>
</div>

</body>
</html>