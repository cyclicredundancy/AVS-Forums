<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">    <!-- Bootstrap core CSS -->
	<meta name="keywords" content=" optimal grid sizes, avs, advanced visualization studio, wvs, winamp visualization studio" />
	<meta name="description" content=" optimal grid sizes AVS Wishlist" />
	
	<title> optimal grid sizes - Winamp Forums</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<div class="container">
<ol class="breadcrumb">
  <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>
  <li><a href="f-85.html">AVS</a></li>
  <li><a href="f-138.html">AVS Wishlist</a></li>
  <li class="active">optimal grid sizes</li>
</ol>
<!-- div class="pda"><a href="http://forums.winamp.com/archive/index.php/t-121948.html?login=1" rel="nofollow">Log in</a></div -->
<p class="lead text-muted">Archive: <a title="Try the Wayback Machine" target="_blank" href="http://web.archive.org/web/*/http://forums.winamp.com/showthread.php?t=121948">optimal grid sizes</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username text-primary">mikm</div><div class="date small text-muted">19th January 2003, 01:21</div></div>
<br />
<div class="posttext">i don't know if this is possible, but for DMs,I think it would be great to have an 'optimize' setting for DM grid sizes<br />
Basically, the creator enters a target framerate into the box.  This would either be within a range (14 fps - 20 fps) or just a minimum framerate (40 fps but can be any faster).<br />
So as not to sacrifice speed, this would be calculated initially.  A button would be availible to recalculate if necessary (user changes window size).<br />
<br />
or how 'bout something in the Misc section that will make the preset go at a certain framerate by slowing down the preset (basically it would adjust the 'windowed preformance bar'.  Again, this would be calculated initially.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">anubis2003</div><div class="date small text-muted">19th January 2003, 04:00</div></div>
<br />
<div class="posttext">The presets already run slow enough why would you want to slow them down any more?  Optimized grid sizes would be nice, but it could yield bad results on some computers.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">19th January 2003, 05:16</div></div>
<br />
<div class="posttext">If the grid-size is that unimportant to your preset that you allow it to have any value, then you should just set it to the lowest value that still looks good :p.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Zevensoft</div><div class="date small text-muted">19th January 2003, 14:54</div></div>
<br />
<div class="posttext">I say a better idea would have AVS building machine code from the formula box, and running through that for each pixel, thus removing the need for a gridsize.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">anubis2003</div><div class="date small text-muted">19th January 2003, 16:15</div></div>
<br />
<div class="posttext">Speaking of this, does AVS generate any machine code, or does it just re-interpret it every time?  I'm assuming it does use some machine code or else it would be very slow.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">20th January 2003, 08:23</div></div>
<br />
<div class="posttext">if you're talking about superscopes and the like, no, i'm pretty sure avs doesn't.  movements do, however, since they're static.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">20th January 2003, 16:23</div></div>
<br />
<div class="posttext">The code is compiled into assembly undoubtably. Interpreting it would be waste of time.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">anubis2003</div><div class="date small text-muted">20th January 2003, 16:29</div></div>
<br />
<div class="posttext">Thanks Unconed. I was pretty sure that is what it did, but wasn't positive.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">20th January 2003, 19:08</div></div>
<br />
<div class="posttext">hmm...so why is it that superscope code has to be calculated every frame, but movement is just calculated once, when they're both (assumably) interpreted onload?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">anubis2003</div><div class="date small text-muted">20th January 2003, 19:26</div></div>
<br />
<div class="posttext">Calculation and Interpretation aren't the same thing.  I think AVS just makes an assembly equivalent of the typed code onload and then re-calculates the coordinates every frame. Movements(not DM's) do not change from frame to frame so they don't re-calculate every frame.<br />
For example, if the movement is x=x+.01;y=y-.01; then the coordinate (0,0) will always be moved to (.01,-.01) every frame.  In a superscope, however, this isn't necessarily the case.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">20th January 2003, 19:29</div></div>
<br />
<div class="posttext">eh?<br />
<br />
The script code for both movement and superscopes is compiled into assembly language instructions (i.e. raw machine code) at the beginning. This is the translation from the text you type &quot;pi*sin(a)&quot; into machine code &quot;fld [address of a]; fsin; fld [address of pi]; fmul;&quot; or something like that.<br />
<br />
However, the compiled instructions still need to be executed to perform the actual calculation.<br />
<br />
Because a trans/movement is static, the expression is evaluated once for every pixel at preset-loading.<br />
<br />
For real-time dynamic effects like a DM or Scope, the code is executed once per-point/gridpoint every frame.<br />
<br />
What are you getting confused about?<br />
<br />
The reason the code of a scope or DM runs so slow despite it being compiled into machine code is undoubtably because the code it generates is not being optimized. Writing a fully optimizing compiler is not only tricky, but also a lot of work.<br />
I guess Justin Frankel never thought his expression evaluator would be used to code raytracers ;).<br />
<br />
On top of that, the IA-32 architecture is a mess, because it's been backwards compatible since the XT and has a rediculously low amount of registers for a modern cpu.</div></div><hr />
<div class="footer">
	<p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
</div>
</div>

</body>
</html>