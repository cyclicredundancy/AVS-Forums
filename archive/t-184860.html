<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content=" Pixel Placement AVS" />

	<title> Pixel Placement - AVS Forums</title>

	<!-- Bootstrap core CSS -->
	<link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
	<![endif]-->
</head>
<body>
	<div class="container">
	<!-- Put navigation bar here -->






	<ol class="breadcrumb">
		<li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>
		<li><a href="f-85.html">AVS</a></li>
		<li class="active">Pixel Placement</li>
	</ol>
	<p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=184860">Pixel Placement</a></p>


<br />

<div class="post">
		<p class="post-meta">
			<span class="username text-primary">horse-fly</span><br />
			<span class="date small text-muted">28th June 2004 06:07 GMT</span>
		</p>
		<p class="post-content">
		
			<strong>Pixel Placement</strong><br />
		
		

		Is there a way to define a superscope by a certain pixel position, rather than ratio?
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<span class="username text-primary">Deamon</span><br />
			<span class="date small text-muted">28th June 2004 10:09 GMT</span>
		</p>
		<p class="post-content">
		
		

		in frame:<br />
<br />
p=0;<br />
<br />
In per point:<br />
p=p+1;<br />
x=xp1*equal(p,1)+xp2*equal(p,2)+xp3*equal(p,3);<br />
y=yp1*equal(p,1)+yp2*equal(p,2)+yp3*equal(p,3);<br />
<br />
where xp1, xp2, xp3, yp1, yp2 and yp3 are coordinates. Make sure n equals the number of p you use, all n higher than p snap to coords (0,0).<br />
<br />
Works in 3D as well.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<span class="username text-primary">Jaak</span><br />
			<span class="date small text-muted">28th June 2004 10:29 GMT</span>
		</p>
		<p class="post-content">
		
		

		dont use multiply, just chunks of ifs, multiplication is slow, but the ifs will be quite faster... especialy if your little scope consists of 100 points :p
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<span class="username text-primary">Warrior of the Light</span><br />
			<span class="date small text-muted">28th June 2004 11:51 GMT</span>
		</p>
		<p class="post-content">
		
		

		I don't think this is what he meant.. <br />
You can use px=1/w for instance for 1 pixel in width and py=1/h for 1 pixel in height. or 2/h, 3/h for two or three pixels etc.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<span class="username text-primary">horse-fly</span><br />
			<span class="date small text-muted">29th June 2004 00:57 GMT</span>
		</p>
		<p class="post-content">
		
		

		I'll try what WOTL said, as it seems to be the one that would work.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<span class="username text-primary">Shylent</span><br />
			<span class="date small text-muted">29th June 2004 07:24 GMT</span>
		</p>
		<p class="post-content">
		
		

		Hmm, seriously, Jaak, in case you are right, I will need to remake quite a lot of my scopes :(
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<span class="username text-primary">TomyLobo</span><br />
			<span class="date small text-muted">29th June 2004 07:52 GMT</span>
		</p>
		<p class="post-content">
		
		

		you should use megabufs for those scopes then<br />
wotl: i think it was 1/(w-1) and 1/(h-1)
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<span class="username text-primary">Warrior of the Light</span><br />
			<span class="date small text-muted">1st July 2004 22:22 GMT</span>
		</p>
		<p class="post-content">
		
		

		Why the extra -1?<br />
<br />
If screenwidth (w) is, say, 300 pixels,<br />
then 1 pixel is 1/w (1 / 300 = 0.003333333-&gt; ).<br />
<br />
Or am I wrong?
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<span class="username text-primary">UnConeD</span><br />
			<span class="date small text-muted">2nd July 2004 21:10 GMT</span>
		</p>
		<p class="post-content">
		
		

		1 pixel is 2/w (-1 .. 1 = 2 units), but you might need to add 1/w to coordinates to make sure you are on the center of a pixel.<br />
Same for y.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<span class="username text-primary">dirkdeftly</span><br />
			<span class="date small text-muted">3rd July 2004 02:24 GMT</span>
		</p>
		<p class="post-content">
		
		

		also, if you run into problems (as i did just recently) with points being a pixel off, avs does some wonky rounding and i *think* it turns out that avs rounds down to the nearest pixel when the value is above zero, and up if the value is below zero.  so if you have a point that is at 100.5 pixels, it will round to 100, but if it's -100.5, it'll round to -100 instead of -101<br />
the way i fixed it is just adding 1/w (1/2 pixel) to x and y.<br />
<font size="1">stupidgoddamnroundingerrors</font>
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<span class="username text-primary">Warrior of the Light</span><br />
			<span class="date small text-muted">3rd July 2004 13:42 GMT</span>
		</p>
		<p class="post-content">
		
		

		So if your screensize is 300x300 then w=h=150 and not 300?!? WTF?
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<span class="username text-primary">UnConeD</span><br />
			<span class="date small text-muted">3rd July 2004 16:27 GMT</span>
		</p>
		<p class="post-content">
		
		

		Um no WOTL.<br />
<br />
Width in pixels = 300pixels<br />
Width in 'avs units' = 2 (from -1 to 1).<br />
<br />
1 pixel = 2 / 300 = 2 / w
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<span class="username text-primary">TomyLobo</span><br />
			<span class="date small text-muted">5th July 2004 11:19 GMT</span>
		</p>
		<p class="post-content">
		
		

		ok 2/(w-1)<br />
pixels on screen go from 0..(w-1) whereas AVS has a coordinate range of -1..1<br />
so to go from pixels to avs coords, you<br />
 - divide by (w-1)<br />
 - multiply by 2<br />
 - subtract 1<br />
in other words<br />
xavs=xpix/(w-1)*2-1;<br />
if you have 2 pixels and want the distance, in avs coordinates:<br />
xavs1=xpix1/(w-1)*2-1;<br />
xavs2=xpix2/(w-1)*2-1;<br />
xavs2-xavs1=xpix2/(w-1)*2-1-(xpix1/(w-1)*2-1);<br />
=xpix2/(w-1)*2-xpix1/(w-1)*2;<br />
=(xpix2-xpix1)/(w-1)*2;<br />
<br />
if xpix2-xpix1 is 1 pixel then you get xavs2-xavs1=2/(w-1)<br />
<br />
same thing for y coords just with h instead of w
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<span class="username text-primary">Warrior of the Light</span><br />
			<span class="date small text-muted">5th July 2004 16:15 GMT</span>
		</p>
		<p class="post-content">
		
		

		Okay, I get it now. Thanks
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<span class="username text-primary">NemoOrange</span><br />
			<span class="date small text-muted">6th July 2004 04:22 GMT</span>
		</p>
		<p class="post-content">
		
		

		Kinda on the same subject:<br />
<br />
I was making a scope that I wanted to move in perfect 45 degree angles.<br />
<br />
The code went something like:<br />
<br />
xm=xm+sin(mr)*speed;<br />
<br />
ym=ym+cos(mr)*speed;<br />
<br />
mr=$PI/2*var+$PI/4;<br />
<br />
x=xm; y=ym;<br />
<br />
For the most part, it did move in 45 degrees, but every 10 pixels or so, it would move up a pixel, then back down 10 pixels later.  This sounds like what Atero was talking about.  Does anyone know how to fix this?
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<span class="username text-primary">UnConeD</span><br />
			<span class="date small text-muted">6th July 2004 06:33 GMT</span>
		</p>
		<p class="post-content">
		
		

		Nemo: Perhaps there are some rounding errors on the angle, in any case it's faster to just use +/- 0.707 rather than sin/cos.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<span class="username text-primary">vanderphunck</span><br />
			<span class="date small text-muted">4th August 2004 10:59 GMT</span>
		</p>
		<p class="post-content">
		
		

		check my reply to this thread: <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?s=&amp;postid=1429445#post1429445" target="_blank">http://forums.winamp.com/showthread....45#post1429445</a>
		</p>
</div>

	<hr />



<div class="footer">
		<p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
	</div>
</div>

<!-- Put JavaScript here -->

</body>
</html>