<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">    <!-- Bootstrap core CSS -->
	<meta name="keywords" content=" Pixel Placement, avs, advanced visualization studio, wvs, winamp visualization studio" />
	<meta name="description" content=" Pixel Placement AVS" />
	
	<title> Pixel Placement - Winamp Forums</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body>

<div class="container">
<ol class="breadcrumb">
  <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>
  <li><a href="f-85.html">AVS</a></li>
  <li class="active">Pixel Placement</li>
</ol>
<!-- div class="pda"><a href="t-184860.html?login=1" rel="nofollow">Log in</a></div -->
<p class="lead text-muted">Archive: <a title="Try the Wayback Machine" target="_blank" href="http://web.archive.org/web/*/http://forums.winamp.com/showthread.php?t=184860">Pixel Placement</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username text-primary">horse-fly</div><div class="date small text-muted">28th June 2004, 06:07</div></div>
<br />
<div class="posttext">Is there a way to define a superscope by a certain pixel position, rather than ratio?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Deamon</div><div class="date small text-muted">28th June 2004, 10:09</div></div>
<br />
<div class="posttext">in frame:<br />
<br />
p=0;<br />
<br />
In per point:<br />
p=p+1;<br />
x=xp1*equal(p,1)+xp2*equal(p,2)+xp3*equal(p,3);<br />
y=yp1*equal(p,1)+yp2*equal(p,2)+yp3*equal(p,3);<br />
<br />
where xp1, xp2, xp3, yp1, yp2 and yp3 are coordinates. Make sure n equals the number of p you use, all n higher than p snap to coords (0,0).<br />
<br />
Works in 3D as well.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Jaak</div><div class="date small text-muted">28th June 2004, 10:29</div></div>
<br />
<div class="posttext">dont use multiply, just chunks of ifs, multiplication is slow, but the ifs will be quite faster... especialy if your little scope consists of 100 points :p</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Warrior of the Light</div><div class="date small text-muted">28th June 2004, 11:51</div></div>
<br />
<div class="posttext">I don't think this is what he meant.. <br />
You can use px=1/w for instance for 1 pixel in width and py=1/h for 1 pixel in height. or 2/h, 3/h for two or three pixels etc.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">horse-fly</div><div class="date small text-muted">29th June 2004, 00:57</div></div>
<br />
<div class="posttext">I'll try what WOTL said, as it seems to be the one that would work.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Shylent</div><div class="date small text-muted">29th June 2004, 07:24</div></div>
<br />
<div class="posttext">Hmm, seriously, Jaak, in case you are right, I will need to remake quite a lot of my scopes :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">TomyLobo</div><div class="date small text-muted">29th June 2004, 07:52</div></div>
<br />
<div class="posttext">you should use megabufs for those scopes then<br />
wotl: i think it was 1/(w-1) and 1/(h-1)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Warrior of the Light</div><div class="date small text-muted">1st July 2004, 22:22</div></div>
<br />
<div class="posttext">Why the extra -1?<br />
<br />
If screenwidth (w) is, say, 300 pixels,<br />
then 1 pixel is 1/w (1 / 300 = 0.003333333-&gt; ).<br />
<br />
Or am I wrong?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">2nd July 2004, 21:10</div></div>
<br />
<div class="posttext">1 pixel is 2/w (-1 .. 1 = 2 units), but you might need to add 1/w to coordinates to make sure you are on the center of a pixel.<br />
Same for y.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">3rd July 2004, 02:24</div></div>
<br />
<div class="posttext">also, if you run into problems (as i did just recently) with points being a pixel off, avs does some wonky rounding and i *think* it turns out that avs rounds down to the nearest pixel when the value is above zero, and up if the value is below zero.  so if you have a point that is at 100.5 pixels, it will round to 100, but if it's -100.5, it'll round to -100 instead of -101<br />
the way i fixed it is just adding 1/w (1/2 pixel) to x and y.<br />
stupidgoddamnroundingerrors</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Warrior of the Light</div><div class="date small text-muted">3rd July 2004, 13:42</div></div>
<br />
<div class="posttext">So if your screensize is 300x300 then w=h=150 and not 300?!? WTF?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">3rd July 2004, 16:27</div></div>
<br />
<div class="posttext">Um no WOTL.<br />
<br />
Width in pixels = 300pixels<br />
Width in 'avs units' = 2 (from -1 to 1).<br />
<br />
1 pixel = 2 / 300 = 2 / w</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">TomyLobo</div><div class="date small text-muted">5th July 2004, 11:19</div></div>
<br />
<div class="posttext">ok 2/(w-1)<br />
pixels on screen go from 0..(w-1) whereas AVS has a coordinate range of -1..1<br />
so to go from pixels to avs coords, you<br />
 - divide by (w-1)<br />
 - multiply by 2<br />
 - subtract 1<br />
in other words<br />
xavs=xpix/(w-1)*2-1;<br />
if you have 2 pixels and want the distance, in avs coordinates:<br />
xavs1=xpix1/(w-1)*2-1;<br />
xavs2=xpix2/(w-1)*2-1;<br />
xavs2-xavs1=xpix2/(w-1)*2-1-(xpix1/(w-1)*2-1);<br />
=xpix2/(w-1)*2-xpix1/(w-1)*2;<br />
=(xpix2-xpix1)/(w-1)*2;<br />
<br />
if xpix2-xpix1 is 1 pixel then you get xavs2-xavs1=2/(w-1)<br />
<br />
same thing for y coords just with h instead of w</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Warrior of the Light</div><div class="date small text-muted">5th July 2004, 16:15</div></div>
<br />
<div class="posttext">Okay, I get it now. Thanks</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">NemoOrange</div><div class="date small text-muted">6th July 2004, 04:22</div></div>
<br />
<div class="posttext">Kinda on the same subject:<br />
<br />
I was making a scope that I wanted to move in perfect 45 degree angles.<br />
<br />
The code went something like:<br />
<br />
xm=xm+sin(mr)*speed;<br />
<br />
ym=ym+cos(mr)*speed;<br />
<br />
mr=$PI/2*var+$PI/4;<br />
<br />
x=xm; y=ym;<br />
<br />
For the most part, it did move in 45 degrees, but every 10 pixels or so, it would move up a pixel, then back down 10 pixels later.  This sounds like what Atero was talking about.  Does anyone know how to fix this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">6th July 2004, 06:33</div></div>
<br />
<div class="posttext">Nemo: Perhaps there are some rounding errors on the angle, in any case it's faster to just use +/- 0.707 rather than sin/cos.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">vanderphunck</div><div class="date small text-muted">4th August 2004, 10:59</div></div>
<br />
<div class="posttext">check my reply to this thread: http://forums.winamp.com/showthread.php?s=&amp;postid=1429445#post1429445</div></div><hr />
<div class="footer">
	<p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
</div>
</div>

</body>
</html>