<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">    <!-- Bootstrap core CSS -->
	<meta name="keywords" content=" avs 2.8 alpha 3-4 and EXP1 (Woo), avs, advanced visualization studio, wvs, winamp visualization studio" />
	<meta name="description" content=" avs 2.8 alpha 3-4 and EXP1 (Woo) AVS" />
	
	<title> avs 2.8 alpha 3-4 and EXP1 (Woo) - Winamp Forums</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body>

<div class="container">
<ol class="breadcrumb">
  <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>
  <li><a href="f-85.html">AVS</a></li>
  <li class="active">avs 2.8 alpha 3-4 and EXP1 (Woo)</li>
</ol>
<!-- div class="pda"><a href="t-157984.html?login=1" rel="nofollow">Log in</a></div -->
<p class="lead text-muted">Archive: <a title="Try the Wayback Machine" target="_blank" href="http://web.archive.org/web/*/http://forums.winamp.com/showthread.php?t=157984">avs 2.8 alpha 3-4 and EXP1 (Woo)</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username text-primary">justin</div><div class="date small text-muted">29th November 2003, 07:38</div></div>
<br />
<div class="posttext">http://www.firehose.net/~deadbeef/avs28alpha3.zip<br />
<br />
- Fixed the doublesize mouse issues.<br />
- Optimized evallib more (woo fun shit writing stuff that generates x86 asm), generated code is now 40% smaller and slightly faster.<br />
- Added evallib code stats in debug window.<br />
- Reduced overall memory use.<br />
<br />
Woot. Thursday's gettin closer! hehe.<br />
I think I am also gonna add setmousepos(x,y) soon, so that if the avs window has focus, the script can reset the mouse position, in order to detect movement (i.e. for mouse controlled relative movements)...<br />
<br />
-Justin</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">29th November 2003, 09:58</div></div>
<br />
<div class="posttext">I'm experiencing a very weird bug with this alpha (using rc9).<br />
Occasionally when loading a preset, the first 'n' components of it will be missing. Sometimes the entire preset is even entirely empty, and sometimes only the last component remains. How many components are missing seems completely random, even for the same preset.<br />
<br />
I'm trying to figure out what causes it, but it's happening only occasionally.<br />
I.e. if I flip around a lot with next/prev, it will occur sometimes.<br />
<br />
It happens both on large and small presets, on presets with or without effect lists and with or without apes.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Deamon</div><div class="date small text-muted">29th November 2003, 10:18</div></div>
<br />
<div class="posttext">Using rc8, this problem has not occured to me yet.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">skupers</div><div class="date small text-muted">29th November 2003, 10:23</div></div>
<br />
<div class="posttext">I use winamp2.91 and it has happened to me once so far. A preset lost it's first four components: a set rendermode, a superscope, an entire effectlist and a texer II.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">29th November 2003, 10:51</div></div>
<br />
<div class="posttext">imo a setmousepos(x,y) function would be very, very, very annoying and would only lead to very, very, very annoying presets from very, very, very annoying n00bs that tend to use things like &lt;blink&gt;.<br />
<br />
\o/ rock on justin for making avs 1337, even though i'm not using any more new alphas until people start saying it's not borked \o/</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Jaak</div><div class="date small text-muted">29th November 2003, 13:21</div></div>
<br />
<div class="posttext">Wohoo... that called fps :D<br />
i get 75-100fps @ 384x256 with my solid (and phonged ;)) icosahedron but, yes the 'n' bug is really stupid, i have had this few times with ssc and once with texer2 O_o<br />
<br />
heh, i dont think setmousepos(x,y) is good idea</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Yathosho</div><div class="date small text-muted">29th November 2003, 14:32</div></div>
<br />
<div class="posttext">i have the feeling the random of avs got even worse, i often get the same preset played twice. i wish both -winamp and avs- had a more advanced random mode, one that does not repeat a track/preset before all in a dir/playlist were played.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">skupers</div><div class="date small text-muted">29th November 2003, 15:41</div></div>
<br />
<div class="posttext">Originally posted by skupers <br />
I use winamp2.91 and it has happened to me once so far. A preset lost it's first four components: a set rendermode, a superscope, an entire effectlist and a texer II.  <br />
<br />
Another preset lost it first 8 components.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Shock Value</div><div class="date small text-muted">29th November 2003, 18:08</div></div>
<br />
<div class="posttext">I'm getting the missing components bug too. Seems to happen when switching presets quickly, for example hitting U and then Y in quick succession.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Deamon</div><div class="date small text-muted">29th November 2003, 18:28</div></div>
<br />
<div class="posttext">Yep, it occurs over here now as well, Almost half of UCD's LOTR preset dissapeared.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">29th November 2003, 21:17</div></div>
<br />
<div class="posttext">i cornloaded this one and now I've gotten the components bug about three times as well...running wa2.91 on win98se.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">fragmer</div><div class="date small text-muted">29th November 2003, 21:49</div></div>
<br />
<div class="posttext">I think setmousepos(x,y) is not useful :(<br />
What about $mouseX and $mouseY - that'll be interesting... :p<br />
<br />
[EDIT]<br />
oh, and BTW UnConeD, where did you get RC9? :winamp::winamp::winamp:</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">29th November 2003, 22:07</div></div>
<br />
<div class="posttext">$mousex and $mousey already exist.  pay attention foo'<br />
<br />
and i just realized this...since when is there a limit on variable name lengths?  if it was implimented after 2.6 it could cause problems for old presets.  imo this is a really stupid idea in the first place...yes it does discourage cluttered code, but it can cause trouble if don't know about it in the first place....</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">30th November 2003, 00:19</div></div>
<br />
<div class="posttext">I think the most important question is: 'Will the final AVS release with Winamp 5 be stable?'. All the new features are great, but who will use a vis plugin that crashes every 10 seconds?<br />
<br />
BTW: has anyone noticed how superscopes will randomly switch from lines to dots during editing?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">[Ishan]</div><div class="date small text-muted">30th November 2003, 06:39</div></div>
<br />
<div class="posttext">nah. i think after hearing all these porblems i wont download this alpha :rolleyes:</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">skupers</div><div class="date small text-muted">30th November 2003, 09:06</div></div>
<br />
<div class="posttext">Originally posted by jheriko <br />
BTW: has anyone noticed how superscopes will randomly switch from lines to dots during editing?  <br />
<br />
Now I think about it, I do remember a few times where I thought I set a scope to lines, but later it was set to dots. I thought I just clicked wrong or something, but maybe it's a bug like you said.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">30th November 2003, 14:24</div></div>
<br />
<div class="posttext">I just realized you implemented a rather big change in alpha behaviour for DM's... a gradient between alpha=0 and alpha=1 will not be the same as a gradient between alpha=-1 and alpha=2.<br />
So basically AVS is interpolating between the coded alpha values, and clamping the interpolated result to 0..1.<br />
<br />
The previous behaviour was that alpha would clamp the gridpoint's alpha before interpolation. Some situations do benefit from the new style, but it should be a toggle not to clamp alpha before interpolation IMO, with old presets retaining the old behaviour. There are many presets that depend on the old style to pull off some visual tricks (like Retrosquares, which is included in the Winamp5 picks!).<br />
Add alpha=max(0,min(1,alpha)); to the end of the point code in the first DM in Retrosquares to see how it should look. The second DM in retrosquares does benefit from the new behaviour, so it would be handy to be able to toggle.<br />
<br />
<br />
There was an alpha clamping bug, but this was not what was meant...<br />
The bug was that when you get large alpha values, it starts toggling on/off randomly. You'd need to clamp alpha for this, however for the new alpha behaviour (if togglable) to be useful, you couldn't clamp at 0 and 1. I suggest determining the upper/lower limit for alpha based on code, and clamping at that.<br />
<br />
To see this in action, try this:<br />
* Render / Clear Screen: White<br />
* Trans / DM: No Movement, Blend only. Per point code: alpha=10<br />
<br />
Now add more zeroes to 10... sometimes the alpha will invert, for example at 1000.<br />
<br />
<br />
By the way, just letting AVS play in Winamp on random preset mode is enough to make it crash after couple of minutes.<br />
The cause is reading a nullpointer. I'll see if I can figure out where.<br />
<br />
PS: Next time you're unsure what a particular bug is, please send me a mail... I collected the wishlist and authored most entries myself ;).</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">skupers</div><div class="date small text-muted">30th November 2003, 15:51</div></div>
<br />
<div class="posttext">Originally posted by UnConeD <br />
There was an alpha clamping bug, but this was not what was meant...<br />
The bug was that when you get large alpha values, it starts toggling on/off randomly. You'd need to clamp alpha for this, however for the new alpha behaviour (if togglable) to be useful, you couldn't clamp at 0 and 1. I suggest determining the upper/lower limit for alpha based on code, and clamping at that.<br />
<br />
To see this in action, try this:<br />
* Render / Clear Screen: White<br />
* Trans / DM: No Movement, Blend only. Per point code: alpha=10<br />
<br />
Now add more zeroes to 10... sometimes the alpha will invert, for example at 1000.<br />
<br />
<br />
Is this what causes those irritating dots on some 3d movements at the places where the distance is extremely far?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">30th November 2003, 16:35</div></div>
<br />
<div class="posttext">Yup... ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">hungryskull</div><div class="date small text-muted">30th November 2003, 16:45</div></div>
<br />
<div class="posttext">I'm going to be able to make some crazy presets with this.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">justin</div><div class="date small text-muted">1st December 2003, 07:11</div></div>
<br />
<div class="posttext">Originally posted by UnConeD <br />
PS: Next time you're unsure what a particular bug is, please send me a mail... I collected the wishlist and authored most entries myself ;).  <br />
<br />
Actually, I didn't do what you thought, and make it clamp at each interpolated point... rather I was just fixing the clamping to clamp to 0..1 at each eval point. But my code was fucked, so clamping was disabled altogether. Oops. Here is the fixed version:<br />
<br />
http://firehose.net/~deadbeef/avs28alpha4.zip<br />
<br />
Some other optimizations in there too... This one should hopefully<br />
go in WA5 on thursday, heh.<br />
<br />
-Justin</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">net-cruizer</div><div class="date small text-muted">1st December 2003, 07:37</div></div>
<br />
<div class="posttext">Sweet!</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">[Ishan]</div><div class="date small text-muted">1st December 2003, 14:12</div></div>
<br />
<div class="posttext">hehe i hope this version is good enough!:rolleyes:</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Shock Value</div><div class="date small text-muted">1st December 2003, 21:35</div></div>
<br />
<div class="posttext">I'm still getting disappearing components when switching presets sometimes. I'm not yet sure if it still crashes though. I'll fool around with it later.<br />
<br />
EDIT: It just crashed while I was trying to save a preset. I hope these bugs get ironed out before the Winamp 5 release.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">horse-fly</div><div class="date small text-muted">1st December 2003, 22:26</div></div>
<br />
<div class="posttext">wa5 is out thursday?!?!?!   neato</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">zamuz</div><div class="date small text-muted">2nd December 2003, 00:16</div></div>
<br />
<div class="posttext">got some weird stuff going on in my avs screen, but after restarting winamp it's all good. wtg justin :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">justin</div><div class="date small text-muted">2nd December 2003, 05:57</div></div>
<br />
<div class="posttext">Originally posted by Shock Value <br />
I'm still getting disappearing components when switching presets sometimes. I'm not yet sure if it still crashes though. I'll fool around with it later.<br />
<br />
EDIT: It just crashed while I was trying to save a preset. I hope these bugs get ironed out before the Winamp 5 release.  <br />
<br />
Can you send me (justin at nullsoft dot com) your vis_Avs.ini? Thx.<br />
<br />
-J</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">uNDefineD</div><div class="date small text-muted">2nd December 2003, 06:39</div></div>
<br />
<div class="posttext">Alpha4 is running nicely Justin, and thanks for ironing out the component bug! So will there be a full AVS 2.8 ready for Thursday, or will you stick with the alpha?<br />
<br />
BTW...<br />
<br />
Originally posted by justin <br />
justin at nullsoft dot com<br />
<br />
Keyboard broken or something? :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Nic01</div><div class="date small text-muted">2nd December 2003, 22:44</div></div>
<br />
<div class="posttext">NDD : It's to prevent spambots from doing what they do :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">2nd December 2003, 23:04</div></div>
<br />
<div class="posttext">Actually it's dead easy to grab these supposed spam proof addresses:<br />
<br />
[a-zA-Z0-9_-~+]+ at ([a-zA-Z0-9_-~+]+ dot )+[a-zA-Z0-9_-~+]+<br />
<br />
(regular expression)<br />
<br />
You're better off using some smarter scheme, e.g. &quot;my first name at nullsoft dot com&quot;<br />
<br />
Humans won't have a problem, spambots will ;).</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">horse-fly</div><div class="date small text-muted">2nd December 2003, 23:13</div></div>
<br />
<div class="posttext">what if they didn't know his name was justin, even tho there were sooo many hints for it</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Akuso</div><div class="date small text-muted">2nd December 2003, 23:46</div></div>
<br />
<div class="posttext">Being THAT stupid, they have no business mailing him anyway</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">justin</div><div class="date small text-muted">3rd December 2003, 01:44</div></div>
<br />
<div class="posttext">Originally posted by UnConeD <br />
Actually it's dead easy to grab these supposed spam proof addresses:<br />
<br />
[a-zA-Z0-9_-~+]+ at ([a-zA-Z0-9_-~+]+ dot )+[a-zA-Z0-9_-~+]+<br />
<br />
(regular expression)<br />
<br />
You're better off using some smarter scheme, e.g. &quot;my first name at nullsoft dot com&quot;<br />
<br />
Humans won't have a problem, spambots will ;).  <br />
<br />
Yeah well I wasn't too terribly afraid, I get so much spam anyway.. was just making it non-superduper-trivialobviouslybad. :)<br />
<br />
-J</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">justin</div><div class="date small text-muted">3rd December 2003, 06:30</div></div>
<br />
<div class="posttext">OK I think this finally fixes (thanks to Unconed's diagnostic help):<br />
<br />
http://firehose.net/~deadbeef/avs28exp2.zip<br />
<br />
The exp1 (err now exp2 fixing the deadlock bug) is because this uses my new evallib version which has some pretty major architectural changes (supports unlimited variables yay!)... So if you notice any new eval related bugs let me know, and I'll either fix or revert to the old code if need be.<br />
<br />
-Justin<br />
<br />
Edit: updated it again, resolving lots of little preset/transition issues. If you got it before reading this notice, get again =)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jonasc1</div><div class="date small text-muted">3rd December 2003, 19:10</div></div>
<br />
<div class="posttext">i only have one problem:<br />
when i close the avs window a &quot;plugin has executed an ilegal opperation. restart of winamp is recomended&quot; message pops up.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Deamon</div><div class="date small text-muted">3rd December 2003, 19:54</div></div>
<br />
<div class="posttext">Doesn't occur over here. Not even when I tap ctrl+shift+k really fast. Try reinstalling.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">fsk</div><div class="date small text-muted">3rd December 2003, 21:53</div></div>
<br />
<div class="posttext">Justin could you make the text have codable x,y,size,on/off and it would be extra cool if it could be used as an array (would return length and you could set the index for the rendered word) multiline text would also kick ass but if you do the others that wouldnt be hard to do with code.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">uNDefineD</div><div class="date small text-muted">4th December 2003, 01:00</div></div>
<br />
<div class="posttext">Originally posted by jonasc1 <br />
i only have one problem:<br />
when i close the avs window a &quot;plugin has executed an ilegal opperation. restart of winamp is recomended&quot; message pops up.  <br />
<br />
Same here. I'm using exp2. It doesn't really make much of a difference in the operation of the program itself, but it's damn annoying.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">piR</div><div class="date small text-muted">4th December 2003, 12:40</div></div>
<br />
<div class="posttext">Same thing for me. It also happens when I dock the AVS window in or out of the Winamp 'window'.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Warrior of the Light</div><div class="date small text-muted">4th December 2003, 13:07</div></div>
<br />
<div class="posttext">And still, when I return from fullscreen to normal (undocked), the cursor disappears behind the editor and all other WA windows.<br />
Clicking on any window fixes this, but it's quite annoying.<br />
Changing priorities shoud fix this, I guess.<br />
<br />
I know this is a WA5-related bug, but since we're listing bugs anyway...<br />
<br />
Using W98 and WXP, happens with both.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">4th December 2003, 15:39</div></div>
<br />
<div class="posttext">has been happening in w98se on wa2.x for a long time too.  i seriously don't see what the problem is though....</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">EL-VIS2</div><div class="date small text-muted">14th December 2003, 09:57</div></div>
<br />
<div class="posttext">Not a bug but to consider:<br />
<br />
In previous version of AVS the image is lost on resizing the AVS-window. Now there is this option &quot;reuse image on window resize&quot; found in display settings which is turned on by default.<br />
<br />
I do not know if this thing really makes sense here. Especially when doing SSC/DynaMove-coding depending on w and h it is comfortable to get an empty image after resizing to start back from &quot;black&quot; with the new res. Plus with some extra-code one can check for resizing and then start drawing from the very start, i.e.<br />
<br />
Frame: <br />
new=if(equal(resold,w*h),0,1);<br />
resold = w*h;<br />
...<br />
<br />
Now with this new option some unwanted leftovers of the previous res stay on the screen which causes some of my presets to look ugly.<br />
<br />
I think this new option should be better placed somewhere inside a preset i.e. inside &quot;main&quot;. So one can decide for every single preset if the image is kept on resizing.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">14th December 2003, 15:09</div></div>
<br />
<div class="posttext">Using effect list coding you can do your own check though, and make every effect 'first frame/resize only'.<br />
<br />
By the way it's probably better to check w/h separately rather than their product.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Zevensoft</div><div class="date small text-muted">15th December 2003, 03:43</div></div>
<br />
<div class="posttext">It's better to use h*1600+w instead, no one's really gonna run AVS at a higher horizontal resolution of 1600. Or if you can spare the division, h+1/w. This puts the height on the left, and width on the right of the decimal point, as we know that both w and h are integers.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">15th December 2003, 05:26</div></div>
<br />
<div class="posttext">Why would a multiplication+sum or even a division+sum be faster than simple equal-checks?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">EL-VIS2</div><div class="date small text-muted">15th December 2003, 08:45</div></div>
<br />
<div class="posttext">Originally posted by UnConeD <br />
Using effect list coding you can do your own check though, and make every effect 'first frame/resize only'.<br />
<br />
<br />
<br />
Yep, but I am thinking of compabilitiy - means running Presets made with previous AVS-versions in new AVS2.8</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Zevensoft</div><div class="date small text-muted">15th December 2003, 11:16</div></div>
<br />
<div class="posttext">Originally posted by UnConeD <br />
Why would a multiplication+sum or even a division+sum be faster than simple equal-checks?  <br />
<br />
Because you know as well as I do that jumps kill the cache.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">15th December 2003, 16:41</div></div>
<br />
<div class="posttext">True but FP multiplication and especially division are still slow. I'm not sure if branch prediction will have an effect on such a single piece of code.<br />
<br />
Remember though, due to the evallib changes, a lot of code that used to be slow will be fast now (best example: Neon Coaster which runs 3-4x faster).</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">zamuz</div><div class="date small text-muted">19th December 2003, 00:30</div></div>
<br />
<div class="posttext">ok maybe this isn't the best place to post but i didn't want to create a new thread...<br />
<br />
when clicking the channel shift winamp crashes without even showing the menu, it happened in the final that came with wa5.<br />
<br />
*edit: nevermind, spotted the problem... the channel shift ape was still in the avs directory, this is what makes it crash.</div></div><hr />
<div class="footer">
	<p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
</div>
</div>

</body>
</html>