<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">    <!-- Bootstrap core CSS -->
	<meta name="keywords" content=" AVS joystick control, avs, advanced visualization studio, wvs, winamp visualization studio" />
	<meta name="description" content=" AVS joystick control AVS" />
	
	<title> AVS joystick control - Winamp Forums</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body>

<div class="container">
<ol class="breadcrumb">
  <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>
  <li><a href="f-85.html">AVS</a></li>
  <li class="active">AVS joystick control</li>
</ol>
<!-- div class="pda"><a href="t-217575.html?login=1" rel="nofollow">Log in</a></div -->
<p class="lead text-muted">Archive: <a title="Try the Wayback Machine" target="_blank" href="http://web.archive.org/web/*/http://forums.winamp.com/showthread.php?t=217575">AVS joystick control</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username text-primary">Boktor</div><div class="date small text-muted">31st May 2005, 12:14</div></div>
<br />
<div class="posttext">A short while ago I came across winstick. A program to control your winamp with a joystick.<br />
I saw it mimicks keyboard keys, which gave me the idea it could be used to control AVS.<br />
I have worked out a little scheme, a list how to set it up and a test.avs. Klique here (http://www.daandirk.nl/controlavs).<br />
<br />
I hope at least some of you have a gamepad.<br />
Well, check it out and tell me what you think.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">31st May 2005, 23:29</div></div>
<br />
<div class="posttext">with open source avs we might be able to add a good joystick/gamepad support which would eliminate the need to share the keyboard with winamp</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Boktor</div><div class="date small text-muted">1st June 2005, 10:59</div></div>
<br />
<div class="posttext">I tend to believe that priority on open source AVS is and should not be joystick input. For real multi-tasking however it seem inevitable. One should be able to type and control AVS with a joystick at the same time<br />
<br />
Until it happens the keyboard still has plenty of keys left. Maybe not enough to use whole a second controller, but one could give up some winamp hotkeys.<br />
<br />
For now it works.<br />
I wonder however if any AVS-user has either a logitech dual action or sidewinder.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">1st June 2005, 11:50</div></div>
<br />
<div class="posttext">I only recommended it because it has the look of a 10 minute job (not literally... read 'only needs small code changes') and would be very useful for making avs games. (the main thing always putting me off is the bad keyb support)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Boktor</div><div class="date small text-muted">1st June 2005, 12:55</div></div>
<br />
<div class="posttext">The highly responsive keyboard is annoying.<br />
<br />
You made me think and here is an improvement.<br />
<br />
q1=band(q2,(getkbmouse(79)));<br />
q2=bnot(getkbmouse(79));<br />
if(equal(q1, 1), assign(q3, q3+1), 0);<br />
reg01=(q3|0)&amp;1;<br />
<br />
Now reg01 goes on and off by pressing o.<br />
<br />
I've worked it out in the new example file, which can be found  here (http://www.daandirk.nl/controlavs).<br />
<br />
Thanks for making me think.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Warrior of the Light</div><div class="date small text-muted">1st June 2005, 19:00</div></div>
<br />
<div class="posttext">my method:<br />
<br />
frame<br />
mc=getkbmouse(3); //mc=mouseclick<br />
mcpulse=if(equal(mcold,mcnew),0,if(equal(mcold,0),1,0)); <br />
// enabled only 1 frame on mouseclick<br />
<br />
mcold=var;<br />
var=if(equal(mc,0),mcpulse,1); //var is only used as temp<br />
mcnew=var;<br />
<br />
mcswitch=if(mcpulse,bnot(mcswitch),mcswitch);<br />
reg02=mcswitch;<br />
<br />
<br />
I used this in Oil Grease Is Not Black in Preset Pack 2.<br />
I wanted to attach it, but you can't attach presets in edit mode anymore. I hate doubleposting so I'll post a link to PP2 instead.. <br />
http://www.deviantart.com/download/12533150/</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">1st June 2005, 23:18</div></div>
<br />
<div class="posttext">i normally stick with something simpler like this:<br />
<br />
<br />
oldg=g;<br />
g=getkbmouse(akeynum);<br />
pressedonce=below(oldg,g);<br />
<br />
<br />
pressedonce is 1 the frame that the user first pushes the key down and is otherwise 0.<br />
<br />
also for doing time independant moves (i.e. a quake style camera walk) use:<br />
<br />
dt=gettime(lasttime);<br />
lasttime=gettime(0);<br />
pos=pos+dt*(getkeybmouse(keyplus)-getkeybmouse(keyminus));<br />
<br />
<br />
again, short and sweet :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Warrior of the Light</div><div class="date small text-muted">2nd June 2005, 08:12</div></div>
<br />
<div class="posttext">Originally posted by jheriko <br />
i normally stick with something simpler like this:<br />
<br />
<br />
oldg=g;<br />
g=getkbmouse(akeynum);<br />
pressedonce=below(oldg,g);<br />
<br />
<br />
 <br />
why didn't I think of that!</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">^..^</div><div class="date small text-muted">2nd June 2005, 11:31</div></div>
<br />
<div class="posttext">wouldn't this even be a bit faster:<br />
pressedonce=band(getkbmouse(3),stopit);<br />
stopit=bnot(getkbmouse(3));? 'pressedonce' is 1 during the frame you press the key, from the following frame on it's 0 again.<br />
<br />
Well, atleast that's what i always use...</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">2nd June 2005, 12:32</div></div>
<br />
<div class="posttext">Its debateable which would be faster (I'd guess at mine by a few clock cycles), but the difference would be slim anyway.<br />
<br />
2 assignments + 2 getkbmouse + band + bnot<br />
against<br />
3 assignments + 1 getkbmouse + below<br />
<br />
speed isnt that much of an issue... i just wanted to point out a tidier solution rather than a faster one. none of this code is particularly slow or time critical.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Boktor</div><div class="date small text-muted">2nd June 2005, 12:35</div></div>
<br />
<div class="posttext">So a on/off switch could be this counter with an &amp;1 added to it.oldg=g;<br />
g=getkbmouse(number);<br />
counter=if(below(oldg,g), counter+1, counter);<br />
reg03=counter&amp;1;orcounter=if(band(getkbmouse(number),g), counter+1, counter);<br />
g=bnot(getkbmouse(number));<br />
reg04=counter&amp;1;Nice. Or are there even better ways to do this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">2nd June 2005, 12:51</div></div>
<br />
<div class="posttext">Avoid using those ifs when you dont need to. <br />
<br />
counter = if(below(oldg,g),counter+1,counter);<br />
<br />
could be <br />
<br />
counter = counter + below(oldg,g);<br />
<br />
which is better as it avoids the if which is slower than the + anyway, so dodging the + with if isnt a speed boost.<br />
<br />
Whats the &amp; 1 for? you want it to toggle from 0 to 1?<br />
<br />
I'm not sure if its faster but I think it is tidier to use:<br />
<br />
<br />
oldg=g;g=getkbmouse(number);<br />
counter = (counter + below(oldg,g))%2;<br />
<br />
<br />
I'm not sure but I think &amp; and | are pretty slow 'cos of rounding to int, likewise %, floor etc. The %2 can be replaced by &amp;1 if it is faster...<br />
<br />
The other thing is that this can be expanded to 'toggle' between 0,1,2 or 0,1,2,3 and so on, by changing the final %2 for %3 or %4 etc... very useful for complicated menus.<br />
<br />
The most comprehensive menu I have released on a preset is on this one:<br />
<br />
http://www.deviantart.com/deviation/13908660/<br />
<br />
Although its prolly full of bad coding practice, as all presets are, it shows some of this in use, like the color switchers and click buttons etc.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Boktor</div><div class="date small text-muted">2nd June 2005, 13:16</div></div>
<br />
<div class="posttext">Thanks for the +-instead-of-if tip. Never looked at it from this angle.<br />
Whats the &amp; 1 for? you want it to toggle from 0 to 1?<br />
Yes, that was the idea.<br />
I'm not sure either, but the difference between | &amp; and % seems negliable (and the numbers used are integers already, I'd guess that it shouldn't take long to recognise). The extended 'toggle' is an advantage, though.<br />
<br />
I was thinking about making something like a menu for the joystick control, so you'd see what you're doin, your example will be a great help. :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Boktor</div><div class="date small text-muted">18th August 2005, 17:02</div></div>
<br />
<div class="posttext">A menu is rather irritating actually, so I dismissed it.<br />
<br />
<br />
Made a little avi (http://www.daandirk.nl/uploads/180/Boktor_action__graphics_is_a_game.avi) in which i use my gamepad.<br />
Except for reencoding it to 3ivX, it's all AVS.<br />
<br />
<br />
Reactions appreciated.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">14th September 2005, 17:38</div></div>
<br />
<div class="posttext">firstly. the video is huge.<br />
<br />
secondly. why not post the avs preset and ape or whatever?<br />
<br />
I'll give you another reply in 3 minutes when i have finished downloading your huge video.<br />
<br />
--------<br />
<br />
It uses Winstick? Thats so useful... a prerequisite for an avs preset that can be nicely wrapped into an installer .exe and requires no effort from the user. Joystick presets are the way to go!!! ¬<br />
<br />
Seriously though, its pretty cool, but for reasons outlined above, not practical for an avs pack. I guess its awesome for VJ'ing though.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Boktor</div><div class="date small text-muted">14th September 2005, 20:04</div></div>
<br />
<div class="posttext">Thanks for your comment.<br />
Originally posted by jheriko <br />
firstly. the video is huge.Depends on your definition of small/huge, for a video file it's not that big.<br />
secondly. why not post the avs preset and ape or whatever?It's an AVS (http://www.daandirk.nl/uploads/173/test.avs) -file and it's already on my site (http://www.daandirk.nl/controlavs).It uses Winstick? Thats so useful... a prerequisite for an avs preset that can be nicely wrapped into an installer .exe and requires no effort from the user. Joystick presets are the way to go!!! ¬You should work on your irony skills.<br />
But indeed an installer would be nice.<br />
I don't think it's impossible.Seriously though, its pretty cool, but for reasons outlined above, not practical for an avs pack.I agree for now.<br />
<br />
Though, the xbox360 will get a gamepad controlled visualizer (http://blogs.guardian.co.uk/games/archives/2005/07/05/jeff_minter_vs_xbox_360_how_microsoft_bought_the_light_synth_vision.html), called lightsynth (http://www.llamasoft.co.uk/neon.php), which might change things.<br />
I guess you don't want to download there  videos (http://www.llamasoft.co.uk/neon-movies.php).<br />
I guess its awesome for VJ'ing though. It is. It's very pleasant.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">25th September 2005, 03:03</div></div>
<br />
<div class="posttext">yeah. glad you appreciated the humour and didnt take offense :)<br />
<br />
any file &gt; 500k is huge on dialup<br />
<br />
i'm on 1meg and that took a long time to dl. and for that short a video... that is pretty huge, and not even at a justifyable quality. <br />
<br />
i have videos of episodes of tv series that big or smaller :) and not just cartoons.<br />
<br />
anyway, this does look cool. its just a shame there isnt inbuilt joystick control... if avs was really open we could add it :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">MaTTFURY</div><div class="date small text-muted">25th September 2005, 07:26</div></div>
<br />
<div class="posttext">another improvement for avs! mpeg's/other types of non-M$ video file formats!!! :D</div></div><hr />
<div class="footer">
	<p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
</div>
</div>

</body>
</html>