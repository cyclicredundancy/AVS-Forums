<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">    <!-- Bootstrap core CSS -->
	<meta name="keywords" content=" Truchet lines, avs, advanced visualization studio, wvs, winamp visualization studio" />
	<meta name="description" content=" Truchet lines AVS Presets" />
	
	<title> Truchet lines - Winamp Forums</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body>

<div class="container">
<ol class="breadcrumb">
  <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>
  <li><a href="f-85.html">AVS</a></li>
  <li><a href="f-137.html">AVS Presets</a></li>
  <li class="active">Truchet lines</li>
</ol>
<!-- div class="pda"><a href="t-207451.html?login=1" rel="nofollow">Log in</a></div -->
<p class="lead text-muted">Archive: <a title="Try the Wayback Machine" target="_blank" href="http://web.archive.org/web/*/http://forums.winamp.com/showthread.php?t=207451">Truchet lines</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">10th February 2005, 22:15</div></div>
<br />
<div class="posttext">long time since i've avsed...<br />
<br />
simple preset that draws truchet tilings.  i'll expand it later.<br />
<br />
the reason i'm posting it now is because gmegabuf acts really weird in this preset.  i have two instances of texerII.  the first does some changes to gmegabuf onbeat.  both should immediately accept these changes, but it seems that one or the other doesn't accept them until one frame aftewards (i *think* it's the first one, but i'm not sure)<br />
<br />
the first texerII changes reg00-02 as well, and occasionally it seems to take two frames for both texerIIs to synch that as well.<br />
<br />
i tested gmegabuf on this in another preset (included in the zip).  if this were a universal bug, the two dots in that preset would be on different sides every beat.  that doesn't happen, so i'm going to assume that the bug is isolated to my preset.<br />
<br />
i'd like to resolve the bug before i go any further with this idea.  does anyone have a clue why avs would be doing something like this?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Tuggummi</div><div class="date small text-muted">10th February 2005, 22:39</div></div>
<br />
<div class="posttext">I don't know why it does that, but putting the gmegabuf control to a superscope before the effect list's atleast solves the problem and you can use just 1 frame to render them.<br />
<br />
btw. Great idea and preset so far :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Warrior of the Light</div><div class="date small text-muted">10th February 2005, 22:45</div></div>
<br />
<div class="posttext">get the same problem here.. what about it if you'd calculate the globals in a seperate t2/ssc or in Jheriko's Global Variable Manager (still in beta)?<br />
<br />
Welcome back my the way...<br />
<br />
/edit: doh! you beat me on that!</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">S-uper_T-oast</div><div class="date small text-muted">10th February 2005, 23:24</div></div>
<br />
<div class="posttext">OMG HE TEH LIVES!!!One!@$#!#elven@#!^!!!!<br />
<br />
Nice to see your back.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">12th February 2005, 17:08</div></div>
<br />
<div class="posttext">First off, I'd like to welcome you back. (We had best start warning teh n00bs!11!!!!1!)<br />
<br />
Originally posted by dirkdeftly <br />
i have two instances of texerII.  the first does some changes to gmegabuf onbeat.  both should immediately accept these changes, but it seems that one or the other doesn't accept them until one frame aftewards (i *think* it's the first one, but i'm not sure)<br />
<br />
From my recent work with apes I can tell you that Texer II probably executes init, frame, beat and point in a fixed order every frame. If it was executing init-&gt;frame-&gt;beat-&gt;point then changes on beat would only affect the second texer's frame code<br />
<br />
The reason for using this order is that you want on beat code to always take priority over on frame. This is because setting variables on beat should always overwrite what they were set to per frame so that right values are there for the per point code. In addition, it means that you can respond to a beat on the frame that the beat happens on, and not have to wait for the next one.<br />
<br />
I haven't tested this theory out... but I'd guess that superscope, dm etc do the same and that this is why they provide the 'b' variable.<br />
<br />
If I was making Texer II this is certainly how I would implement it, and this would cause a problem like what you describe where the first texer executes the code on beat and the second one executes its frame code with these new values, but the first does not.<br />
<br />
EDIT: just looking at your test preset... i don't get any bug... what is odd though is that if i insert effect lists to destroy fps then sometimes 4 blobs are rendered per frame instead of 2... I thought maybe I was going nuts so I slowed it right down to 10fps and screenshotted it a few times. All sensibly coded so as to avoid the problem I mentioned above too... setting the el to 1 frame has no effect here<br />
<br />
EDIT2: the above is actually just an artifact of the preset construction (els). If two consecutive frames are beat frames then the framebuffer isn't cleared so 4 dots are drawn instead of 2. could this be causing your problem also?(although i cant see it?).. i doubt it as this effect list job looks like it was made to expose the problem. btw... the tiling pattern is nice... looks correct in all res I tried it on.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">PAK-9</div><div class="date small text-muted">13th February 2005, 13:05</div></div>
<br />
<div class="posttext">Originally posted by jheriko <br />
init, frame, beat and point in a fixed order every frame. If it was executing init-&gt;frame-&gt;beat-&gt;point then...I'm pretty sure the init code isnt evaluated every frame my friend ;)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">13th February 2005, 13:48</div></div>
<br />
<div class="posttext">potentially every frame....</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">PAK-9</div><div class="date small text-muted">14th February 2005, 13:54</div></div>
<br />
<div class="posttext">...but realistically not</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">15th February 2005, 18:03</div></div>
<br />
<div class="posttext">The point is that you have the same order of code execution every frame... which is useful to know for debugging since you know in which order all of your code gets evaluated at any time.<br />
<br />
And I make mistakes. :P</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Tuggummi</div><div class="date small text-muted">23rd February 2005, 20:47</div></div>
<br />
<div class="posttext">Here's a &quot;remix&quot; i did, though as the preset isn't finished yet, so i can't say if it's a mix or a &quot;making the preset complete&quot;... but anyway, hope you &quot;dig it&quot; dude :p</div></div><hr />
<div class="footer">
	<p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
</div>
</div>

</body>
</html>