<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Wrapping Variables" />

  <title>Wrapping Variables - AVS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-85.html">AVS</a></li>

      <li class="active">Wrapping Variables</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=117320">Wrapping Variables</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">KeatonMill</span><br /></p>

      <p class="post-time small text-muted">10th December 2002 00:54 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content"><strong>Wrapping Variables</strong><br />
      Hey guys. I've got a question. Is there a way to wrap a variable in superscopes? Specifically, I want to wrap something from -1 to 1, so that if the value is say 1.5, the wrapper will change it to -.5. I've tried different combinations of trig and arctrig functions, but haven't gotten anything to work yet.<br />
      <br />
      Can someone help?<br />
      <br />
      Thanks,<br />
      Keaton</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">UnConeD</span><br /></p>

      <p class="post-time small text-muted">10th December 2002 01:26 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">You can use a hack with the % operator to wrap with a certain precision... for example to wrap 'a' between 0 and 5 to a precision of 0.01:<br />
      <br />
      a=((a*100)%500)*.01<br />
      <br />
      To wrap between -5 and 5 with a precision of 0.1:<br />
      <br />
      a=(((a+5)*10)%100)*.1-5<br />
      <br />
      (add 5, scale by 10, wrap between 0-100, scale by 0.1, subtract 5)<br />
      <br />
      This isn't perfect and has some troubles near zero, but it works for most purposes.<br />
      <br />
      This technique will cause the numbers to jump back to the lower limit when they reach the upper limit.<br />
      <br />
      There's a different technique which has the numbers bounce between the upperlimit and lowerlimit (ping-pong style):<br />
      <br />
      asin(sin(var*(pi/2)))/(pi/2)<br />
      <br />
      This resembles a sine-wave, except it's completely linear. Naturally you should replace pi/2 and 1/(pi/2) by constants, but I left them in for clarity.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jaheckelsafar</span><br /></p>

      <p class="post-time small text-muted">10th December 2002 06:33 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">You could go the simple rout.<br />
      <br />
      a=a+.1;<br />
      a=if(above(a,1),a-2,a);<br />
      a=if(below(a,-1),a+2,a);<br />
      <br />
      It might no be the fastest, but it works. I have proof.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">UnConeD</span><br /></p>

      <p class="post-time small text-muted">10th December 2002 07:23 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">Jaheckelsafar, your method works for variables that increase/decrease less than one period of the wrapping. Mine works for wrapping any number into the range.<br />
      <br />
      So, choose whichever one you need. Jaheckelsafar's is faster of course.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">fsk</span><br /></p>

      <p class="post-time small text-muted">13th December 2002 11:08 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">this might sound silly but what is wraping?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">nixa</span><br /></p>

      <p class="post-time small text-muted">13th December 2002 18:53 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">FSK: Wraping means to get any variable value to be between some min and max values. Moastly this is used whith angles alpha=alpha+2*pi=alpha+4*pi=alpha+6*pi=alpha+2*k*pi,(k element of Z)<br />
      so if you have some angle alpha=7pi you will want to write it as alpha=pi</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">jheriko</span><br /></p>

      <p class="post-time small text-muted">14th December 2002 17:03 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">if you want to use trig functions for wrapping then you could use atan(tan(poo)); and it will wrap poo between about -1.6 and 1.6</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">dirkdeftly</span><br /></p>

      <p class="post-time small text-muted">14th December 2002 23:50 <abbr title="Coordinated Universal Time">UTC</abbr></p>

      <p class="post-content">asin(sin(x*pi*a)/pi/a) wraps from -a to a. If it's not working try asin(sin(x*pi/a)/pi*a).</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
    </div>
  </div><!-- Put JavaScript here -->
</body>
</html>
