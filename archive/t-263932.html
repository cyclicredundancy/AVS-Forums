<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">    <!-- Bootstrap core CSS -->
	<meta name="keywords" content=" avs theater mode overlay on radeon, avs, advanced visualization studio, wvs, winamp visualization studio" />
	<meta name="description" content=" avs theater mode overlay on radeon AVS" />
	
	<title> avs theater mode overlay on radeon - Winamp Forums</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body>

<div class="container">
<ol class="breadcrumb">
  <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>
  <li><a href="f-85.html">AVS</a></li>
  <li class="active">avs theater mode overlay on radeon</li>
</ol>
<!-- div class="pda"><a href="t-263932.html?login=1" rel="nofollow">Log in</a></div -->
<p class="lead text-muted">Archive: <a title="Try the Wayback Machine" target="_blank" href="http://web.archive.org/web/*/http://forums.winamp.com/showthread.php?t=263932">avs theater mode overlay on radeon</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username text-primary">cout</div><div class="date small text-muted">18th January 2007, 17:12</div></div>
<br />
<div class="posttext">I've searched the forums and found numerous posts who have unsuccessfully tried to get AVS to work with overlays on a radeon-based card with a dual-head setup:<br />
<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=216240<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=206321<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=121120<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=180375<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=178070<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=163320<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=136640<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=95869<br />
<br />
I found one case where overlay is working:<br />
<br />
http://forums.winamp.com/showthread.php?s=&amp;threadid=206905<br />
<br />
but I can't duplicate the results and I don't see a &quot;scale to fullscreen&quot; option anywhere in the ATI control center.<br />
<br />
I was able to get the overlay mode to work on a secondary monitor using an nvidia-based card.<br />
<br />
On the radeon, I did the following:<br />
<br />
- plugged in and enabled the second monitor<br />
- set the secondary monitor to clone mode (display properties... settings.. advanced.. displays... then click on the blue icon with the two rectangles)<br />
- enable theater mode (display properties... settings.. advanced.. overlay)<br />
- do not extend the desktop onto the secondary monitor<br />
- enabled overlay mode in winamp (right-click on the vis screen, enter the avs editor, then settings... display, click on overlay)<br />
<br />
On the older (6.x) radeon drivers I got a green line at the bottom of the screen.  On the newer (8.x) drivers I just got a green screen.  Video playback using the overlay works fine (both in windows media player and winamp).<br />
<br />
I've seen this problem before when I was hacking fceu to use overlays; my trident-based card didn't support RGB overlays, so I had to convert to YUV4 myself.  I suspect this may be the problem here, too, though since the code is closed-source, I can't know.<br />
<br />
Has anyone been successful in getting overlay mode to work in theater mode on an ati card?  Anything else I can try that hasn't been suggested in the above posts?<br />
<br />
Thanks,<br />
<br />
Paul</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Warrior of the Light</div><div class="date small text-muted">18th January 2007, 18:18</div></div>
<br />
<div class="posttext">Thanks for taking the effort to search the forums :up:<br />
<br />
Overlay mode only works (if it even does) on your primary screen, no matter what kind of graphics card you use. Even cloning doesn't work (unless you use a Y-cable but you don't want that).<br />
<br />
I'd wish it were different but it isn't<br />
<br />
You could do the following though (but you probably read that elsewhere too):<br />
&gt; Drag everything from your primary screen to your secondary<br />
&gt; Use overlay mode on your primary monitor<br />
&gt; Make the AVS window a bit bigger than 1024x768 and enable pixel doubling.<br />
&gt; Change the resoltion of your 2nd screen to 1024x768<br />
&gt; Drag the AVS window so that the AVS borders aren't visible anymore.<br />
<br />
.. or use other resolutions but don't go too high because it kills the render time.<br />
<br />
[edit]<br />
by the way, AVS is open source.<br />
the latest: here (http://www.nunzioweb.com/daz/temp/avs/vis_avs_changed.zip)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">19th January 2007, 13:07</div></div>
<br />
<div class="posttext">Originally posted by Warrior of the Light <br />
Thanks for taking the effort to search the forums :up:<br />
<br />
Overlay mode only works (if it even does) on your primary screen, no matter what kind of graphics card you use. <br />
<br />
I'd wish it were different but it isn't<br />
<br />
 <br />
<br />
You can configure which monitor recieves the overlay in the control panel somewhere.<br />
<br />
For the record I never had problems using overlay on any ATI card. This covers a 7500, 8500, 9000 pro, 9200, 9500 pro and 9700 pro. Although I havent used any of these cards for a couple of years now...<br />
<br />
Anyway, my solution was to thoroughly examine the control panel..<br />
<br />
I had it working on both a second monitor and tv. I ran into no issues I couldn't solve by examining the interface more thoroughly.<br />
<br />
Hope this helps.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Warrior of the Light</div><div class="date small text-muted">19th January 2007, 15:59</div></div>
<br />
<div class="posttext">oh sorry for giving false information in that case.<br />
I never knew that.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">0verhaul</div><div class="date small text-muted">19th January 2007, 20:30</div></div>
<br />
<div class="posttext">I updated my AVS to add a slider to the overlay box that chooses which screen the overlay appears on.  If this has any interest to someone, I could post the new DLL.  I'd have to check if I still have the source code available though--I've also been rewriting the expression compiler to produce more optimized code.  It works with some presets now, but still crashes with others, so ... not ready for prime time.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">0verhaul</div><div class="date small text-muted">20th January 2007, 10:42</div></div>
<br />
<div class="posttext">And in reply to my own post, I'll clarify:  The DLL that just has the overlay addition without the bleeding-edge crashing compiler is available.  I suppose the source for that is too, if you dump the nseel part out of it and stay with the current published code...</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">22nd January 2007, 13:02</div></div>
<br />
<div class="posttext">I wonder if there is some standalone tool to set which screen the overlay appears on... that would be useful for all these people who can't find the settings themselves.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">MaTTFURY</div><div class="date small text-muted">22nd January 2007, 20:46</div></div>
<br />
<div class="posttext">hmm could you email that new dll (or rapidshare.com it)? [expellidilition [at] gmail [dot] com]</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">0verhaul</div><div class="date small text-muted">23rd January 2007, 11:19</div></div>
<br />
<div class="posttext">Originally posted by jheriko <br />
I wonder if there is some standalone tool to set which screen the overlay appears on... that would be useful for all these people who can't find the settings themselves.  <br />
<br />
Yeah that would be nice.  But from modifying the code it looks like DirectX doesn't have any such provision.  Some graphics cards might, but I couldn't name one.<br />
<br />
You choose your overlay device by first asking for an enumerated list.  This has the &quot;default&quot; and an additional for each monitor connected to your computer.  The &quot;default&quot; spans all of the desktop space, but turns off hardware acceleration if the overlay covers two or more of them.<br />
<br />
Anyway, once you choose your display you still have to set up the correct coordinates for it.  The old code always put windows at 0,0 and spanned them to the dimensions of the primary display.  For multiple monitors, the overlay area must be moved to the coordinates of the display you choose and sized to that one.  So that's the difficulty with multimon :(</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">23rd January 2007, 13:07</div></div>
<br />
<div class="posttext">Originally posted by 0verhaul <br />
Yeah that would be nice.  But from modifying the code it looks like DirectX doesn't have any such provision.  <br />
<br />
DirectX handling of most screen settings is terrible. Anyway, it has nothing to do with DirectX and everything to do with the Windows API. It can be done, I just havent done it since every driver I have ever used with multiple monitors has had every feature I needed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">0verhaul</div><div class="date small text-muted">25th January 2007, 07:39</div></div>
<br />
<div class="posttext">Originally posted by jheriko <br />
DirectX handling of most screen settings is terrible. Anyway, it has nothing to do with DirectX and everything to do with the Windows API. It can be done, I just havent done it since every driver I have ever used with multiple monitors has had every feature I needed.  <br />
<br />
I call your attention to the line that begins full-screen overlays:<br />
  if ((result = DirectDrawCreate(g_Displays[cfg_display_num].guid,&amp;g_lpDD,NULL)) != DD_OK) <br />
<br />
The first parameter tells which display to place the overlay on.  The overlay can only appear on that display--it gets clipped if you try to move it off.  So whether you like DX or not, that's what AVS uses for full-screen.<br />
<br />
Even with hardware overlays in a window that can be dragged around, you have problems because the program (AVS in this case) needs to detect when it moves to another screen, destroy its DirectDraw, and create a new one for that screen.  Otherwise you just get a window the color of the chosen mask.</div></div><hr />
<div class="footer">
	<p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
</div>
</div>

</body>
</html>