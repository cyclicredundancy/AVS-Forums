<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content=" How to create a polygon and its normal? AVS" />

	<title> How to create a polygon and its normal? - AVS Forums</title>

	<!-- Bootstrap core CSS -->
	<link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
	<![endif]-->
</head>
<body>
	<div class="container">
	<!-- Put navigation bar here -->






	<ol class="breadcrumb">
		<li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>
		<li><a href="f-85.html">AVS</a></li>
		<li class="active">How to create a polygon and its normal?</li>
	</ol>
	<p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/http://forums.winamp.com/showthread.php?t=341349">How to create a polygon and its normal?</a></p>


<br />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">patipano</div>
			<div class="date small text-muted">28th January 2012 18:41 GMT</div>
		</p>
		<p class="post-content">
		
			<strong>How to create a polygon and its normal?</strong><br />
		
		

		How to create a polygon with Superscope and its normal vector?<br />
<br />
Thanks in advance.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Warrior of the Light</div>
			<div class="date small text-muted">2nd February 2012 22:31 GMT</div>
		</p>
		<p class="post-content">
		
		

		there's a list of tutorials <a href="http://forums.winamp.com/showthread.php?t=209060" target="_blank">here</a>. I suggest you read through PAK-9's one
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">QOAL</div>
			<div class="date small text-muted">2nd February 2012 23:18 GMT</div>
		</p>
		<p class="post-content">
		
		

		I'd probably recommend using the triangle APE, if you want nice filled polys, rather than a superscope. (Not that I can remember how to use that ape)
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">patipano</div>
			<div class="date small text-muted">3rd February 2012 06:23 GMT</div>
		</p>
		<p class="post-content">
		
		

		The PAK-9's Tutorial didn't show me how to create polygon with Triangle(Render) :(.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Warrior of the Light</div>
			<div class="date small text-muted">3rd February 2012 13:36 GMT</div>
		</p>
		<p class="post-content">
		
		

		I never really used it myself but it's basically a SSC with 3 X's and 3 Y's instead of one I think.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">patipano</div>
			<div class="date small text-muted">3rd February 2012 15:38 GMT</div>
		</p>
		<p class="post-content">
		
		

		Thank you everyone! i got it! (using SSC) :D<br />
Any example code for solid pentagon (SSC)?
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Warrior of the Light</div>
			<div class="date small text-muted">3rd February 2012 16:45 GMT</div>
		</p>
		<p class="post-content">
		
		

		solids are not possible since there only is a line. There are tricks though.<br />
The most commonly used is 'zigzagging' This is the code for a square, do your best to turn this into a pentagon:<br />
<br />
<br />
init:<br />
n=h<br />
<br />
point:<br />
linesize=2;<br />
sw=bnot(sw);<br />
x=sw*1-0.5;<br />
y=i*1-0.5
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">patipano</div>
			<div class="date small text-muted">10th February 2012 18:14 GMT</div>
		</p>
		<p class="post-content">
		
		

		Is this okay for pentagon?<br />
&quot;la&quot; is amount of layer(density)<br />
<pre><code><br />
Init:<br />
la=7;n=la*6;a=72/360*2*$pi;asp=h/w;<br />
x0=1;x1=cos(a);x2=cos(2*a);x3=x2;x4=x1;<br />
y0=0;y1=-sin(a);y2=-sin(2*a);y3=-y2;y4=-y1;<br />
<br />
Frame:<br />
p=0;c=0;<br />
<br />
Point:<br />
x=(equal(p,0)*x0+equal(p,1)*x1+equal(p,2)*x2+equal(p,3)*x3+equal(p,4)*x4+equal(p,5)*x0);<br />
y=(equal(p,0)*y0+equal(p,1)*y1+equal(p,2)*y2+equal(p,3)*y3+equal(p,4)*y4+equal(p,5)*y0);<br />
<br />
sc=1-floor(c/6)*(1/la);<br />
sc=if(below(sc,0),0,sc);<br />
skip=if(equal(p%6,0),1,0);<br />
<br />
x=x*asp*sc;<br />
y=y*sc;<br />
<br />
p=(p+1)%6;c=c+1;<br />
</code></pre>
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Warrior of the Light</div>
			<div class="date small text-muted">10th February 2012 22:36 GMT</div>
		</p>
		<p class="post-content">
		
		

		Looks great! the code you managed to create is more advanced than I had expected.<br />
<br />
I would increase la to (for instance) w*0.5 and make the linewidth 2 or 3. <br />
<br />
some optimization tips:<br />
You could remove the if() statement for skip; skip=equal(p%6,0); will work too.<br />
The extra line for sc is not needed. Simply use sc=max(1-floor(c/6)*(1/la),0); instead.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">patipano</div>
			<div class="date small text-muted">11th February 2012 05:41 GMT</div>
		</p>
		<p class="post-content">
		
		

		Oh thank you for cleaning my code! :up: i have to learn lots about minimizing the code.<br />
<br />
What's the difference between longer code and shorter code? only FPS rate?
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Warrior of the Light</div>
			<div class="date small text-muted">11th February 2012 13:14 GMT</div>
		</p>
		<p class="post-content">
		
		

		Yes. the CPU always runs at 100% with AVS and both reading the code and rendering the image is done by the processor. So the less code it has to read, the faster the image is rendered. Especially in the Point box because it is calculated for every point of the scope over and over again.<br />
<br />
For this example it isn't really important but once your preset starts 'growing' you can see the framerate dropping fast.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">patipano</div>
			<div class="date small text-muted">12th February 2012 07:22 GMT</div>
		</p>
		<p class="post-content">
		
		

		Why this scope is so mess? I just added some 3D rotation to my pentagon.<br />
<pre><code><br />
Point:<br />
x1=(equal(p,0)*x0+equal(p,1)*x1+equal(p,2)*x2+equal(p,3)*x3+equal(p,4)*x4+equal(p,5)*x0);<br />
y1=(equal(p,0)*y0+equal(p,1)*y1+equal(p,2)*y2+equal(p,3)*y3+equal(p,4)*y4+equal(p,5)*y0);<br />
<br />
//Additional<br />
z1=0<br />
y2=y1*xc-z1*xs;z2=y1*xs+z1*xc;<br />
x2=z2*ys+x1*yc;z3=z2*yc-x1*ys;<br />
x3=x2*zc-y2*zs;y3=y2*zc+x2*zs;<br />
//End of additional<br />
<br />
sc=1-floor(c/6)*(1/la);<br />
skip=equal(p%6,0);<br />
//Additional<br />
z=1/(z3+1);<br />
x=x3*asp*sc*z;<br />
y=y3*sc*z;<br />
//End of additional<br />
p=(p+1)%6;c=c+1;<br />
</code></pre>
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Warrior of the Light</div>
			<div class="date small text-muted">12th February 2012 15:25 GMT</div>
		</p>
		<p class="post-content">
		
		

		you forgot a ; after z1=0
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">patipano</div>
			<div class="date small text-muted">12th February 2012 16:19 GMT</div>
		</p>
		<p class="post-content">
		
		

		It also messy. It isn't 3D pentagon :cry:
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">Grandchild</div>
			<div class="date small text-muted">13th February 2012 22:00 GMT</div>
		</p>
		<p class="post-content">
		
			<strong>Small triangle tutorial</strong><br />
		
		

		I really suggest you spend your time learning how to use Triangle. It's just that much more clean than approximating stuff with zig-zagging them in an SSC.<br />
That being said, here's a few pointers to get you going with your pentagon:<br />
<br />
First you have to ask, How can a &lt;enter your shape here&gt; be created with triangles? In the case of a pentagon that's pretty easy once you draw a pentagon on paper:<br />
<a href="http://s15.postimage.org/d8jevke6v/pentagon2triangles.png" target="_blank">http://s15.postimage.org/d8jevke6v/p...2triangles.png</a><br />
Blue numbers identify triangles and red numbers identify vertices (corners).<br />
<br />
So you are going to have 3 triangles.<br />
So in your Init box goes<br />
<pre><code>n = 3;</code></pre><br />
<br />
You also need the coordinates for those triangles, preferably in x, y and z. So I would suggest to use megabuf() since that can be indexed and you can access it more easily later with the help of counters (more about them later).<br />
So write down the coordinates for your pentagon-triangles (or calculate them live - which I will do below) and write the values to a megabuffer array, like so:<br />
<pre><code>crcl5th = 2*$PI/5; // precalculate the step size around a circle<br />
size = 1;<br />
point1x = sin(crcl5th*0)*size; point1y = cos(crcl5th*0)*size;<br />
point2x = sin(crcl5th*1)*size; point2y = cos(crcl5th*1)*size;<br />
point3x = sin(crcl5th*2)*size; point3y = cos(crcl5th*2)*size;<br />
point4x = sin(crcl5th*3)*size; point4y = cos(crcl5th*3)*size;<br />
point5x = sin(crcl5th*4)*size; point5y = cos(crcl5th*4)*size;<br />
// x coordinate ------------- y coordinate ------------- z coordinate<br />
// triangle 1<br />
assign(megabuf(00),point1x);assign(megabuf(01),point1y);assign(megabuf(02),0);<br />
assign(megabuf(03),point4x);assign(megabuf(04),point4y);assign(megabuf(05),0);<br />
assign(megabuf(06),point5x);assign(megabuf(07),point5y);assign(megabuf(08),0);<br />
// triangle 2<br />
assign(megabuf(09),point1x);assign(megabuf(10),point1y);assign(megabuf(11),0);<br />
assign(megabuf(12),point4x);assign(megabuf(13),point4y);assign(megabuf(14),0);<br />
assign(megabuf(15),point3x);assign(megabuf(16),point3y);assign(megabuf(17),0);<br />
// triangle 3<br />
assign(megabuf(18),point1x);assign(megabuf(19),point1y);assign(megabuf(20),0);<br />
assign(megabuf(21),point2x);assign(megabuf(22),point2y);assign(megabuf(23),0);<br />
assign(megabuf(24),point3x);assign(megabuf(25),point3y);assign(megabuf(26),0);</code></pre><br />
All this goes into your init section as well, except if you want to modify the coordinates (for example if your pentagon should rotate, or move in any other way.<br />
<br />
Now comes the tricky part. You need to access these 3 triangles in your point/triangle code<br />
Every time the triangle section gets evaluated it expects you to give it 3 points in 2D, that is:<br />
<pre><code>x1 = someval; y1 = someval;<br />
x2 = someval; y2 = someval;<br />
x3 = someval; y3 = someval;</code></pre><br />
<br />
Additionally you can specify the triangles color with:<br />
<pre><code>red1 = redval;<br />
blue1 = blueval;<br />
green1 = greenval;</code></pre><br />
(There is no red2/blue2/green2 and red3/blue3/green3, don't bother...)<br />
<br />
Now how do you access the coordinates from the megabuf()?<br />
Well you use a counter. That counter should count in steps of 9, because each time in the triangle section, you want to use 9 different values (we have Z-coordinates, but we throw them away for now, when you add 3D-rotation you will need them again). So, in the frame section set your counter to zero:<br />
<pre><code>counter = 0;</code></pre><br />
so that every frame the counter will be reset and the pentagon drawn correctly.<br />
<br />
Now in the triangle section you read your values from the megabuffer into the coordinates, increase the counter and you're done:<br />
<pre><code>x1 = megabuf(counter); y1 = megabuf(counter+1); // you can add z1/2/3 here if needed<br />
x2 = megabuf(counter+3); y2 = megabuf(counter+4);<br />
x3 = megabuf(counter+6); y3 = megabuf(counter+7);<br />
counter = counter+9;</code></pre><br />
Voila, if everything went well it should show you a white pentagon now.<br />
<br />
I have to admit, I haven't tested this, but I've done it so many times I'm pretty sure it works. If you think something is off, tell me, but check first if you followed the steps correctly.
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">patipano</div>
			<div class="date small text-muted">14th February 2012 07:30 GMT</div>
		</p>
		<p class="post-content">
		
		

		Wow, lots of coding but I'd have to check it out! Thanks :up:
		</p>
</div>

	<hr />

<div class="post">
		<p class="post-meta">
			<div class="username text-primary">patipano</div>
			<div class="date small text-muted">15th February 2012 18:07 GMT</div>
		</p>
		<p class="post-content">
		
		

		I think this triangle coding is harder than using SSC to coloring from center (gradient).<br />
Any idea for coloring (from center with Triangle)?
		</p>
</div>

	<hr />



<div class="footer">
		<p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
	</div>
</div>

<!-- Put JavaScript here -->

</body>
</html>