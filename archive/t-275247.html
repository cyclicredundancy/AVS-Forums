<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta name="generator" content="HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 15.12), see www.w3.org" />
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Wraped DM won't align AVS" />

  <title>Wraped DM won't align - AVS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-85.html">AVS</a></li>

      <li class="active">Wraped DM won't align</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=275247">Wraped DM won't align</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">J.Melo</span><br />
      <span class="date small text-muted">1st August 2007 22:20 GMT</span></p>

      <p class="post-content"><strong>Wraped DM won't align</strong><br />
      So, I have an AVS preset I'm working on with a wrap-enabled DM, and the camera is supposed to slide to another grid square of the wrapped image. The avs window is 2 units wide and high (x/y: -1..1), right? So how come when I add exactly 2 to the x or y value, it is slightly offset? I have to multiply it by some random coefficient beginning with 0.99... just to keep it aligned (only for about 50 times, though), but the number is different depending on the dimentions of the window, and I can't trace the pattern.<br />
      <br />
      Is there any explanation/workaround/tips for this?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">Warrior of the Light</span><br />
      <span class="date small text-muted">1st August 2007 22:31 GMT</span></p>

      <p class="post-content">the same happens to me to, I guess it's a rounding error.<br />
      <br />
      perhaps you could do the wrapping codewise?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">J.Melo</span><br />
      <span class="date small text-muted">1st August 2007 22:59 GMT</span></p>

      <p class="post-content">I figured it was a rounding error, too.<br />
      <br />
      Codewise wrapping... I have no idea how it can be done.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">Warrior of the Light</span><br />
      <span class="date small text-muted">1st August 2007 23:19 GMT</span></p>

      <p class="post-content">depends on your exact code and what you want to do.<br />
      <br />
      start with messing with the % operator somehow</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">Raz</span><br />
      <span class="date small text-muted">2nd August 2007 00:11 GMT</span></p>

      <p class="post-content">I always seem to have to adjust things by 0.01 or so on everything. It seems to be most obvious on the right side of the window, the 1.01 line of pixels is visible.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">J.Melo</span><br />
      <span class="date small text-muted">2nd August 2007 01:28 GMT</span></p>

      <p class="post-content">Raz: Yeah, it's also on the bottom.<br />
      <br />
      What's even worse is that I get it to work okay if I add 120 os so to x (by multiplying 120 by 0.996521 or something along the lines of random), then if I just add 2 more, the whole thing is out of wack. Then when I adjust that random number to work with 122, it screws up again when I put it back to 120. Since when do the rules of multiplication only apply for numbers under 120? It's completely fucking random!<br />
      <br />
      All my attempts at wrapping using code have failed, and I ran out of ideas. Everytime I add some number to the final x or y, the image stretches.<br />
      <br />
      Edit: I also tried reseting the x/y offset to 0 once it gets close enough to the next image, but it moves 5-10 pixels past it before it returns to 0. It just skips 5-10 pixels backwards and acts like nothing happened.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">PAK-9</span><br />
      <span class="date small text-muted">6th August 2007 20:17 GMT</span></p>

      <p class="post-content">It sounds pretty much like the classic rounding issue<br />
      <br />
      Post the preset here so we can see exactly what happens</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">J.Melo</span><br />
      <span class="date small text-muted">6th August 2007 21:22 GMT</span></p>

      <p class="post-content">I got it to work by resetting the camera postition to zero when it was close enough to the target. I was having problems with this method before, but I just played around with the numbers, and with all the camera movements, it is hardly noticable. Here is an almost blank preset with a DM similar to the one in my preset. If you want to see how it looked before I fixed it, remove the if statements after the ox and oy variables in the frame box. I put on blend so you can see where it should line up.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">PAK-9</span><br />
      <span class="date small text-muted">7th August 2007 13:34 GMT</span></p>

      <p class="post-content">Hmm, interesting.<br />
      <br />
      The solution you have done is an appropriate one, wrapping manually with something like if(x1&gt;1) x1-=1;</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
    </div>
  </div><!-- Put JavaScript here -->
</body>
</html>
