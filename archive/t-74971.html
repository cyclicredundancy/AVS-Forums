<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="cartesian rotation" />

  <title>cartesian rotation - AVS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-85.html">AVS</a></li>

      <li class="active">cartesian rotation</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=74971">cartesian rotation</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jaheckelsafar</span><br />
      <p class="post-time small text-muted">8th February 2002 10:07 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content"><strong>cartesian rotation</strong><br />
      Woo! occasional lurker, first post... :D<br />
      <br />
      Any help would be appreciated with this. I'm trying to do rotation in the x,y co-ordinate system in a DM, and as far as I can tell, this should work; but it doesn't.:(<br />
      <br />
      per frame:<br />
      rot = rot+.01;<br />
      <br />
      per pixel:<br />
      dist=sqrt(sqr(x)+sqr(y));<br />
      x=(x+cos(rot)*dist)*2;<br />
      y=(y+sin(rot)*dist)*2;<br />
      <br />
      Could someone tell me why this doesn't work, and maybe point me in the right direction?</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Magic.X</span><br />
      <p class="post-time small text-muted">8th February 2002 11:33 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">This is'nt as hard if you try a bit.<br />
      First thing, to rotate you need a mix of x and y for every position. The mix should be managed by using sin and cos of an increasing var.<br />
      Second, i had troubles with direct assigning of x and y. Assign both to some other var's and work with them when you reassign the mix to x and y. I postet up 2 Prestets to <a href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?s=&amp;threadid=74714" target="_blank">"New Demiurgy Fractals"</a> look at the DM in KaleidoWarpFlash2.avs and you'll find what you search.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jaheckelsafar</span><br />
      <p class="post-time small text-muted">8th February 2002 17:11 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">Hmm... got it working, thanks man. :)<br />
      <br />
      The distortion when working with x,y driectly must come from changing the value for x they your using in defining y.<br />
      <br />
      Great.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jaheckelsafar</span><br />
      <p class="post-time small text-muted">8th February 2002 17:53 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">I'm baaack...<br />
      <br />
      I stuck the rotation into the preset I want it in in the end, and I noticed something that I didn't in my simple test preset. There is distortion that doesn't seem to be there when the polar system is used. Would coverting polar and back again fix this, and if so, please refer the original post. (it's what I was trying to do anyway)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">UnConeD</span><br />
      <p class="post-time small text-muted">8th February 2002 23:27 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">general rotation works like this (in matrix form):<br /></p>
      <pre>
<span style="color: #007700">***91;</span><span style="color: #0000BB">cos</span><span style="color: #007700">-</span><span style="color: #0000BB">sin</span><span style="color: #007700">***93;***91;</span><span style="color: #0000BB">x</span><span style="color: #007700">***93;=***91;</span><span style="color: #0000BB">x</span><span style="color: #DD0000">'***93;
<br />***91;sincos***93;***91;y***93;=***91;y'</span><span style="color: #007700">***93;
</span>
</pre>So that's:<br />
      x' = x*cos - y*sin;<br />
      y' = x*sin + y*cos;<br />
      <br />
      You should always assign the result to different values, else you'll be using the rotated x-coordinate to calculate the rotated y.<br />
      <br />
      (of course cos/sin means the sine/cosine of the angle to rotate)
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jaheckelsafar</span><br />
      <p class="post-time small text-muted">9th February 2002 04:19 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">Yeah, that's pretty much what I distilled from Magic.X's preset. The only problem is that there is distortion unless the window is square. There dosen't seem to be any such distortion when using polar. I'd use polar except I'd have a helluva time trying to scroll in it.:)<br />
      <br />
      Maybe a better question would be 'Am I trying to convert to polar correctly?'.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">flatmatt</span><br />
      <p class="post-time small text-muted">9th February 2002 04:38 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">Just use two DM's, one for rotation in polar and a second for x &amp; y movement in rect.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">dirkdeftly</span><br />
      <p class="post-time small text-muted">9th February 2002 19:00 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">Well, the thing is, that's slow. Just enter this into your rect. coor. DM:<br />
      Frame:<br />
      rt=rt+0.03;<br />
      Pixel:<br />
      x=x*sin(rt)-y*cos(rt);<br />
      y=x*cos(rt)+y*sin(rt);</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jaheckelsafar</span><br />
      <p class="post-time small text-muted">11th February 2002 03:05 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">Yeah, that's what I'm using now, but like I said earlier, that gets distorted unless the window is square. I'd even go so far as the use 2 DMs, except the the one is scrolling around. If I use 2 DMs the edges don't match.<br />
      <br />
      Ah well, I guess it'll have to do.<br />
      <br />
      For all that helped, I thought I'd share my finished product. (thinking of puting out a pack, this would by my most complicated one (except for a remix of it :) ))</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">dirkdeftly</span><br />
      <p class="post-time small text-muted">11th February 2002 05:18 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">Use wrap...<br />
      You can get rid of the edges by making your render is smaller in the first place and dividing d by sqrt(2). This would make your end product kind of blocky, but it would get rid of the edges.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Jaheckelsafar</span><br />
      <p class="post-time small text-muted">12th February 2002 06:17 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">Well, it does work like that perfectly, but I think it needs the detail. Thanks anyway.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
    </div>
  </div><!-- Put JavaScript here -->
</body>
</html>
