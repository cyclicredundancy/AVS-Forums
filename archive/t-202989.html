<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">    <!-- Bootstrap core CSS -->
	<meta name="keywords" content=" Stupid noob Q., avs, advanced visualization studio, wvs, winamp visualization studio" />
	<meta name="description" content=" Stupid noob Q. AVS" />
	
	<title> Stupid noob Q. - Winamp Forums</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body>

<div class="container">
<ol class="breadcrumb">
  <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>
  <li><a href="f-85.html">AVS</a></li>
  <li class="active">Stupid noob Q.</li>
</ol>
<!-- div class="pda"><a href="t-202989.html?login=1" rel="nofollow">Log in</a></div -->
<p class="lead text-muted">Archive: <a title="Try the Wayback Machine" target="_blank" href="http://web.archive.org/web/*/http://forums.winamp.com/showthread.php?t=202989">Stupid noob Q.</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username text-primary">mIcrO_brAIn</div><div class="date small text-muted">24th December 2004, 23:02</div></div>
<br />
<div class="posttext">Ok, I think I've got this right but if someone would verify/explain this to me it would be appreciated.<br />
<br />
It's in the use of the % operator in AVS. The explanation in &quot;expression help&quot; doesn't make a whole lot of sense.<br />
<br />
If I were to use 5%2 then I would get the remainder, which would be .5 right?<br />
<br />
And reading the AVS programming guide, in the first explanation about 3d scopes, the code point=(point+1)%4 is used. How does the % operator affect this code?<br />
<br />
It's probably a dumb question but I just didn't seem to be able to figure this one out.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">^..^</div><div class="date small text-muted">24th December 2004, 23:53</div></div>
<br />
<div class="posttext">The modulus operator % actually gives you the remainder of the division 5/2. But it wouldn't be 0.5; its 1!<br />
The remainder of that divison means: what is left over in order to avoid decimals?<br />
<br />
5/2 = 2 + 1/5<br />
<br />
Mostly this operator is used, to generate a variable that repeatedly counts to a specific value and afterwards starts with 0 again:<br />
<br />
point=(point+1)%4    (only convenient when set in &quot;pixel&quot;)<br />
<br />
means that the variable point increases by one and jumps back to 0 after reaching 3:<br />
<br />
0 1 2 3 0 1 2 3 0 1...<br />
<br />
For example: 4 can be divided by 4 without a remainder. 5 is by 1 greater than 4; 6 is 2 greater than 4; 7 -&gt; 3, but 8 can be divided by 4 without a rest again, and so on.<br />
<br />
Clear?? If not, just ask again!<br />
<br />
<br />
P.S: merry christmas</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">mIcrO_brAIn</div><div class="date small text-muted">25th December 2004, 02:39</div></div>
<br />
<div class="posttext">Might it be the same thing as saying:<br />
point=point+1;<br />
point=if(equal(point,4),0,point);<br />
So that when point hit 4 it would revert back to 0.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">WalkerP</div><div class="date small text-muted">25th December 2004, 04:43</div></div>
<br />
<div class="posttext">Yes! Exactly right!</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">^..^</div><div class="date small text-muted">25th December 2004, 11:14</div></div>
<br />
<div class="posttext">Originally posted by mIcrO_brAIn <br />
Might it be the same thing as saying:<br />
point=point+1;<br />
point=if(equal(point,4),0,point);<br />
So that when point hit 4 it would revert back to 0.  <br />
<br />
This would be the same, but<br />
<br />
point=(point+1)%4<br />
<br />
is much faster cause its only one equation. (Probably its a imperceptible difference, but if you've got a big bunch of code it'll be worth)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">sidd</div><div class="date small text-muted">26th December 2004, 00:48</div></div>
<br />
<div class="posttext">it also has many other uses, because unlike the if equal combination, you can perform it on any number at any time, it doesnt have to be a count.<br />
<br />
for example, anyNumber%2 will tell you if the number is odd, because if it is, the remainder will be 1.<br />
<br />
the downside is, the % operator only works on integers, not decimals, so decimal precision is lost when you use it.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">MaTTFURY</div><div class="date small text-muted">26th December 2004, 07:43</div></div>
<br />
<div class="posttext">what f*cking genius coded the compabilities of the processor :p</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">TomyLobo</div><div class="date small text-muted">26th December 2004, 11:04</div></div>
<br />
<div class="posttext">all intel coprocessors since the 8087 and all intel processors since the 80486DX (not SX) have an instruction called FPREM<br />
this instruction does a floating point remainder. (80387 and above additionally have FPREM1, which is should be used instead)<br />
so much about the &quot;compabilities&quot; of processors ;)<br />
<br />
back to the topic:<br />
if you want a point counter go from 0 to n-1, write p=0; into frame and p=p+1; at the end of the point block.<br />
if n is 7, for example, p will go this way:<br />
0 1 2 3 4 5 6<br />
in the next frame, p is reset to 0 and the whole thing will start from the beginning.<br />
the advantage over just writing p=(p+1)%n; at the end of the point block is that the other method is much faster , because % is a division, which is generally not that fast ;)<br />
<br />
that's why you normally write a=b*.5 instead of a=b/2;</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">PAK-9</div><div class="date small text-muted">26th December 2004, 12:42</div></div>
<br />
<div class="posttext">Originally posted by TomyLobo <br />
back to the topic:<br />
if you want a point counter go from 0 to n-1, write p=0; into frame and p=p+1; at the end of the point block.<br />
if n is 7, for example, p will go this way:<br />
0 1 2 3 4 5 6<br />
in the next frame, p is reset to 0 and the whole thing will start from the beginning...unfortunately I dont want a variable to go from 0 to n-1, I want a variable to go from 0 to n-1 then 0. However as people have pointed out it is a little poorly explained and arguably inefficient. A better line would be:<br />
<br />
frame:<br />
point=0;<br />
point:<br />
...<br />
point=if(equal(point,3),0,point+1);<br />
<br />
And I shall modify the guide accordingly, thank you.<br />
<br />
----- techy bit ------<br />
<br />
On an additional and rather anal point I believe its marginally more efficient to have:<br />
<br />
frame:<br />
point=3<br />
point:<br />
..<br />
point=if(bnot(point),3,point-1);<br />
<br />
It draws the square backwards but of course that doesnt matter, its a lot more ugly to understand tho. Also, since I think if's are more expensive than multiplications it may be more efficient to have:<br />
<br />
frame:<br />
point=3<br />
point:<br />
..<br />
point=point-1+bnot(point)*3;<br />
<br />
but its pretty gosh darn ugly.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">^..^</div><div class="date small text-muted">26th December 2004, 22:39</div></div>
<br />
<div class="posttext">you got the point pak! :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">6th January 2005, 02:05</div></div>
<br />
<div class="posttext">i thought * is slower than if by a lot... otherwise why have if?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">[Ishan]</div><div class="date small text-muted">6th January 2005, 13:02</div></div>
<br />
<div class="posttext">um....i'm very tech here but actually what Jheriko said above i always thought the same thing. I was told by someone....er...i think Shreyas told me that * is slower than if.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Warrior of the Light</div><div class="date small text-muted">6th January 2005, 13:50</div></div>
<br />
<div class="posttext">/agrees that if() is faster than *<br />
(if() doesn't caclulate, but compares only)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">PAK-9</div><div class="date small text-muted">6th January 2005, 15:32</div></div>
<br />
<div class="posttext">Originally posted by jheriko <br />
i thought * is slower than if by a lot... otherwise why have if? To do conditional processing :weird:<br />
<br />
To be honest I dont really know which is more expensive I just assumed it was 'if'. But now that I think about it its really just a jump-if-not-zero in asm... and since it short circuits you are removing some of the computation. Okay I'm sold, it probably is cheaper... but someone should really check the evallib and prove it. I'd do it myself but... well I can't really be arsed.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">PJ-Avser</div><div class="date small text-muted">7th January 2005, 01:52</div></div>
<br />
<div class="posttext">I've tried it out on a ridculusly numpointeds scc, and * is faster, BUT THE DIFFENECE IS SO TINY, IT DOES'NT REALLY MATTER</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">PAK-9</div><div class="date small text-muted">7th January 2005, 19:56</div></div>
<br />
<div class="posttext">pwnt</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">^..^</div><div class="date small text-muted">8th January 2005, 00:41</div></div>
<br />
<div class="posttext">wow, all that expenditure for nothing... what a waste!</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">S-uper_T-oast</div><div class="date small text-muted">8th January 2005, 02:59</div></div>
<br />
<div class="posttext">It depends on the use though. If() will be faster for some things and * will be faster for others.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">PJ-Avser</div><div class="date small text-muted">8th January 2005, 05:54</div></div>
<br />
<div class="posttext">Each time it did the if it gained 0.00000001 fps over times.<br />
On my PC</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">8th January 2005, 09:04</div></div>
<br />
<div class="posttext">you'd think avs would optimise if(a,b,0) to a*b if if was slower than a * :P</div></div><hr />
<div class="footer">
	<p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
</div>
</div>

</body>
</html>