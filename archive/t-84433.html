<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">    <!-- Bootstrap core CSS -->
	<meta name="keywords" content=" (another) ape goody, avs, advanced visualization studio, wvs, winamp visualization studio" />
	<meta name="description" content=" (another) ape goody AVS" />
	
	<title> (another) ape goody - Winamp Forums</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body>

<div class="container">
<ol class="breadcrumb">
  <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>
  <li><a href="f-85.html">AVS</a></li>
  <li class="active">(another) ape goody</li>
</ol>
<!-- div class="pda"><a href="t-84433.html?login=1" rel="nofollow">Log in</a></div -->
<p class="lead text-muted">Archive: <a title="Try the Wayback Machine" target="_blank" href="http://web.archive.org/web/*/http://forums.winamp.com/showthread.php?t=84433">(another) ape goody</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username text-primary">times2</div><div class="date small text-muted">11th April 2002, 16:29</div></div>
<br />
<div class="posttext">hi all<br />
<br />
i've finally got another ape plugin (semi) ready for release...<br />
<br />
its an improved avi player which can load avis into ram for awesome speed, built in mixer, play avis with variable-speed frame blending, play forwards and backwards, change direction 'onbeat', 'scratch' avis and a whole lot of other features.<br />
<br />
I know most of you guys favour a preset based rather than handson approach to video mixing, but maybe some of you will find it useful. i've deliberately NOT made it so it can automatically load movies from a preset as this will make most machines get into an inescapable choke-up if you tell it to load a very large movie.<br />
<br />
know bugs... it crashes when scaling (bilinear filtering) images up from 320x240 to 400x300 (only!?)<br />
<br />
also it doesn't check your available RAM, so if you try to load a bigger clip than you have ram, it CRAWLS.<br />
<br />
anyway if anyones interested you can grab it at:<br />
<br />
http://www.dmc.dit.ie/pixelcorps/player2.ape<br />
<br />
mail me at:<br />
<br />
pixelcorps@forwind.net <br />
<br />
with any bug reports, success or failure stories, etc.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Montana</div><div class="date small text-muted">11th April 2002, 18:14</div></div>
<br />
<div class="posttext">times2, this rulz, success all the way,<br />
good shit done, figured out what you meant with ramcrawling,<br />
still, it rulz, <br />
<br />
only problem, i seem to find is that it crashed when i used a 20sec DivX-converted avi, <br />
note: the render/avi also crashed with this 20sec vid, (and yes i tried on several computers, i think avs doesn't support divx</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">11th April 2002, 20:39</div></div>
<br />
<div class="posttext">times2: your crash bug sounds very weird... you should be able to use a debugger to locate the crash. Even though you don't have symbolic information for Winamp.exe and vis_avs.dll, you can still debug your APE. Set Winamp.exe as your executable and start a debugging run.<br />
<br />
I'm curious... is your bilinear filtering written in assembly and/or MMX for speedup?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">UnConeD</div><div class="date small text-muted">11th April 2002, 21:29</div></div>
<br />
<div class="posttext">Downloaded it... wow... nice work. Here are some more tips:<br />
<br />
- Set the default value for speed to 1, and the default value for the fade at 100%... at first I thought it wasn't working because of this :)<br />
<br />
- Provide a short explanation of each item?<br />
<br />
- You can save space by replacing the radio button groups with one drop-down box (your dialog is a bit cramped :))<br />
<br />
- The images you use for the volume bar and scale don't use the correct window background (and they look weird if you use a non-standard colorscheme)... there's a parameter for the LoadImage() API call which makes windows fix this for you. Or you can use GetSysColor() if you're drawing them on the spot. Another alternative is to use a mask to draw it. Here's how to do that:<br />
 * XOR the current contents with the bitmap<br />
 * AND the current contents with the mask (mask has white for transparent, black for opaque)<br />
 * XOR the current contents with the bitmap<br />
What happens is, the 'do not draw' pixels will be XORed twice with the same value (which doesn't change them), while the 'do draw' pixels will be set to zero and then XORed with the correct color, which is simply the same as setting it to the value itself. <br />
<br />
- Add an about box so people know where to get other APE's by you :), or at least provide some author info. I have some short code here that I use in my APE's to turn a 'Button' window into a clickable, hovering URL that might be useful.<br />
<br />
- You mentioned Bilinear Filtering... though I can't find this option. Perhaps you meant the oversampling checkbox (it seems to blend smoothly between frames, for slow framerate AVIs)? Actual Bilinear Filtering would rock really :), though it would probably require more RAM at higher resolutions. MMX is highly recommended... AVS requires it anyway and it provides a massive speed up when working with 32-bit color values.<br />
<br />
- Maybe an auto-load checkbox would be handy, so that you can insert it in presets. Even a VJ could make simple presets so he doesn't have to do everything on the spot.<br />
<br />
- Some AVI's (e.g. Elvis's pattern AVI in Worm-on-acid) contain many of the same frames. You could write a simple 'dirty rectangle' system that only stores the maximal area that changes to reduce the large memory consumption, while still having minimal overhead.<br />
<br />
- Some codecs cause black pixels to become slightly colored (e.g. RGB 1, 1, 1) and this makes additive blending look ugly. A simple color clipping option would rock, and wouldn't cause much slowdown because you load the AVI into memory anyway.<br />
<br />
- On some AVI's, I get an Invalid header box twice. Instead of popping up a box, why don't you display it in the AVI File box?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">times2</div><div class="date small text-muted">12th April 2002, 11:13</div></div>
<br />
<div class="posttext">thanks guys,<br />
<br />
montana- it sounds like your avi or your installation of divx are corrupt. the codec used is totally transparent to avs being handled at a lower level.<br />
<br />
unconed- thanks for all the great suggestions (as always)- its gonna take a while to get through them- i'm only learning c;) <br />
<br />
the bilinear code is implemented in C, actually written by a friend and adapted for this. it is used where the source file is different resolution from the output window, it scales the image up into ram so it can be played back fast... but theres definely a bug in there somewhere. gonna try your debugging suggestion asap.<br />
<br />
t</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">times2</div><div class="date small text-muted">18th April 2002, 10:08</div></div>
<br />
<div class="posttext">hi i've just posted an update to my player2.ape<br />
<br />
(get it at the same place:)http://www.dmc.dit.ie/pixelcorps/player2.ape<br />
<br />
UnconeD: I've implemented a few of your suggestions<br />
<br />
defaults are more consistent now<br />
<br />
about page points to a documentation website (don't look yet its not finished)<br />
<br />
drop-down boxes... maybe in the future... but doesn't AVS vis processing stop when you are scrolling a list box?<br />
<br />
bitmap colours- i'm not actually making the api calls myself, i'm just using vc++ to compile the .rc file, so i'm not sure how to change<br />
this. (note to self- requires further study)<br />
<br />
if you want to post me your about box code that would be cool.<br />
<br />
autoloading is now implemented. (was actually tricky). in fact everything now saves to the preset pretty much.<br />
<br />
I like your dirty rectangle suggestion, however its not really practical here as i'm both loading and playing back avis bidirectionally. My next effort will be to use frame tokens to enable random-access frrame loading. And i'm thinking a simple check of the frame size in bytes might reveal whether the frame hasn't changed- in which case the frame pointer can point to the same frame store.<br />
<br />
error messages in status box: done<br />
<br />
colour clipping is a good idea. i'm wondering whether to have a simple on/off or to implement a threshold in the player (even more cramped interface??)<br />
<br />
T</div></div><hr />
<div class="footer">
	<p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
</div>
</div>

</body>
</html>