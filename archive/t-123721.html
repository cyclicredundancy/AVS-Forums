<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">    <!-- Bootstrap core CSS -->
	<meta name="keywords" content=" True moving particle superscope, avs, advanced visualization studio, wvs, winamp visualization studio" />
	<meta name="description" content=" True moving particle superscope AVS" />
	
	<title> True moving particle superscope - Winamp Forums</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body>

<div class="container">
<ol class="breadcrumb">
  <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>
  <li><a href="f-85.html">AVS</a></li>
  <li class="active">True moving particle superscope</li>
</ol>
<!-- div class="pda"><a href="t-123721.html?login=1" rel="nofollow">Log in</a></div -->
<p class="lead text-muted">Archive: <a title="Try the Wayback Machine" target="_blank" href="http://web.archive.org/web/*/http://forums.winamp.com/showthread.php?t=123721">True moving particle superscope</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">3rd February 2003, 02:08</div></div>
<br />
<div class="posttext">Pretty self explanatory.  I figured it out looking at UnConeD's physics demo...don't know if he posted it yet, but...anyway, it's fully tweakable, with size, speed, and decay variables :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">anubis2003</div><div class="date small text-muted">3rd February 2003, 02:20</div></div>
<br />
<div class="posttext">Much nicer than the normal moving particle.  Follows a bit more dynamic movement.  I was thinking about making one too, but since you made it first, I guess i wont.:p</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">3rd February 2003, 02:45</div></div>
<br />
<div class="posttext">Unfortunately it's about a couple thousand times slower than a regular moving particle a real estimate based on putting about 100 mp's in a preset by themselves - a rough one, but still...</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Tuggummi</div><div class="date small text-muted">3rd February 2003, 08:54</div></div>
<br />
<div class="posttext">Yup, it moves just as s**tty as the normal moving particle :p<br />
But a good effort :up:<br />
<br />
btw. You do realize that those who use moving particles most likely don't understand anything about ssc coding, and those who code ssc's are not interested in moving particles anymore? :blah: :blah:<br />
<br />
Just imagine how many n00bs would love you if they would know about this superscope? Maybe you'll include it into the Primer 2 and then all the n00bs all over the world will be bowing before you :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Jaak</div><div class="date small text-muted">3rd February 2003, 19:46</div></div>
<br />
<div class="posttext">This is pretty pointless, the ssc is simple and yea U atero made it more simpel, why to make moving particle ssc if u can use just moving partycle :confused:...<br />
OK, ok I just felt like bitching, its good ssc and now I know how moving partycel works, thanks Atero...<br />
<br />
And Tuggummi have U ever looked at MIG-s presets... :p</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">3rd February 2003, 20:40</div></div>
<br />
<div class="posttext">as i said in #finnish-flash, the point is that moving particle isn't customizeable at all - can't do images w/out texer and even then you can't rotate them - and it's a really useful &quot;general&quot; effect.  i'm working out making it 3D and making a decent camera movement that won't destroy the effect...keep yer pants on (please) :p<br />
another thing is the movement is now tweakable.  if you want a &quot;ball-in-water&quot; effect all you have to do is turn down speed, pdecay, and tdecay.  if you wanted a bungee-cord effect, turn up speed and turn down dst and pdecay.<br />
also, if you really wanted to you could pick apart and optimize the code to the point where you could have several of them bouncing off each other (if unconed ever gives us his global variables, of course)...<br />
&lt;edit&gt; forgot to mention that you can now have dynamic coloring without having to use a dynamic u-tone effect list &lt;/edit&gt;</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">anubis2003</div><div class="date small text-muted">3rd February 2003, 22:33</div></div>
<br />
<div class="posttext">You don't need global variables to have them bounce off of eachother.  It's just really difficult without them.  Trust me, I've tried.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">3rd February 2003, 22:50</div></div>
<br />
<div class="posttext">All of you out there dissing moving particle superscopes... I've been using them a lot recently, two presets in my next pack depend on them. I consider myself amongst &quot;those who code ssc's&quot;<br />
<br />
<br />
And Tuggummi have U ever looked at MIG-s presets... <br />
<br />
<br />
Jack, I think that was his point....</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">3rd February 2003, 23:08</div></div>
<br />
<div class="posttext">w3rd.<br />
<br />
btw it does require global variables once you get more than about six.  otherwise you overload the superscope and, well, bad things happen.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">anubis2003</div><div class="date small text-muted">3rd February 2003, 23:11</div></div>
<br />
<div class="posttext">Yeah, true.  Man it sucks overloading a SSC.:(</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">AVS Axer</div><div class="date small text-muted">5th February 2003, 09:17</div></div>
<br />
<div class="posttext">what was that about, &quot;if unconed ever gives us his global variables&quot;??</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">anubis2003</div><div class="date small text-muted">5th February 2003, 12:10</div></div>
<br />
<div class="posttext">He has developed a hack that allows him to use the spectrum data for storing whatever variables he wants.  In this way, &quot;global&quot; variables can be used, but since it is a hack, and is still developmental he doesn't want to release them.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Tuggummi</div><div class="date small text-muted">5th February 2003, 14:32</div></div>
<br />
<div class="posttext">Well i think we all use solid circle shapes, but when you make them rotate 3D or sync a couple of them to create a nifty pattern, is it really a moving particle anymore?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">5th February 2003, 16:27</div></div>
<br />
<div class="posttext">...yes.  the point was to copy the movement, tug, not the exact render.  as you said, it'd be pointless...</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">anubis2003</div><div class="date small text-muted">5th February 2003, 21:09</div></div>
<br />
<div class="posttext">The moving particle SSC is great.  Especially since it has so many customizations.  Truly a wonderful particle.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">5th February 2003, 23:06</div></div>
<br />
<div class="posttext">Make each particle a moving sphere to make 3D particles... making them bounce off of each other shouldn't be to difficult either... I might give it a crack once I've finished J8. Its sounds like a good preset.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">anubis2003</div><div class="date small text-muted">5th February 2003, 23:09</div></div>
<br />
<div class="posttext">Not hard???  It took me about four pieces of paper to get to the final solutions of 2-D collisions.  Although, it can be done cheaply.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">5th February 2003, 23:33</div></div>
<br />
<div class="posttext">normal=point of collision-&gt;centre of sphere/circle, the angle between the two normals is the angle that the velocity vector must be reflected through past the normal.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">anubis2003</div><div class="date small text-muted">5th February 2003, 23:43</div></div>
<br />
<div class="posttext">I think that might be what I did, but I'm not following exactly what you are saying.  Check out my realballs.avs in the momentum question thread.  The normal is the normalized distance between the two particles.  You then have the tangential velocities, which are the same before and after the collision(assuming no spin).  The normal velocities afterwards can be figured out using the law of conservation of momentum and kinetic energy(assuming a perfectly elastic collision).  The final x and y velocities then have to be found.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">jheriko</div><div class="date small text-muted">5th February 2003, 23:46</div></div>
<br />
<div class="posttext">the whole momentum bit lost me... you shouldn't need to use momentum unless the particles are a different mass. Get the magnitude of the original velocity and then use its direction, reflected through the normal, and multiply each of the 2/3 components by the magnitude.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">anubis2003</div><div class="date small text-muted">5th February 2003, 23:53</div></div>
<br />
<div class="posttext">what do you mean by 2/3 components?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">6th February 2003, 22:44</div></div>
<br />
<div class="posttext">i think two of the three components, instead of all of them...or something.<br />
<br />
btw jheriko, they don't have to be different mass, just moving at different speeds.  when a bullet hits an apple, that bullet doesn't bounce back and hit the opposite wall :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">6th February 2003, 22:47</div></div>
<br />
<div class="posttext">grarg, i keep forgetting to post this.  this is a bunch of synced rotating 3D moving particles, along with a static object to show the rotation.  i don't really like it that much, but maybe someone out there can fixify it up...</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">anubis2003</div><div class="date small text-muted">6th February 2003, 23:27</div></div>
<br />
<div class="posttext">I'm going to try to explain how it is done(this is for a generic collision in two dimensions, so certain optimizations can be made).<br />
To start with, you must find the normal and tangential vectors for the collision.  These vectors must be normalized(have a vector length of 1.0).  First, you must find a vector from the center of ball A to the center of ball B.<br />
N=B-A=(x02-x01,y02-y01)<br />
Then you must normalize this vector by dividing it by the length of the vector(where |N| is the length of vector N).<br />
n=N/|N|=(nx,ny)<br />
The tangential axis t is perpendicular to n and can be found by rotating n by 90degrees.  This can be easily done like this:<br />
t=(-ny,nx)<br />
Now that the normalized vectors are known, the components of the balls velocities can be converted to the n and t axes using the dot product(I'm going to use @ as the dot product).<br />
Given:<br />
vai=(vaix,vaiy)<br />
vbi=(vbix,vbiy)<br />
You can find the velocities in the n and t directions.<br />
vain=vai@n=(vaix,vaiy)@(nx,ny)=vaix*nx+vaiy*ny<br />
vait=vai@t=(vaix,vaiy)@(tx,ty)=vaix*tx+vaiy*ty<br />
vbin=vbi@n=(vbix,vbiy)@(nx,ny)=vbix*nx+vbiy*ny<br />
vbit=vbi@t=(vbix,vbiy)@(tx,ty)=vbix*tx+vbiy*ty<br />
Note that these values are now scalars, not vectors. Now comes the part about momentum.  I am using a coefficient of restitution(E), but for perfectly elastic collisions, E is 1.  Also, optimizations can be made if the masses are the same(Just set them both to one and simplify).<br />
vafn=(mb*vbin*(E+1)+vain*(ma-E*mb))/(ma+mb)<br />
vbfn=(ma*vain*(E+1)-vbin*(ma-E*mb))/(ma+mb)<br />
Now, since all of the force acts along the normal axis and none along the tangential axis, the tangential components will be the same before and after.<br />
vaft=vait<br />
vbft=vbit<br />
Now the final velocities need to be rotated back into x and y components.<br />
<br />
vafx=vafn*nx+vaft*tx<br />
vafy=vafn*ny+vaft*ty<br />
vbfx=vbfn*nx+vbft*tx<br />
vbfy=vbfn*ny+vbft*ty<br />
That's it!  A big thanks goes out to Andre LaMothe for his book Tricks of the Windows Game Programming Gurus and my physics teacher Mr. Plucinski.  I'll try to make a diagram if any of you feel like you need it.<br />
P.S.  Was this confusing?  It was for me.  Ask me if you have any questions.</div></div><hr />
<div class="footer">
	<p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
</div>
</div>

</body>
</html>