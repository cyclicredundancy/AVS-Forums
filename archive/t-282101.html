<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Mouse Swirls: Drawing in AVS" />

  <title>Mouse Swirls: Drawing in AVS - AVS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-137.html">AVS Presets</a></li>

      <li class="active">Mouse Swirls: Drawing in AVS</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=282101">Mouse Swirls: Drawing in AVS</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">AJ Sindri</span><br />
      <p class="post-time small text-muted">26th November 2007 01:35 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content"><strong>Mouse Swirls: Drawing in AVS</strong><br />
      This preset is the cornerstone of a few project I've been working on. It basicaly attaches about 30 points to your mouse via a spring like force. The farther away the point is from the mouse, the more force is applied. Each point's "spring" has a different tension.<br />
      <br />
      The Code:<br />
      [<br />
      //init:<br />
      <br />
      n=2;<br />
      det=20;<br />
      // How strong the spring is<br />
      c=1<br />
      <br />
      //frame:<br />
      <br />
      lpx=px;<br />
      lpy=py;<br />
      // The position of the point in the last frame<br />
      <br />
      px=px/1.05+cx/2;<br />
      py=py/1.05+cy/2;<br />
      // Modifies the x and y position of the point based on the momentum of the point and friction (1/1.05)<br />
      <br />
      cx=cx-(px-mx)/det;<br />
      cy=cy-(py-my)/det;<br />
      // Calculates the acceleration of the point bases on it's position and the mouse's position<br />
      <br />
      c=(px-lpx)/abs(px-lpx)<br />
      // Switiches the line around (for a drawing error)<br />
      <br />
      //point:<br />
      <br />
      mx=getkbmouse(1);<br />
      my=getkbmouse(2);<br />
      ang=atan((py-lpy)/(px-lpx));<br />
      dist=sqrt(sqr(lpx-px)+sqr(lpy-py));<br />
      x=cos(ang)*i*dist*-c+px;<br />
      y=sin(ang)*i*dist*-c+py;<br />
      <br />
      ]<br />
      For each superscope, "det" is set from 13 to 21 with 1/4 increase from scope to scope.<br />
      <br />
      :igor: this got really really old when i would find an error is the code and the would have to modify each superscope seperatly :igor: . If you have an easyer way of doing this PLEASE post a comment.<br />
      <br />
      With this you can draw swrils, matrixs, tornadoes etc. It's pretty addictive.<br />
      <br />
      What I'm working on now is the same concept but istead of using spring, i'm trying to use gravity fields (not fun). right now i'm convenced that newtons is a fruad and his gravity = force/(r squared) doesn't work.<br />
      <br />
      The file attached is a remix of mouse swirls. Have fun<br />
      <br />
      Here is my equation as of now for two plantets with the position of your mouse and at .5,-.5 (sorry it's really messy):<br />
      <br />
      init:<br />
      n=2;<br />
      divis=1.01;<br />
      det=15;<br />
      c=1<br />
      <br />
      frame:<br />
      mx=getkbmouse(1);<br />
      my=getkbmouse(2);<br />
      lpx=px;<br />
      lpy=py;<br />
      px=px+cx/2+cxb/2;<br />
      py=py+cy/2+cyb/2;<br />
      ang1=atan((lpy-my)/(lpx-mx));<br />
      ang2=atan((lpy-.5)/(lpx-.5));<br />
      cx=cx/divis-(px-mx)/det/(pow(abs(mx-px),2)*15+1)*abs(cos(ang1));<br />
      cy=cy/divis-(py-my)/det/(pow(abs(my-py),2)*15+1)*abs(sin(ang1));<br />
      cxb=cxb/divis-(px-.5)/det/(pow(abs(.5-px),2)*15+1)*abs(cos(ang2));<br />
      cyb=cyb/divis-(py-.5)/det/(pow(abs(.5-py),2)*15+1)*abs(sin(ang2));<br />
      c=(px-lpx)/abs(px-lpx);<br />
      ang=atan((py-lpy)/(px-lpx));<br />
      dist=sqrt(sqr(lpx-px)+sqr(lpy-py));<br />
      <br />
      point:<br />
      x=cos(ang)*i*dist*-c+px;<br />
      y=sin(ang)*i*dist*-c+py;<br />
      <br />
      It too complicated :weird:<br />
      <br />
      If you have any advice, I'd happily accept it!</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Nanakiwurkz</span><br />
      <p class="post-time small text-muted">28th November 2007 00:59 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">hmm this one seems to be in the language of the pros.<br />
      sorry man my ssc skills are only limited. but i like the concept.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Grandchild</span><br />
      <p class="post-time small text-muted">28th November 2007 12:58 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">very nice. i really enjoyed playing with it and the galaxy-like shapes you can create when you leave the mouse still for some time.<br />
      the thing you're looking for to put it into one scope is called loop() and megabuf(). the first being a sort of "while" loop and the second one is one of the two built-in arrays.<br />
      i'd do it but i've got to so some homework first.<br />
      maybe i'll look into it again later tody or tomorrow...<br />
      amazing work!<br />
      gc<br />
      <br />
      /edit: made this :) i like this preset!<br />
      <a href="http://img440.imageshack.us/my.php?image=springavswm4.png" target="_blank">http://img440.imageshack.us/my.php?i...ringavswm4.png</a></p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">AJ Sindri</span><br />
      <p class="post-time small text-muted">29th November 2007 02:14 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content"><strong>Thx</strong><br />
      Thank for your comment. I saw you picture, Pretty sweet :cool:. Once you get your acceleration up, move your mouse in a line as the points are swrilling toward it to make a kind of tornado effect.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">ShatteredView</span><br />
      <p class="post-time small text-muted">30th November 2007 16:32 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">This is an awesome concept!<br />
      I think it would be cool to add some music response to it, possibly by fading or color change, but it's still awesome.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">AJ Sindri</span><br />
      <p class="post-time small text-muted">30th November 2007 23:00 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content"><strong>Music Based Mouse Swirl</strong><br />
      Thank for your comment. I seems that we think alike because I have already maded a music based swirl attractor, but I didn't post it because I'm still working on it, but I guess that that's what this forum is for.<br />
      <br />
      Sorry it's not the best. I'd love to hear your comments and criticism. I hope you like it:</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">PAK-9</span><br />
      <p class="post-time small text-muted">1st December 2007 21:16 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">AJ there is a simpler way than having to duplicate superscopes, it basically involves caching each line segment into the gmegabuf and reading them out to render in a loop. I recommend you read the programming guide for more help on loops in avs. Unfortunately the language gets very ugly with loops so I recommend getting avstrans... and to be honest, this particular problem wouldnt make for a simple introduction.<br />
      <br />
      There is an alternative time saver.. you can set a register (for example reg01) to 13 in a ssc right at the top of your preset, then in your ssc's that do the actual work, increment the register by 0.25 and use that as your det value. You would still need to delete and recreate each ssc on code chages, but it would just be deleting them and hitting x2 a load of times rather than manually editing each scope.<br />
      <br />
      [edit] nice preset btw :)[/edit]</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">HuRriC4nE</span><br />
      <p class="post-time small text-muted">23rd December 2007 17:29 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">that could be very cool in 3d...<br />
      but the movement would have to be created in random.<br />
      hm maybe i'll try something...<br />
      <br />
      right now i'm doing my 3d-flow stuff..</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">Nanakiwurkz</span><br />
      <p class="post-time small text-muted">24th December 2007 02:01 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">hmm i have a windows bounce detection on this so far in my remix but now that i think about the movement would be very easy to tranlaste to 3d. speaking of which that the lines move in a sort of fashion that reminds me of a delay effect that was used by Nic in his cubic ligation.<br />
      No one please use that theme till i try it out. i want to see what it would be like. i'm currently experimenting with counters and delay effects so i might be able to pull something out of my idiotic mind. rfol</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
    </div>
  </div><!-- Put JavaScript here -->
</body>
</html>
