<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="How to find beat per minute of a wave file?" />

  <title>How to find beat per minute of a wave file? - AVS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-85.html">AVS</a></li>

      <li class="active">How to find beat per minute of a wave file?</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=128217">How to find beat per minute of a wave file?</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">JSwing</span><br />
      <p class="post-time small text-muted">12th March 2003 18:24 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content"><strong>How to find beat per minute of a wave file?</strong><br />
      Hi, does anyone know how to write a java program to find the beat per minute of a wave file? any suggestion on how to find the algorithm of beat detection. I couldn't find any algorithm to find the beat per minute of a music.<br />
      <br />
      <br />
      Thanks,<br />
      <br />
      JSwing</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">UnConeD</span><br />
      <p class="post-time small text-muted">12th March 2003 20:31 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">This is not related to AVS in any way, but I'm in a good mood and I happen to be programming exactly the same as you're asking (but in C++ and with MP3s). So I'll be nice and help you out :rolleyes: .<br />
      <br />
      The easiest way is to split up the wave file into small pieces, do an FFT (fourier transform) on each of them and try to find a periodicity in it. In memory, you'll get what you see when you use a timescope in AVS.<br />
      By comparing the timescope data with itself shifted back in time and finding the offset at which the sum of the differences (or squared differences) is minimalised, you can get a good idea of the song's tempo. Then you can find the beat by searching for peaks if needed.<br />
      <br />
      I've had similar trouble locating something like this one the web so you'll need to do most things yourself.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">JSwing</span><br />
      <p class="post-time small text-muted">12th March 2003 21:21 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">Uncone, what do you mean by comparing the timescope? How do I find the timescope? Is your program in C++ working? Can you tell me what kind of algorithm to figure it out?<br />
      <br />
      Thanks,<br />
      <br />
      JSwing</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="post-author text-primary">UnConeD</span><br />
      <p class="post-time small text-muted">12th March 2003 22:09 <abbr title="Coordinated Universal Time<abbr title="Coordinated Universal Time">UTC</abbr></p></p>

      <p class="post-content">If FFT (fast fourier transform, it IS the algorithm) doesn't ring a bell, I'm sorry but you're going to need to read some more about signal analysis.<br />
      <br />
      Finding the BPM of a song is not a simple problem.<br />
      <br />
      To summarize:<br />
      - Use an FFT to find the spectrum for each part of the wave file<br />
      - Compare the FFT results of all the pieces with itself shifted back an increasing amount of time and find the shift offset for which the difference between the values is minimal<br />
      <br />
      To visualise the problem, start a new AVS preset and add a 'render / timescope' component. Make sure 'clear every frame' is off in the main section of the preset.<br />
      You should now see the FFT data being plotted along the time axis. For songs with a clear beat, you should see a pattern horizontally. This is what you need to determine through code.</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
    </div>
  </div><!-- Put JavaScript here -->
</body>
</html>
