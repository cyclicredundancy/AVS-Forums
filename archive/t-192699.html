<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">    <!-- Bootstrap core CSS -->
	<meta name="keywords" content=" Keyboard input, avs, advanced visualization studio, wvs, winamp visualization studio" />
	<meta name="description" content=" Keyboard input AVS" />
	
	<title> Keyboard input - Winamp Forums</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body>

<div class="container">
<ol class="breadcrumb">
  <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>
  <li><a href="f-85.html">AVS</a></li>
  <li class="active">Keyboard input</li>
</ol>
<!-- div class="pda"><a href="t-192699.html?login=1" rel="nofollow">Log in</a></div -->
<p class="lead text-muted">Archive: <a title="Try the Wayback Machine" target="_blank" href="http://web.archive.org/web/*/http://forums.winamp.com/showthread.php?t=192699">Keyboard input</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username text-primary">Crazy Dave</div><div class="date small text-muted">7th September 2004, 03:31</div></div>
<br />
<div class="posttext">I've been hunting all day trying to find information one how to get keyboard input working. I can do the mouse input X, Y, and left click (right click can not really be used because it jumps back to windowed avs)<br />
<br />
Can any one point me to help file or do they know them selves.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Warrior of the Light</div><div class="date small text-muted">7th September 2004, 08:07</div></div>
<br />
<div class="posttext">FAQ #16</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Digital Chaos</div><div class="date small text-muted">7th September 2004, 09:00</div></div>
<br />
<div class="posttext">Took a little bit, but I found the keycodes.  They are attached at the bottom. :)<br />
<br />
Ok I'll see if I can explain this one:<br />
<br />
To get keyboard/mouse input you use the function getkbmouse(value). I will get to the keys in a minute.<br />
<br />
Getting the current x and y positions of cursor:<br />
Start a new preset and add a superscope. Delete any code you see. Inside the init box, write n=2. Now make a  horizontal line, to do that write this in the per pixel box:<br />
<br />
x=(2*i)-1;<br />
y=0;<br />
<br />
Now add another superscope and make a vertical line. Delete any code you see and write n=2 in the init box as well. To make a vertical line, just switch the x and y code:<br />
<br />
x=0;<br />
y=(2*i)-1;<br />
<br />
<br />
You don't see any lines, yet because you specified to draw them as dots. To make them lines, select the radio button 'lines' where it says 'Draw as:' at the bottom right.<br />
<br />
Now, to get the current x and y positions of the mouse pointer, you use getkbmouse(value). Value will be 1 to get the x position, and 2 to get the y position. The function will return the curosrs' x and y coordinates, respectively.<br />
Add this to the horizontal superscope in the per frame box: mousey=getkbmouse(2);<br />
and change the statement y=0; in the pixel box to y=mousey;<br />
In the vertical superscope add mousex=getkbmouse(1); to the per frame box and change x=0; to x=mousex;<br />
<br />
You've got yourself a cross-hair that follows the cursor!<br />
<br />
On to the mouse buttons:<br />
To see if the user is pressing the left mouse button you use this: getkbmouse(3)<br />
It's return value will either be 0 (not pressed) or 1 (is pressed). The right mouse button is similar: getkbmouse(4)<br />
It will return either 0 or 1 depending on if the button is pressed down. To use this in code you would have to assign it to a variable like so:<br />
<br />
lmouse=getkbmouse(3);<br />
<br />
<br />
Let's add that to our scopes (both of them) in the frame box.<br />
Now in the pixel box add this:<br />
<br />
linesize=if(lmouse,10,1);<br />
<br />
All that does is assign linesize the value of 10 if lmouse is 1 (pressed), or the value of 1 if lmouse is 0 (not pressed). If you left-click in the visualization window, the lines &quot;grow&quot;.<br />
<br />
And finally keyboard input: :D<br />
<br />
OK, getting keyboard input is easy, just knowing which number to use isn't. To see if the ALT key is pressed you use getkbmouse(18). We'll add this to our scopes as well. At this point, the frame box for both scopes should look like this:<br />
<br />
alt=getkbmouse(18);<br />
mousex=getkbmouse(1);<br />
lmouse=getkbmouse(3);<br />
<br />
To put the ALT key to use we'll add this to the pixel box in both scopes:<br />
<br />
red=if(alt,1,1);<br />
green=if(alt,0,1);<br />
blue=if(alt,1,1);<br />
<br />
If the alt key is 1 (pressed) the colors will be purple, otherwise they will be white.<br />
<br />
Here's the zip file with all the key codes on it, ;)<br />
<br />
I hope I was helpful.</div></div><hr />
<div class="footer">
	<p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
</div>
</div>

</body>
</html>