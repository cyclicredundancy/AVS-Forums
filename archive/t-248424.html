<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
  <meta name="generator" content="HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 15.12), see www.w3.org" />
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Color mod code snippets AVS" />

  <title>Color mod code snippets - AVS Forums</title><!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" /><!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <div class="container">
    <!-- Put navigation bar here -->

    <ol class="breadcrumb">
      <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>

      <li><a href="f-85.html">AVS</a></li>

      <li class="active">Color mod code snippets</li>
    </ol>

    <p class="lead text-muted">Archive: <a title="Try the Internet Archive" target="_blank" href="http://web.archive.org/web/*/forums.winamp.com/showthread.php?t=248424">Color mod code snippets</a></p><br />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">ASD5A</span><br />
      <span class="date small text-muted">11th June 2006 12:24 GMT</span></p>

      <p class="post-content"><strong>Color mod code snippets</strong><br />
      this thread should provide examples of code for the color mod.ape.<br />
      <br />
      <br />
      <b>Per channel color reduction</b><br />
      init:<br />
      colred=[any value between 1 and 256]<br />
      colgreen=[any value between 1 and 256]<br />
      colblue=[any value between 1 and 256]<br />
      <br />
      channel:<br />
      red=floor(red*colred)/(colred-1);<br />
      green=floor(green*colgreen)/(colgreen-1);<br />
      blue=floor(blue*colblue)/(colblue-1);</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">Grandchild</span><br />
      <span class="date small text-muted">11th June 2006 23:18 GMT</span></p>

      <p class="post-content">tip for many simple conversions in the CMF:<br />
      define red channel, and then assign 'red' to the other two channels.<br />
      <br />
      a multiplier x3 can be just:<br /></p>
      <pre>
<code>red = red*3;<br />blue = red;<br />green = red;</code>
</pre><br />
      and it will be the same like<br />
      <pre>
<code>red = red*3;<br />blue = blue*3;<br />green = green*3;</code>
</pre><br />
      since the r,b and g values are equal each time [256 times that is] the level box is evaluated.<br />
      <br />
      <b>color edge</b> [a greyscale image needed for a 1-bit/b&amp;w color result]:<br />
      <pre>
<code>red = above(red,.5);<br />blue = red;<br />green = red;</code>
</pre><br />
      <br />
      <b>brighten image without clipping colors</b> [middle tones brightness]:<br />
      <pre>
<code>red = pow(red,x); // 0&lt;x&lt;1, the smaller the brighter<br />blue = red;<br />green = red;</code>
</pre>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">Tuggummi</span><br />
      <span class="date small text-muted">12th June 2006 07:33 GMT</span></p>

      <p class="post-content">Intensify colors by multiplying a channel with 1+value and then subtract that same value.<br />
      <br />
      ie.<br />
      value=0.5 ;<br />
      red=red*(1+value)-value ;<br />
      <br />
      And so on for the rest of the channels. You can also use it in reverse (make the value a - one to get less intense colors all the way up where everything is just white)</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">PAK-9</span><br />
      <span class="date small text-muted">12th June 2006 13:24 GMT</span></p>

      <p class="post-content">I'm going to be pedantic and point out some of the correct terminology because people are using the wrong words:<br />
      <br />
      <b>Brightness</b> is an additive equation<br />
      e.g. red = red + 0.1<br />
      blue = blue + (-0.5)<br />
      <br />
      <b>Contrast</b> is a multiplicative equation<br />
      e.g. red = red * 1.1<br />
      blue = blue * 0.9<br />
      <br />
      <br />
      <b>Gamma</b> is an exponential equation<br />
      e.g. red = pow(red,3)<br />
      blue = pow(blue,0.9)<br />
      <br />
      <b>Intensity</b> is an energy measurement (energy flux/time) but it doesnt mean very much on computers. The closest actual image processing term is 'luminence' (as in Hue, Saturation and) Tuggs example is a contrast adjustment followed by a brightness reduction</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">Tuggummi</span><br />
      <span class="date small text-muted">12th June 2006 13:39 GMT</span></p>

      <p class="post-content">And it makes the colors more intense.</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">PAK-9</span><br />
      <span class="date small text-muted">12th June 2006 17:34 GMT</span></p>

      <p class="post-content">I think it makes them more rubbery</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">ASD5A</span><br />
      <span class="date small text-muted">12th June 2006 17:49 GMT</span></p>

      <p class="post-content"><b>gradiation curve</b><br />
      this allows you to increase the contrast in middle tone or dark and bright areas.<br />
      linear curve:<br />
      <a href="http://img150.imageshack.us/img150/9653/linear5ai.th.jpg" target="_blank">http://img150.imageshack.us/img150/9...near5ai.th.jpg</a><br />
      curve with increased midtone contrast:<br />
      <a href="http://img297.imageshack.us/img297/8508/gradiationcurves8bn.th.jpg" target="_blank">http://img297.imageshack.us/img297/8...rves8bn.th.jpg</a><br />
      init or frame: midcon=[-1,1] //0=&gt;no changes<br />
      //below 0=&gt; low contrast in midtones<br />
      //above 0=&gt; high contrast in midtones<br />
      someval=pow(8,-midcon);<br />
      <br />
      channel: red=0.5*pow(abs(2*red-1),someval)*sign(2*red-1)+0.5;</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">jheriko</span><br />
      <span class="date small text-muted">12th June 2006 18:34 GMT</span></p>

      <p class="post-content">Time independent fadeout effect. The line on frame, "f=pow(.8,30*dt);" sets the speed and curve of the fadeout, tweak the values of .8 between 0..1 and the 30 between 0..+inf to see how to use it...<br />
      <br />
      init:<br />
      lasttime=gettime(0);<br />
      <br />
      frame:<br />
      t=gettime(0);dt=t-lasttime;lasttime=t;<br />
      f=pow(.8,30*dt);<br />
      <br />
      level:<br />
      red=red*f;<br />
      blue=red;<br />
      green=red;</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">ASD5A</span><br />
      <span class="date small text-muted">12th June 2006 18:57 GMT</span></p>

      <p class="post-content">here is a example of my midtone contrast color mod</p>
    </div>
    <hr />

    <div class="post">
      <p class="post-meta"><span class="username text-primary">ASD5A</span><br />
      <span class="date small text-muted">12th June 2006 21:20 GMT</span></p>

      <p class="post-content"><b>custom chrome effect triangle wave like</b><br />
      init: nc=[1-256 number of cycles]<br />
      <br />
      level: someval=floor(red*nc);<br />
      red=if(someval%2,1-(red*nc-someval),(red*nc-someval));<br />
      <br />
      <b>custom chrome effect sine wave like</b><br />
      init: nc=[1-256 number of cycles]<br />
      channel: red=0.5-0.5*cos(red*$pi*nc);</p>
    </div>
    <hr />

    <div class="footer">
      <p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
    </div>
  </div><!-- Put JavaScript here -->
</body>
</html>
