<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">    <!-- Bootstrap core CSS -->
	<meta name="keywords" content=" Dwah!  Crazy random flashing, avs, advanced visualization studio, wvs, winamp visualization studio" />
	<meta name="description" content=" Dwah!  Crazy random flashing AVS Troubleshooting" />
	
	<title> Dwah!  Crazy random flashing - Winamp Forums</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootswatch/3.0.1/readable/bootstrap.min.css" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body>

<div class="container">
<ol class="breadcrumb">
  <li><a href="../index.html" class="glyphicon glyphicon-home"></a></li>
  <li><a href="f-85.html">AVS</a></li>
  <li><a href="f-139.html">AVS Troubleshooting</a></li>
  <li class="active"> Dwah!  Crazy random flashing</li>
</ol>
<!-- div class="pda"><a href="t-118139.html?login=1" rel="nofollow">Log in</a></div -->
<p class="lead text-muted">Archive: <a title="Try the Wayback Machine" target="_blank" href="http://web.archive.org/web/*/http://forums.winamp.com/showthread.php?t=118139">Dwah!  Crazy random flashing</a></p>
<hr />

<div class="post"><div class="posttop"><div class="username text-primary">Clinical</div><div class="date small text-muted">16th December 2002, 22:40</div></div>
<br />
<div class="posttext">Ok, I'm sure one of you intelligent folks on here can answer this one.  I assume this is because of the DM, but... this one preset of mine is plagued by crazy flashing colours.  When the music isn't really going (if you know what I mean), all it does is make the screen flash bright colours.  If I get my zip utility up and running, I'll post it; or, if it'll help, I'll post my code.<br />
<br />
Sorry to keep asking all these questions... but hey, that's how ya learn, right?  Right?  :weird:</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">16th December 2002, 23:41</div></div>
<br />
<div class="posttext">It's your DM :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Clinical</div><div class="date small text-muted">16th December 2002, 23:55</div></div>
<br />
<div class="posttext">Thanks for the help... :p<br />
<br />
But seriously, here's the code:<br />
init:<br />
pi=acos(-1); e=exp(1); pie=exp(pi);<br />
<br />
beat:<br />
bpie=rand(100*pie)/e;<br />
<br />
pixel:<br />
r=r*pie;<br />
d=d*bpie;Spot anything wrong?</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">17th December 2002, 02:52</div></div>
<br />
<div class="posttext">Other than the fact that you're going about this COMPLETELY the wrong way...<br />
r=r*pi*e is going to be really ugly, since pi*e isn't an integer.  The rand(var) function ONLY supports integers, so rand(pi*e*100) is pointless and slow.  Now the reason it's flashing is because you're multiplying d by a random number from 0 to 314.  The only place where it *wouldn't* start flashing is if that number was from 1 to maybe 15, or about 10% of the time.  When you multiply d by a number, you're moving the picture 'back' by that number minus one; 0 will move it all the way forward (so you don't see anything except the middle pixel), 1 does nothing, 2 moves it back 1 (makes it half-size), et cetera.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Clinical</div><div class="date small text-muted">17th December 2002, 20:31</div></div>
<br />
<div class="posttext">So you're saying that d and r can only be integers?  That would explain a lot... :rolleyes: <br />
Ok, I fixed the code up so there's no irrational numbers in the random statement, and made it so that d and r are integers.  I also fixed it so that d will never be 0 (which I assume was causing some of the problems I was having).  Thanks very much for the help.<br />
<br />
If you care, or if you wanna try and spot more errors, here's the updated code.<br />
Init: same as before<br />
<br />
Beat:<br />
bpie=(rand(100)+1)*(pie/e);<br />
<br />
Pixel:<br />
ppie=bpie%sqrt(bpie);<br />
r=r*ppie;<br />
d=1/(d*ppie);Have I finally got this right? :igor:</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">17th December 2002, 22:04</div></div>
<br />
<div class="posttext">No, I'm saying that if you multiply r by a floating point value then the image is going to be repeated in a circle only partially; for that kind of movement you want to repeat the image n times where n is integral (so you don't get ugly clashing edges).<br />
The modulo function (%) only supports counting numbers (positive integers greater than one).<br />
<br />
And you're still coding randomly...think carefully before you type something in.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Clinical</div><div class="date small text-muted">24th December 2002, 01:50</div></div>
<br />
<div class="posttext">Yeah, well... coding randomly is what I do, okay?  I don't quite *know* how to properly code, but I'm gonna keep on doing it, because it's fun. :p  That's my style, so to speak, and I can't change it.  And hey, just because you don't understand my lack of proper method, doesn't mean that I don't think about what I code before I do it.  I'm not a math and/or programming guru like you guys, nor do I have the patience to sit here for hours on end and teach myself how to use AVS &quot;properly&quot;.  I just play around, try new things, and see what happens without really knowing why.  I know, right about now you're thinking that I'm not a true AVS artist and I don't belong on here, but I honestly don't care what you think.  I'm doing this because I enjoy it, and because my presets look neat.  I don't make technically proficient presets, or ones that make you go &quot;holy shit, look at that math&quot;; I make flashy, shiny, trippy, cool-looking presets.  And I'll just leave it at that.  One of these days, I'll finish my pack, and I'll submit it to the website, and you and all the other &quot;true&quot; AVS artists can tear it apart then.  Until then, I'll stop bothering you with moronic questions. :)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Jaheckelsafar</div><div class="date small text-muted">24th December 2002, 07:02</div></div>
<br />
<div class="posttext">Looks to me like it's this part.<br />
ppie=bpie%sqrt(bpie); <br />
 <br />
<br />
the modulus of bpie and the square root of bpie is always going to be 0. In the next 2 lines the DM is saying get the colour for r at r=0, the make d equal to whatever's at d=1/0 (which is undefided, but doesn't crash AVS)</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">uNDefineD</div><div class="date small text-muted">24th December 2002, 07:11</div></div>
<br />
<div class="posttext">Originally posted by Jaheckelsafar <br />
(which is undefided, but doesn't crash AVS) <br />
<br />
I should certainly hope not!!! :p</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Clinical</div><div class="date small text-muted">26th December 2002, 00:01</div></div>
<br />
<div class="posttext">Yeah, I was playing around with it a bit and fixed that up.  I just realized that a number divided by its square root IS its square root... damn, I'm stupid. :p  For now, I changed it to read ppie=pow(bpie,(2/3)), and it works much better now... although the shapes it produces are a tad different, it doesn't flash anymore.  I'm still tweaking it to find something even more interesting.<br />
<br />
Thanks for the input and the help, everybody.</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">26th December 2002, 07:05</div></div>
<br />
<div class="posttext">That's still going to give you a floating point; which is still going to give you an uneven movement.  Use an integer n for r=r*n</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">Clinical</div><div class="date small text-muted">1st January 2003, 06:21</div></div>
<br />
<div class="posttext">Ack... okay, after much drunken messing around, I came up with a way to get an interesting random integer for n in r=r*n:<br />
<br />
Beat:<br />
mr=((rand(100)+0.1)%rand(100))+1<br />
<br />
Pixel:<br />
r=r*mr<br />
<br />
At least, I think that's what I used (I have since closed Winamp, and I don't want to start it up again, because my computer is a piece of crap).  I know it's hideously inefficient, but dammit, I really don't care anymore. :p  Bah, whatever, at least it works.  And now I'm going to bed.  You'll all get to see the finished product when I get around to finishing my pack (which I will do soon, I promise, because I only have a couple weeks left of school and will consequently have lots of free time on my hands).<br />
<br />
Oh, and sorry for rambling.  Happy new year, all. :D</div></div><hr />


<div class="post"><div class="posttop"><div class="username text-primary">dirkdeftly</div><div class="date small text-muted">1st January 2003, 07:25</div></div>
<br />
<div class="posttext">Since the rand(var) function only returns integers in the first place, you don't need to do that.  Just use mr=rand(8)+1.</div></div><hr />
<div class="footer">
	<p class="text-muted small">Fork me on <a href="https://github.com/visbot/AVS-Forums/">GitHub</a></p>
</div>
</div>

</body>
</html>